/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Wo=Object.defineProperty;var In=Object.getOwnPropertyDescriptor;var An=Object.getOwnPropertyNames;var Mn=Object.prototype.hasOwnProperty;var Tt=(r,o)=>{for(var e in o)Wo(r,e,{get:o[e],enumerable:!0})},Dn=(r,o,e,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of An(o))!Mn.call(r,i)&&i!==e&&Wo(r,i,{get:()=>o[i],enumerable:!(t=In(o,i))||t.enumerable});return r};var Fn=r=>Dn(Wo({},"__esModule",{value:!0}),r);var $a={};Tt($a,{default:()=>zo});module.exports=Fn($a);var T=require("obsidian");var x=require("obsidian");var ke=require("obsidian");var jo={};Tt(jo,{command:()=>Nn,default:()=>Hn,export:()=>Pn,import:()=>Ln,notice:()=>On,plugin:()=>Vn,setting:()=>Bn,toolbar:()=>_n});var Nn={"name-focus":"Fokus","name-item-suggester":"Schnellwahl \xF6ffen","name-toolbar-suggester":"\xD6ffne Schnellwahl","name-copy-command-uri":"URI f\xFCr Befehl kopieren","name-copy-command-as-data-element":"Callout Element f\xFCr Befehl kopieren","copy-command-notice":"Befehl in Zwischenablage kopiert","name-settings":"Plugin-Einstellungen \xF6ffnen","name-toolbar-settings":"Toolbar-Einstellungen \xF6ffnen","name-show-properties":"Eigenschaften anzeigen","name-hide-properties":"Eigenschaften ausblenden","name-fold-properties":"Eigenschaften einklappen","name-toggle-properties":"Eigenschaften-Anzeige umschalten"},Pn={"item-generic":"Element{{number}}","label-callout":"Als Hinweis kopieren","label-share":"Teilen...","label-share-description":"Teile diesen Link mit einem anderen Note Toolbar-Nutzer, um deine Toolbar zu seinem Vault hinzuzuf\xFCgen.","label-share-preview":"Vorschau","title-share":"Toolbar teilen: {{toolbar}}","button-copy-link":"Link kopieren","button-copy-link-description":"Kopiere diesen Link in die Zwischenablage","notice-completed":"Toolbar als Hinweis in die Zwischenablage kopiert. \xD6ffne die Einstellungen, um das Format anzupassen.","notice-shared":"Note Toolbar-Link in die Zwischenablage kopiert","warning-share-menu":"Diese Toolbar verweist auf mindestens eine andere Toolbar, die der Empf\xE4nger nicht erhalten wird.","warning-share-length":"Einige Webbrowser k\xF6nnen m\xF6glicherweise keine URLs laden, die l\xE4nger als 2.048 Zeichen sind.","option-uri":"Obsidian URI verwenden","option-uri-description":"Bietet einen obsidian://-Link anstelle einer https://-URL."},Ln={"title-import":"Toolbar aus Hinweis erstellen","title-import-confirmation":"Note Toolbar erstellen: {{toolbar}}","title-import-into":"Hinweis-Elemente zu Toolbar hinzuf\xFCgen: {{toolbar}}","label-import-confirmation":"Best\xE4tige, dass du diese Toolbar hinzuf\xFCgen m\xF6chtest. Sobald sie hinzugef\xFCgt ist, muss diese Toolbar einem oder mehreren Notizen zugeordnet werden.","label-import":"F\xFCge unten einen Note Toolbar-Hinweis ein, und er wird als neue Toolbar hinzugef\xFCgt.","label-import-into":"F\xFCge unten einen Note Toolbar-Hinweis ein, und seine Elemente werden zu dieser Toolbar hinzugef\xFCgt.","label-import-into-help":"Die \xDCberschrift des Hinweises ist nicht erforderlich und wird ignoriert, falls vorhanden.","button-add-items":"Elemente hinzuf\xFCgen","button-cancel":"Abbrechen","button-create":"Erstellen","button-confirm":"Best\xE4tigen","option-create":"Note Toolbar aus Hinweis erstellen...","option-help":"\xDCber Note Toolbar-Hinweise","button-import-tooltip":"Toolbar aus Hinweis erstellen","button-import-into-tooltip":"Toolbarelemente aus Hinweis hinzuf\xFCgen","error-invalid-uri-content":"Note Toolbar: Es scheint ein Problem mit diesem Link zu geben. \xDCberpr\xFCfe, ob die URI korrekt ist, oder schaue im Benutzerhandbuch nach.","errorlog-heading":"Fehler w\xE4hrend des Toolbar-Imports gefunden:","errorlog-item":"Element {{number}}:","errorlog-command-not-recognized":"Befehl nicht erkannt: {{command}}","errorlog-icon-not-found":"Icon nicht gefunden: {{icon}}","errorlog-invalid-format":"Ung\xFCltiges Format: {{line}}","errorlog-invalid-styles":"Ung\xFCltige(r) Stil(e) ignoriert: {{styles}}","errorlog-menu-not-found":"Men\xFC nicht gefunden: {{menu}}","placeholder-import-into":"> Note Toolbar-Hinweis-Markdown...","warning-invalid-plugins":"Diese Toolbar verwendet Plugins, die bei dir nicht installiert und aktiviert sind:","warning-vars":"Diese Toolbar verwendet Variablen, die du anpassen kannst, um sie mit deinem Vault zu verwenden."},On={"error-command-not-found":"\xDCberpr\xFCfung der Note Toolbar Einstellungen auf diesen Befehl. Befehl nicht gefunden: {{command}}","error-folder-not-found":"\xDCberpr\xFCfung der Note Toolbar Einstellungen auf diesen Ordner. Ordner nicht gefunden: {{folder}}","error-item-menu-not-found":"\xDCberpr\xFCfung der Note Toolbar Einstellungen auf diesen Men\xFC-Punkt. Toolbar nicht gefunden: {{toolbar}}","error-toolbar-not-found":"\xDCberpr\xFCfung der Note Toolbar Einstellungen auf diese Toolbar. Toolbar nicht gefunden: {{folder}}","error-uri-params-not-supported":"Einer oder mehrere dieser Note Toolbar-URI-Parameter werden nicht unterst\xFCtzt: {{params}}"},Vn={name:"Note Toolbar"},Bn={"button-cancel":"Abbrechen","button-collapse-tooltip":"Abschnitt schlie\xDFen","button-delete-tooltip":"L\xF6schen","button-drag-tooltip":"Ziehen zum Umsortieren","button-expand-tooltip":"Abschnitt erweitern","button-help":"Hilfe","button-help-tooltip":"Hilfe-Fenster \xF6ffnen","button-learn-more":"Mehr\xA0erfahren","button-user-guide":"Benutzer\xA0Handbuch","button-whats-new":"Was ist\xA0neu?","button-whats-new-tooltip":"Was ist neu-Fenster \xF6ffnen","error-old-settings-name":"\u26A0\uFE0F Fehler: Bitte Note Toolbar deaktivieren und reaktivieren, oder Obsidian neustarten.","error-old-settings-description":"Alte Einstellungsdatei geladen ({{oldVersion}}), aber aktuellste ist {{currentVersion}}","option-platform-desktop":"Desktop","option-platform-mobile":"Mobile","title-edit-toolbar":"Toolbar bearbeiten: {{toolbar}}","title-edit-toolbar_none":"Toolbar bearbeiten","command-suggest-modal":{placeholder:"Nach einem Befehl suchen...","instruction-navigate":"zum Navigieren","instruction-use":"zum Ausw\xE4hlen des Befehls","instruction-dismiss":"zum Schlie\xDFen"},"copy-as-callout":{title:"Als Hinweis kopieren",description:"Definiere, was passiert, wenn Toolbars in Callouts umgewandelt werden.","option-icons":"Symbole einbeziehen","option-icons-description":"F\xFCge Symbol-Platzhalter zu Callouts hinzu. (Beispiel: :LiHome:) Das Iconize-Plugin muss installiert und aktiviert sein, um Symbole anzuzeigen. Wenn es deaktiviert ist, werden Tooltips verwendet, falls keine Beschriftungen gesetzt sind. Symbole k\xF6nnen von anderen Benutzern importiert werden.","option-vars":"Variablen ersetzen","option-vars-description":"Alle im Toolbar verwendeten Variablen werden durch Werte aus der aktuell ge\xF6ffneten Notiz ersetzt. Beispiel: {{note_title}} \u2192 Meine Notiz","option-ids":"IDs in Men\xFCpunkten verwenden","option-ids-description":"Dies stellt sicher, dass Men\xFCpunkte weiterhin funktionieren, wenn die Men\xFC-Toolbar umbenannt wird. Wenn du Hinweise teilen m\xF6chtest, schalte dies aus und der Name der Toolbar wird verwendet.","option-data":"Daten-Elemente verwenden","option-data-description":"Daten-Elemente erm\xF6glichen es, dass Toolbars in neuen Fenstern weiterhin funktionieren. Wenn deaktiviert, werden Note Toolbar-URIs anstelle von Daten-Elementen verwendet, was auch f\xFCr saubereres Markdown sorgt."},"delete-toolbar":{name:"Diese Toolbar l\xF6schen",description:"Dies kann nicht r\xFCckg\xE4ngig gemacht werden.",title:"Toolbar l\xF6schen: {{toolbar}}","button-delete":"L\xF6schen...","button-delete-confirm":"L\xF6schen","button-delete-tooltip":"Diese Toolbar l\xF6schen","label-delete-confirm":"Sind Sie sicher, dass sie diese Toolbar l\xF6schen m\xF6chten?"},"display-rules":{name:"Anzeigeregeln",description:"Einstellung bei welchen Notizen eine Toolbar angezeigt wird.","option-property":"Eigenschaft","option-property-description":"Wenn in dieser Eigenschaft ein Symbolleistenname gefunden wird, wird die Symbolleiste in der Notiz angezeigt. Sie hat Vorrang vor allen Ordnerzuordnungen. Setzen Sie sie auf \u201Enone\u201C, um die Symbolleiste auszublenden.","option-property-placeholder":"Eigenschaft"},help:{title:"Hilfe zur Verwendung der Note Toolbar \u{1F6DF}",description:"Erstelle kontextabh\xE4ngige Toolbars f\xFCr deine Notizen.","button-donate":"Spenden \u2197","button-donate-tooltip":"buymeacoffee.com \xF6ffnen","button-open":"\xD6ffnen \u2197","button-open-github":"github.com \xF6ffnen","button-open-google":"google.com \xF6ffnen","button-read":"Lesen \u2197","label-article-1":"Erstellen von Toolbarelementen","label-article-1-description":"Lerne die verschiedenen Typen von Elementen kennen.","label-article-2":"Note Toolbar-Hinweise","label-article-2-description":"Lerne, wie du Toolbars in deinen Notizen erstellst.","label-bug":"Einen Fehler melden","label-bug-description":"Ein Problem gefunden? Bitte logge einen Fehler in GitHub oder f\xFClle dieses Google-Formular aus.","label-donate":"Kauf mir einen Kaffee","label-donate-description":"Wenn du dieses Plugin n\xFCtzlich findest und mich finanziell unterst\xFCtzen m\xF6chtest, kannst du eine Spende in Betracht ziehen. Vielen Dank!","label-feedback":"Feedback geben","label-feedback-description":"Nutze dieses Google-Formular f\xFCr Feedback, Fragen, Probleme oder Ideen, die du hast.","label-support":"Unterst\xFCtzung erhalten","label-support-description":"Besuche die Foren auf GitHub, um der Community Fragen zu stellen.","label-user-guide":"Benutzerhandbuch lesen","label-user-guide-description":"Erfahre, wie du das Plugin optimal nutzen kannst, inklusive Tipps und Beispielen."},"icon-suggester":{"option-no-icon":"Kein Symbol",placeholder:"Symbol suchen","instruction-navigate":"zum Navigieren","instruction-use":"zur Verwendung","instruction-dismiss":"zum Verwerfen"},item:{"button-duplicate-tooltip":"Dieses Element duplizieren","button-icon-tooltip":"Symbol w\xE4hlen (optional)","label-preview-edit":"Toolbar bearbeiten: {{toolbar}}","label-preview-empty-no-items":"Keine Elemente. Toolbar bearbeiten, um Elemente hinzuzuf\xFCgen.","option-break":"Umbruch","option-command":"Befehl","option-command-error-does-not-exist":"Dieser Befehl existiert nicht.","option-command-error-not-available-install":"Dieser Befehl ist nicht verf\xFCgbar. Das Plugin muss installiert und aktiviert sein.","option-command-error-not-available-search":"Dieser Befehl kann nicht gefunden werden. Versuche es erneut zu suchen.","option-command-error-refresh":"Aktualisieren","option-command-placeholder":"Befehl suchen","option-component-icon":"Symbol","option-component-label":"Bezeichnung","option-file":"Datei","option-file-placeholder":"Datei oder Ordner suchen","option-file-error-does-not-exist":"Datei oder Ordner existiert nicht.","option-item-group":"Element-Gruppe","option-item-group-placeholder":"Toolbar","option-item-group-help":"Symbolleiste ausw\xE4hlen, um sie in diese einzuf\xFCgen.","option-item-group-error-does-not-exist":"Toolbar exisitert nicht.","option-item-group-error-invalid":"\u26A0\uFE0F Ung\xFCltige Elementgruppe","option-item-menu":"Element-Men\xFC","option-item-menu-placeholder":"Toolbar","option-item-menu-help":"Toolbar w\xE4hlen, um sie als Men\xFC zu \xF6ffnen.","option-item-menu-error-does-not-exist":"Toolbar existiert nicht.","option-label-placeholder":"Bezeichnung (optional, bei Symbolwahl)","option-separator":"Trenner","option-tooltip-placeholder":"Tooltip (optional)","option-uri":"URI","option-uri-placehoder":"Webseite, URI oder Notiztitel","option-uri-help":"Tipp: Verwenden Sie Notiz-Eigenschaften in URIs.","option-visibility-component-hidden-platform":"{{component}} ausgeblendet auf {{platform}}","option-visibility-component-visible-platform":"{{component}} sichtbar auf {{platform}}","option-visibility-hidden":"ausgeblendet","option-visibility-hidden-platform":"ausgeblendet auf {{platform}}","option-visibility-visible-platform":"sichtbar auf {{platform}}","option-visibility-platform-desktop":"Desktop","option-visibility-platform-mobile":"Mobile"},"item-suggest-modal":{placeholder:"Element suchen...","instruction-back":"zum Zur\xFCckgehen","instruction-navigate":"zum Navigieren","instruction-use":"zum Verwenden des Elements","instruction-dismiss":"zum Schlie\xDFen","key-back":"\u232B oder \u2190","key-navigate":"\u2191\u2193","key-use":"\u21B5","key-dismiss":"Esc"},items:{name:"Elemente","name-with-count":"Elemente ({{count}})",description:"Elemente zur Toolbar hinzuf\xFCgen, in Reihenfolge.","label-empty-no-items":"Keine Toolbar-Elemente.","button-add-break-tooltip":"Zeilenumbruch zur Toolbar hinzuf\xFCgen.","button-add-separator-tooltip":"Trenner zur Toolbar hinzuf\xFCgen","button-new-item":"+ Toolbar-Element hinzuf\xFCgen","button-new-item-tooltip":"Neues Element der Toolbar hinzuf\xFCgen","option-item-empty-label":"Keine Bezeichnung festgelegt","option-edit-item-group-tooltip":"Element-Gruppe bearbeiten: {{toolbar}}","option-edit-item-group-tooltip_none":"Element-Gruppe bearbeiten","option-edit-item-tooltip":"Toolbar-Element bearbeiten","option-edit-item-type-tooltip":"Bearbeiten {{itemType}}"},mappings:{name:"Ordnerzuweisungen","name-with-count":"Ordnerzuweisungen ({{count}})",description:"Notizen in den unten aufgef\xFChrten Ordnern zeigen die zugewiesene Toolbar an. Die Reihenfolge wird von oben nach unten priorisiert.","label-empty":"Klicke auf die Schaltfl\xE4che, um eine Zuweisung zu erstellen.","placeholder-folder":"Ordner","placeholder-toolbar":"Toolbar","button-collapse-tooltip":"Alle Zuweisungen einklappen","button-expand-tooltip":"Alle Zuweisungen ausklappen","button-new":"+ Neue Zuweisung","button-new-tooltip":"Eine neue Zuweisung hinzuf\xFCgen","option-folder-all":"Alle Ordner","option-folder-root":"Nur Hauptordner","error-folder-already-mapped":"Dieser Ordner hat bereits eine zugewiesene Toolbar."},name:{name:"Name",description:"Dieser Toolbar einen eindeutigen Namen geben.","error-toolbar-already-exists":"Eine Toolbar mit diesem Namen existiert bereits."},other:{name:"Sonstiges",icon:{name:"Symbol",description:"Legt das Symbol f\xFCr die schwebende Schaltfl\xE4che und die Navigationsleiste (mobil) fest. Erfordert einen Neustart.",tooltip:"Symbol w\xE4hlen"},"ribbon-action":{name:"Aktion des Ribbon-Icons \u{1F4F1}",description:"Aktion, die ausgef\xFChrt wird, wenn das Ribbon-Icon (auf Mobilger\xE4ten) verwendet wird.","option-toolbar":"Aktuelle Toolbar anzeigen","option-item-suggester":"Alle Werkzeuge anzeigen","option-toolbar-suggester":"Alle Toolbars anzeigen"},"show-edit-tbar":{name:"Zeige 'Toolbar bearbeiten' in Toolbar-Men\xFCs",description:"F\xFCgt ein Element f\xFCr den Zugriff auf die Einstellungen der Symbolleiste in den Men\xFCs der Symbolleiste hinzu."}},position:{name:"Position",description:"Positionierung der Toolbar.","option-mobile-help":"Tipp: Greifen Sie \xFCber die Navigationsleiste auf die Symbolleisten zu.","option-fabl":"schwebende Schaltfl\xE4che: links","option-fabr":"schwebende Schaltfl\xE4che: rechts","option-hidden":"ausgeblendet","option-hidden-mobile":"ausgeblendet / Navigationsleiste","option-props":"unterhalb der Eigenschaften","option-top":"oben (fixiert)"},styles:{name:"Stile",description:"Liste der Stile, die auf die Symbolleiste angewendet werden sollen.",help:"Passen Sie noch mehr an mit dem Style Settings Plugin.","option-autohide":"automatisch ausblenden*","option-autohide-disclaimer":"Automatisches Ausblenden funktioniert nicht auf Mobilger\xE4ten.","option-between":"Abstand zwischen den Elementen","option-border":"Rand","option-button":"Schaltfl\xE4chenelemente","option-center":"Elemente zentrieren","option-even":"Elemente gleichm\xE4\xDFig verteilen","option-floatl":"nach links schwebend*","option-floatl-disclaimer":"Schwebend nach links funktioniert nur innerhalb von Callouts.","option-floatr":"nach rechts schwebend*","option-floatr-disclaimer":"Schwebend nach rechts funktioniert nur innerhalb von Callouts.","option-left":"Elemente links ausrichten","option-noborder":"kein Rand","option-nofloat":"kein Schwebend","option-notsticky":"nicht fixiert","option-nowrap":"Elemente nicht umschlie\xDFen*","option-nowrap-disclaimer":"Funktioniert am besten, wenn Elemente nicht gleichm\xE4\xDFig verteilt oder zentriert sind.","option-nowide":"Inhaltbreite*","option-nowide-disclaimer":"Inhaltbreite funktioniert nur, wenn die Symbolleistenposition oben (fest) ist.","option-right":"Elemente rechts ausrichten","option-sticky":"fixiert*","option-sticky-disclaimer":"Fixiert funktioniert nicht im Lesemodus.","option-wide":"Editorbreite*","option-wide-disclaimer":"Editorbreite funktioniert nur, wenn die Symbolleistenposition oben (fest) ist.","option-default-name":"Standard","option-default-description":"Gilt f\xFCr alle Plattformen, sofern nicht \xFCberschrieben.","option-default-empty":"Keine Standardstile festgelegt.","option-mobile-name":"Mobil","option-mobile-description":"Standardstile \xFCberschreiben.","option-mobile-empty":"Keine mobilen Stile festgelegt. Verwende Standardstile.","style-tooltip-use-class":"In Callout oder CSS verwenden: {{class}}","style-remove-tooltip":"Entfernen"},"toolbar-suggest-modal":{placeholder:"Nach einer Toolbar suchen...","instruction-navigate":"zum Navigieren","instruction-use":"zum \xD6ffnen der Toolbar","instruction-dismiss":"zum Schlie\xDFen"},toolbars:{name:"Toolbars","name-with-count":"Toolbars ({{count}})",description:"Definieren Sie die Toolbars, die Sie zu Ihren Notizen hinzuf\xFCgen m\xF6chten.","button-collapse-tbars-tooltip":"Alle Toolbars minimieren","button-duplicate-tbar-tooltip":"Diese Toolbar duplizieren","button-edit-tbar":"Bearbeiten","button-expand-tbars-tooltip":"Alle Toolbars erweitern","button-edit-tbar-tooltip":"Diese Toolbar erweitern","button-new-tbar":"+ Neue Toolbar","button-new-tbar-tooltip":"Neue Toolbar hinzuf\xFCgen","duplicated-tbar-suffix":"Kopieren","label-empty-create-tbar":"Klicken Sie auf die Schaltfl\xE4che, um eine Toolbar zu erstellen.","label-tbar-name-not-set":"\u26A0\uFE0F Toolbar-Name nicht festgelegt"},usage:{name:"Verwendung",description:"Diese Toolbar wird in {{mappingCount}} Zuordnung(en) und {{itemCount}} Toolbar-Element(en) verwendet..","description-search":"Nach der Verwendung von Eigenschaften suchen"},"whats-new":{title:"Was gibt es Neues in Note Toolbar?","button-read":"Lesen \u2197","button-read-tooltip":"github.com \xF6ffnen","label-release-notes":"Versionshinweise","label-release-notes-description":"Detaillierte Hinweise zu den neuesten Versionen findest du auf GitHub.","label-roadmap":"Was steht f\xFCr Note Toolbar an?","label-roadmap-description":"Sieh dir die Roadmap an, um einen Blick auf die in Betracht gezogenen Funktionen zu werfen."}},_n={"button-floating-tooltip":"Note Toolbar \xF6ffnen","menu-edit-toolbar":"Toolbar bearbeiten: {{toolbar}}...","menu-position":"Position festlegen","menu-toolbar-settings":"Note Toolbar Einstellungen..."},Hn={command:Nn,export:Pn,import:Ln,notice:On,plugin:Vn,setting:Bn,toolbar:_n};var $o={};Tt($o,{adapter:()=>Rn,api:()=>Un,command:()=>qn,default:()=>Kn,export:()=>zn,import:()=>Wn,notice:()=>jn,plugin:()=>$n,setting:()=>Gn,toolbar:()=>Jn});var Rn={args:"Arguments (optional)","args-description":"Arguments accepted by your script function, in comma-separated 'name: value' format, with string values in quotes.",outputcontainer:"Output callout ID (optional)","outputcontainer-description":"Add a note-toolbar-output callout with a unique meta field to your note to put text output.",postCommand:"Command after execution (optional)","postCommand-description":"Command to run after the script completes.",dataview:{"error-general":"Dataview error: Check console for more details.\n```\n{{error}}\n```","dvjs-function":"Evaluate Dataview JS expression","dvjs-expr":"Dataview JS expression","dvjs-expr-description":"Dataview JS expression to evaluate.","dvjs-expr-error-required":"Error: A Dataview JS expression is required","exec-function":"Execute JavaScript","exec-sourcefile":"JavaScript file","exec-sourcefile-description":"Dataview JS file to execute.","exec-error-required":"Error: A script file is required","eval-function":"Evaluate Dataview expression","eval-expr":"Dataview expression","eval-expr-description":"Dataview expression to evaluate.","eval-expr-error-required":"Error: A Dataview expression is required","query-function":"Execute query","query-expr":"Query","query-expr-description":"Dataview query to evaluate.","query-expr-error-required":"Error: A Dataview query is required"},"js-engine":{"exec-function":"Execute JavaScript","exec-sourcefile":"JavaScript file","exec-sourcefile-description":"JavaScript file to execute.","exec-sourcefile-error-required":"Error: A JavaScript file is required","importexec-function":"Import and execute JavaScript","importexec-sourcefile":"JavaScript file","importexec-sourcefile-description":"JavaScript file to import. Note that this file is only imported once. You may have to restart Obsidian in order to pick up changes.","importexec-sourcefile-error-required":"Error: A JavaScript file is required","importexec-sourcefunction":"Function (optional)","importexec-sourcefunction-description":"If the script has functions, function name to execute.","importexec-args":"Arguments (optional)","importexec-args-description":"Arguments accepted by your script function, in comma-separated 'name: value' format, with string values in quotes."},templater:{"append-function":"Insert template","append-sourcefile":"Template","append-sourcefile-description":"Template file to insert.","append-sourcefile-error-required":"Error: A template file is required","create-function":"Create new note from template","create-sourcefile":"Template","create-sourcefile-description":"Template file to create a new file from.","create-sourcefile-error-required":"Error: A template file is required","create-outputfile":"Output filename (optional)","create-outputfile-description":"Name of the file (without file extension) and folder(s) to create, from the provided template.","eval-function":"Execute Templater command","eval-expr":"Templater command","eval-expr-description":"Templater command to execute.","eval-expr-error-required":"Error: A Templater expression is required","exec-function":"Execute Templater file","exec-sourcefile":"Template file","exec-sourcefile-description":"Executes the contents of the file and returns.","exec-sourcefile-error-required":"Error: A Templater file is required"},error:{"args-parsing":"Failed to parse arguments for script: {{filename}}","args-parsing-error":"Failed to parse arguments for script: {{filename}}\n```\n{{error}}\n```","callout-not-found":"Error: Could not find note-toolbar-output callout in current note with ID: {{id}}","exec-failed":"Failed to execute script: {{filename}}","expr-failed":"Failed to evaluate expression: {{expression}}","expr-note-not-open":"This expression must be executed from an open note.","file-not-found":"File not found: {{filename}}","function-invalid":"Unsupported function: {{function}}","function-not-found":"Function not found: {{function}}","function-note-not-open":"This function must be executed from an open note.","query-failed":"Failed to evaluate query: {{expression}}","query-note-not-open":"This query must be run from an open note."}},Un={ui:{"button-submit":"Submit","error-cancelled":"Cancelled prompt","error-undefined":"Undefined item","prompt-placeholder":"Type text here","suggester-placeholder":"Select an option..."}},qn={"name-focus":"Focus","name-item-suggester":"Quick tools","name-item-suggester-current":"Quick tools (for current toolbar)","name-toolbar-suggester":"Quick toolbars","name-copy-command-uri":"Copy URI for command","name-copy-command-as-data-element":"Copy callout item for command","copy-command-notice":"Command copied to clipboard","name-settings":"Plugin settings","name-toolbar-settings":"Toolbar settings","name-show-properties":"Show Properties","name-hide-properties":"Hide Properties","name-fold-properties":"Fold Properties","name-toggle-properties":"Toggle Properties","name-open-toolbar":"Open: {{toolbar}}"},zn={"item-generic":"Item{{number}}","label-callout":"Copy as callout","label-share":"Share...","label-share-description":"Share this link with another Note Toolbar user to add your toolbar to their vault.","label-share-preview":"preview","title-share":"Share toolbar: {{toolbar}}","button-copy-link":"Copy link","button-copy-link-description":"Copy this link to your clipboard","notice-completed":"Toolbar copied to clipboard as callout. Open settings to adjust formatting.","notice-shared":"Note Toolbar link copied to clipboard","warning-share-menu":"This toolbar refers to at least one other toolbar that the recipient won't receive.","warning-share-length":"Some web browsers may not load a URL that is longer than 2,048 characters.","option-uri":"Use Obsidian URI","option-uri-description":"Provides an obsidian:// link instead of an https:// URL."},Wn={"title-import":"Create toolbar from callout","title-import-confirmation":"Create Note Toolbar: {{toolbar}}","title-import-into":"Add callout items to toolbar: {{toolbar}}","label-import-confirmation":"Confirm you would like to add this toolbar. Once added, this toolbar will need to be mapped to one or more notes.","label-import":"Paste a Note Toolbar Callout below and it will be added as a new toolbar.","label-import-into":"Paste a Note Toolbar Callout below and its items will be added to this toolbar. Styles will be ignored if provided.","label-import-into-help":"The callout heading is not needed, and will be ignored if provided.","button-add-items":"Add items","button-cancel":"Cancel","button-create":"Create","button-confirm":"Confirm","option-create":"Create Note Toolbar from callout...","option-help":"About Note Toolbar Callouts","button-import-tooltip":"Create toolbar from callout","button-import-into-tooltip":"Add toolbar items from callout","error-invalid-uri-content":"Note Toolbar: It looks like there's an issue with this link. Check the URI is correct, or review the user guide.","errorlog-heading":"Errors found during toolbar import:","errorlog-item":"Item {{number}}:","errorlog-command-not-recognized":"Command not recognized: {{command}}","errorlog-icon-not-found":"Icon not found: {{icon}}","errorlog-invalid-format":"Invalid format: {{line}}","errorlog-invalid-styles":"Ignored invalid style(s): {{styles}}","errorlog-menu-not-found":"Menu not found: {{menu}}","placeholder-import-into":"> Note Toolbar Callout markdown...","warning-invalid-plugins":"This toolbar uses plugins you do not have installed and enabled:","warning-vars":"This toolbar uses variables, which you can modify to work with your vault."},jn={"error-command-not-found":"Check Note Toolbar setting or URI for this command. Command not found: {{command}}","error-folder-not-found":"Check Note Toolbar setting or URI for this folder. Folder not found: {{folder}}","error-item-menu-not-found":"Check Note Toolbar setting or URI for this menu item. Toolbar not found: {{toolbar}}","error-scripting-not-enabled":"Enable Scripting in Note Toolbar settings to use this item.","error-scripting-plugin-not-enabled":"Toggle the Scripting setting after installing and enabling plugin: {{plugin}}","error-toolbar-not-found":"Check Note Toolbar setting or URI for this toolbar. Toolbar not found: {{toolbar}}","error-uri-params-not-supported":"One or more of these Note Toolbar URI parameters is not supported: {{params}}","warning-no-matching-toolbar":`Note Toolbar: No matching toolbar: {{toolbar}}
Click/Tap here to create it.`},$n={name:"Note Toolbar"},Gn={"button-cancel":"Cancel","button-collapse-tooltip":"Collapse section","button-delete-tooltip":"Delete","button-drag-tooltip":"Drag to rearrange","button-expand-tooltip":"Expand section","button-help":"Help","button-help-tooltip":"Open the help window","button-learn-more":"Learn\xA0more","button-user-guide":"User\xA0Guide","button-whats-new":"What's\xA0new?","button-whats-new-tooltip":"Open the What's New window","error-old-settings-name":"\u26A0\uFE0F Error: Please disable and renable Note Toolbar, or restart Obsidian.","error-old-settings-description":"Old settings file loaded ({{oldVersion}}) but latest is {{currentVersion}}","option-platform-desktop":"Desktop","option-platform-mobile":"Mobile","title-edit-toolbar":"Edit Toolbar: {{toolbar}}","title-edit-toolbar_none":"Edit Toolbar","command-suggest-modal":{placeholder:"Search for a command...","instruction-navigate":"to navigate","instruction-use":"to select command","instruction-dismiss":"to dismiss"},"copy-as-callout":{title:"Copy as callout",description:"Define what happens when toolbars are converted to callouts.","option-icons":"Include icons","option-icons-description":"Add icon placeholders to callouts. (Example: :LiHome:) The Iconize plugin must be installed and enabled to see icons. If disabled, tooltips will be used if labels are not set. Icons can be imported by other users.","option-vars":"Replace variables and expressions","option-vars-description":"Any variables and expressions used in the toolbar will be replaced with values from the note you're currently viewing. Example: {{note_title}} \u2192 My Note","option-ids":"Use IDs in menu items","option-ids-description":"This ensures menu items still work for you if the menu toolbar's renamed. If you want to share callouts, turn this off, and the toolbar's name will be used instead.","option-data":"Use data elements","option-data-description":"Data elements allow toolbars opened in new windows to still work. If disabled, Note Toolbar URIs will be used instead of data elements, and also provide cleaner-looking markdown."},"delete-toolbar":{name:"Delete this toolbar",description:"This action cannot be undone.",title:"Delete toolbar: {{toolbar}}","button-delete":"Delete...","button-delete-confirm":"Delete","button-delete-tooltip":"Delete this toolbar","label-delete-confirm":"Are you sure you want to delete this toolbar?"},"display-rules":{name:"Display rules",description:"Define which notes to display toolbars on, using a property, mappings, or both.","option-emptyview":"New tab toolbar","option-emptyview-description":"Toolbar to display in the New tab view.","toggle-emptyview":"Show toolbar in New tab view","toggle-emptyview-description":"Choose a toolbar to display when no note is open.","option-property":"Property","option-property-description":"If a toolbar name is found in this property, the toolbar will be displayed on the note. This takes precedence over any folder mappings. In a note, set this property to 'none' to hide the toolbar.","option-property-placeholder":"Property"},help:{title:"Help using Note Toolbar \u{1F6DF}",description:"Create context-aware toolbars for your notes.","button-donate":"Donate \u2197","button-donate-tooltip":"Open buymeacoffee.com","button-open":"Open \u2197","button-open-github":"Open github.com","button-open-google":"Open google.com","button-read":"Read \u2197","label-article-1":"Creating toolbar items","label-article-1-description":"Learn about the different types of items.","label-article-2":"Note Toolbar Callouts","label-article-2-description":"Learn how to create toolbars within your notes.","label-bug":"Report a bug","label-bug-description":"Found a problem? Please log an issue in GitHub, or complete this Google form.","label-donate":"Buy me a coffee","label-donate-description":"If you find this plugin useful, and wish to support me financially, consider donating. Thank you!","label-examples":"See examples","label-examples-description":"Get inspired by these ready-to-go toolbar examples.","label-feedback":"Provide feedback","label-feedback-description":"Use this Google form for any feedback, questions, or ideas you may have.","label-support":"Get support","label-support-description":"Visit the forums on GitHub to ask questions to the community.","label-user-guide":"Read the User Guide","label-user-guide-description":"How to make the most out of the plugin, including tips and examples."},"icon-suggester":{"option-no-icon":"No icon",placeholder:"Search for an icon...","instruction-navigate":"to navigate","instruction-use":"to use icon","instruction-dismiss":"to dismiss"},item:{title:"Edit item","button-duplicate-tooltip":"Duplicate this item","button-icon-tooltip":"Select icon (optional)","label-preview-edit":"Edit toolbar: {{toolbar}}","label-preview-empty-no-items":"No items. Edit this toolbar to add items.","option-break":"break","option-command":"Command","option-command-error-does-not-exist":"This command does not exist.","option-command-error-not-available-install":"This command is not available. Plugin must be installed and enabled.","option-command-error-not-available-search":"This command cannot be found. Try searching again.","option-command-error-refresh":"Refresh","option-command-placeholder":"Search for command","option-component-icon":"icon","option-component-label":"label","option-file":"File","option-file-placeholder":"Search for file or folder","option-file-error-does-not-exist":"This file or folder does not exist.","option-item-group":"Item Group","option-item-group-placeholder":"Toolbar","option-item-group-help":"Select a toolbar to insert into this one.","option-item-group-error-does-not-exist":"Toolbar does not exist","option-item-group-error-invalid":"\u26A0\uFE0F Invalid item group","option-item-menu":"Item Menu","option-item-menu-placeholder":"Toolbar","option-item-menu-help":"Select a toolbar to open as a menu.","option-item-menu-error-does-not-exist":"Toolbar does not exist","option-label-placeholder":"Label (optional, if icon set)","option-separator":"separator","option-tooltip-placeholder":"Tooltip (optional)","option-uri":"URI","option-uri-placehoder":"Website, URI, or note title","option-uri-help":"Tip: Use note properties and expressions in URIs.","option-visibility-component-hidden-platform":"{{component}} hidden on {{platform}}","option-visibility-component-visible-platform":"{{component}} visible on {{platform}}","option-visibility-hidden":"hidden","option-visibility-hidden-platform":"hidden on {{platform}}","option-visibility-visible-platform":"visible on {{platform}}","option-visibility-platform-desktop":"desktop","option-visibility-platform-mobile":"mobile"},"item-suggest-modal":{placeholder:"Search for an item...","placeholder-toolbar":"{{toolbar}}: Search items...","instruction-back":"to go back","instruction-navigate":"to navigate","instruction-use":"to use item","instruction-dismiss":"to dismiss","key-back":"\u232B or \u2190","key-navigate":"\u2191\u2193","key-use":"\u21B5","key-dismiss":"esc"},items:{name:"Items","name-with-count":"Items ({{count}})",description:"Add items to the toolbar, in order.","label-empty-no-items":"No toolbar items.","button-add-break-tooltip":"Add a line break to the toolbar","button-add-separator-tooltip":"Add a separator to the toolbar","button-new-item":"+ Add toolbar item","button-new-item-tooltip":"Add a new item to the toolbar","option-item-empty-label":"No label set","option-edit-item-group-tooltip":"Edit item group: {{toolbar}}","option-edit-item-group-tooltip_none":"Edit item group","option-edit-item-tooltip":"Edit toolbar item","option-edit-item-type-tooltip":"Edit {{itemType}}"},mappings:{name:"Folder mappings","name-with-count":"Folder mappings ({{count}})",description:"Notes in folders below will display the toolbar mapped to it. Precedence is top to bottom.","label-empty":"Use the button to create a mapping.","placeholder-folder":"Folder","placeholder-toolbar":"Toolbar","button-collapse-tooltip":"Collapse all mappings","button-expand-tooltip":"Expand all mappings","button-new":"+ New mapping","button-new-tooltip":"Add a new mapping","option-folder-all":"all folders","option-folder-root":"root folder only","error-folder-already-mapped":"This folder already has a toolbar associated with it."},name:{name:"Name",description:"Give this toolbar a unique name.","error-toolbar-already-exists":"A toolbar already exists with this name."},"open-command":{name:"Add toolbar command",description:"Add a command that opens this toolbar in a Quick Tools window.","notice-command-added":`Command now available:
{{command}}`,"notice-command-removed":`Command removed:
{{command}}`},other:{name:"Other",icon:{name:"Icon",description:"Sets the icon for the floating button and navigation bar (on phone). Requires restart.",tooltip:"Select icon"},"ribbon-action":{name:"Ribbon icon action \u{1F4F1}",description:"Action to take when the ribbon icon (on phones) is used.","option-toolbar":"Show current toolbar","option-item-suggester":"Show all tools","option-toolbar-suggester":"Show all toolbars"},scripting:{name:"Scripting",description:"Adds item types for Dataview, JS Engine, and Templater, which must be installed and enabled."},"show-toolbar-in-file-menu":{name:"Show toolbar for the linked note in the File menu",description:"Adds an item to access the toolbar in the linked note from the File menu."},"show-edit-tbar":{name:'Show "Edit toolbar" link in toolbar menus',description:"Adds an item to access the toolbar's settings in toolbars that are displayed as menus."}},position:{name:"Position",description:"Where to position this toolbar.","option-mobile-help":"Tip: Access toolbars from the navigation bar.","option-bottom":"Bottom","option-fabl":"Floating button: left","option-fabr":"Floating button: right","option-hidden":"Hidden (do not display)","option-hidden-mobile":"Hidden / Navigation bar","option-props":"Below Properties","option-top":"Top (fixed)","option-defaultitem":"Floating button default item","option-defaultitem-description":"Instead of the toolbar menu, show this item as the button. Other items appear in right-click menu (long-press on mobile).","option-defaultitem-placeholder":"Item...","option-defaultitem-error-invalid":"Invalid toolbar item","notice-defaultitem-invalid":"Invalid default item for floating button. Check toolbar configuration."},search:{"button-tooltip":"Search toolbars","field-placeholder":"Search toolbars..."},styles:{name:"Styles",title:"Style toolbar: {{toolbar}}",description:"List of styles to apply to the toolbar.",help:"Customize even more with the Style Settings plugin.","option-placeholder":"Add style...","option-autohide":"auto-hide*","option-autohide-disclaimer":"Auto-hide does not apply on mobile.","option-between":"space between items","option-border":"border","option-button":"button items","option-center":"center items","option-even":"space items evenly","option-left":"left align items","option-noborder":"no border","option-notsticky":"not sticky","option-nowrap":"don't wrap items*","option-nowrap-disclaimer":"Works best if items are not evenly spaced or centered.","option-nowide":"content width","option-right":"right align items","option-sticky":"sticky*","option-sticky-disclaimer":"Sticky does not apply in Reading mode.","option-wide":"editor width","option-custom-name":"Custom","option-custom-description":"List of classes defined in CSS snippets to apply to this toolbar, separated by spaces.","option-custom-empty":"CSS classes","option-default-name":"Default","option-default-description":"Applies to all platforms unless overridden.","option-default-empty":"No default styles set.","option-mobile-name":"Mobile","option-mobile-description":"Override default styles.","option-mobile-empty":"No mobile styles set. Using default styles.","style-tooltip-use-class":"Use in Callout or CSS: {{class}}","style-remove-tooltip":"Remove"},"toolbar-suggest-modal":{placeholder:"Search for a toolbar...","instruction-navigate":"to navigate","instruction-use":"to open toolbar","instruction-dismiss":"to dismiss"},toolbars:{name:"Toolbars","name-with-count":"Toolbars ({{count}})",description:"Define the toolbars you want to add to your notes.","button-duplicate-tbar-tooltip":"Duplicate","button-edit-tbar":"Edit","button-edit-tbar-tooltip":"Update this toolbar","button-more-tooltip":"More options","button-new-tbar":"+ New toolbar","button-new-tbar-tooltip":"Add a new toolbar","duplicated-tbar-suffix":"copy","imported-tbar-name":"New toolbar","label-empty-create-tbar":"Use the button to create a toolbar.","label-tbar-name-not-set":"\u26A0\uFE0F Toolbar name not set"},usage:{name:"Usage",description:"This toolbar is used in {{mappingCount}} mapping(s) and {{itemCount}} toolbar item(s).","description-search":"Search for property usage"},"whats-new":{title:"What's new in Note Toolbar?","button-read":"Read \u2197","button-read-tooltip":"Open github.com","label-release-notes":"Release notes","label-release-notes-description":"Detailed notes for the latest releases are on GitHub.","label-roadmap":"What's ahead for Note Toolbar?","label-roadmap-description":"Check out the Roadmap to preview the features under consideration."}},Jn={"menu-edit-item":"Edit item: {{text}}...","menu-edit-item_none":"Edit item...","menu-edit-toolbar":"Edit toolbar: {{toolbar}}...","menu-hide-properties":"Hide note properties","menu-position":"Set position","menu-show-properties":"Show note properties","menu-style":"Style...","menu-toolbar-settings":"Note Toolbar settings..."},Kn={adapter:Rn,api:Un,command:qn,export:zn,import:Wn,notice:jn,plugin:$n,setting:Gn,toolbar:Jn};var Go={};Tt(Go,{adapter:()=>Yn,command:()=>Xn,default:()=>na,export:()=>Zn,import:()=>Qn,notice:()=>ea,plugin:()=>ta,setting:()=>oa,toolbar:()=>ia});var Yn={args:"\u0410\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0438 (\u0437\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C)","args-description":"\u0410\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0438, \u0449\u043E \u043F\u0440\u0438\u0439\u043C\u0430\u044E\u0442\u044C\u0441\u044F \u0432\u0430\u0448\u043E\u044E \u0444\u0443\u043D\u043A\u0446\u0456\u0454\u044E, \u0443 \u0444\u043E\u0440\u043C\u0430\u0442\u0456 'name: value' \u0447\u0435\u0440\u0435\u0437 \u043A\u043E\u043C\u0443, \u0437\u0456 \u0441\u0442\u0440\u043E\u043A\u043E\u0432\u0438\u043C\u0438 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F\u043C\u0438 \u0432 \u043B\u0430\u043F\u043A\u0430\u0445.",outputcontainer:"ID \u0432\u0438\u0432\u043E\u0434\u0443 \u0432\u0438\u043D\u043E\u0441\u043A\u0438 (\u0437\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C)","outputcontainer-description":"\u0414\u043E\u0434\u0430\u0439\u0442\u0435 \u0434\u043E \u043D\u043E\u0442\u0430\u0442\u043A\u0438 \u0432\u0438\u043D\u043E\u0441\u043A\u0443 note-toolbar-output \u0437 \u0443\u043D\u0456\u043A\u0430\u043B\u044C\u043D\u0438\u043C \u043C\u0435\u0442\u0430\u043F\u043E\u043B\u0435\u043C \u0434\u043B\u044F \u0432\u0438\u0432\u043E\u0434\u0430 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0443.",postCommand:"\u041A\u043E\u043C\u0430\u043D\u0434\u0430 \u043F\u0456\u0441\u043B\u044F \u0432\u0438\u043A\u043E\u043D\u0430\u043D\u043D\u044F (\u0437\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C)","postCommand-description":"\u041A\u043E\u043C\u0430\u043D\u0434\u0430, \u0449\u043E \u0432\u0438\u043A\u043E\u043D\u0443\u0454\u0442\u044C\u0441\u044F \u043F\u0456\u0441\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F \u0441\u043A\u0440\u0438\u043F\u0442\u0443.",dataview:{"error-general":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430 Dataview: \u043F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043A\u043E\u043D\u0441\u043E\u043B\u044C \u0434\u043B\u044F \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043D\u044F \u0456\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0456\u0457.\n```\n{{error}}\n```","dvjs-function":"\u041E\u0431\u0447\u0438\u0441\u043B\u0438\u0442\u0438 \u0432\u0438\u0440\u0430\u0437 Dataview JS","dvjs-expr":"\u0412\u0438\u0440\u0430\u0437 Dataview JS","dvjs-expr-description":"\u041E\u0431\u0447\u0438\u0441\u043B\u0435\u043D\u043D\u044F \u0432\u0438\u0440\u0430\u0437\u0443 Dataview JS.","dvjs-expr-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D Dataview JS \u0432\u0438\u0440\u0430\u0437","exec-function":"\u0412\u0438\u043A\u043E\u043D\u0430\u0442\u0438 JavaScript","exec-sourcefile":"\u0424\u0430\u0439\u043B JavaScript","exec-sourcefile-description":"\u0424\u0430\u0439\u043B \u0434\u043B\u044F \u0432\u0438\u043A\u043E\u043D\u0430\u043D\u043D\u044F Dataview JS.","exec-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D \u0441\u043A\u0440\u0438\u043F\u0442 \u0444\u0430\u0439\u043B","eval-function":"\u0412\u0438\u043A\u043E\u043D\u0430\u0442\u0438 \u0432\u0438\u0440\u0430\u0437 Dataview","eval-expr":"\u0412\u0438\u0440\u0430\u0437 Dataview","eval-expr-description":"\u041E\u0431\u0447\u0438\u0441\u043B\u0435\u043D\u043D\u044F \u0432\u0438\u0440\u0430\u0437\u0443 Dataview.","eval-expr-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D Dataview \u0432\u0438\u0440\u0430\u0437","query-function":"\u0412\u0438\u043A\u043E\u043D\u0430\u0442\u0438 \u0437\u0430\u043F\u0438\u0442","query-expr":"\u0417\u0430\u043F\u0438\u0442","query-expr-description":"\u041E\u0431\u0447\u0438\u0441\u043B\u0435\u043D\u043D\u044F \u0437\u0430\u043F\u0438\u0442\u0430 Dataview.","query-expr-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D Dataview \u0437\u0430\u043F\u0438\u0442"},"js-engine":{"exec-function":"\u0412\u0438\u043A\u043E\u043D\u0430\u0442\u0438 JavaScript","exec-sourcefile":"\u0424\u0430\u0439\u043B JavaScript","exec-sourcefile-description":"\u0424\u0430\u0439\u043B JavaScript \u0434\u043B\u044F \u0432\u0438\u043A\u043E\u043D\u0430\u043D\u043D\u044F.","exec-sourcefile-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D JavaScript \u0444\u0430\u0439\u043B","importexec-function":"\u0406\u043C\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u0432\u0438\u043A\u043E\u043D\u0430\u0442\u0438 JavaScript","importexec-sourcefile":"\u0424\u0430\u0439\u043B JavaScript","importexec-sourcefile-description":"\u0424\u0430\u0439\u043B JavaScript \u0434\u043B\u044F \u0456\u043C\u043F\u043E\u0440\u0442\u0443. \u0417\u0432\u0435\u0440\u043D\u0456\u0442\u044C \u0443\u0432\u0430\u0433\u0443, \u0449\u043E \u0444\u0430\u0439\u043B \u0456\u043C\u043F\u043E\u0440\u0442\u0443\u0454\u0442\u044C\u0441\u044F \u043B\u0438\u0448\u0435 \u043E\u0434\u0438\u043D \u0440\u0430\u0437. \u041C\u043E\u0436\u043B\u0438\u0432\u043E \u0434\u043E\u0432\u0435\u0434\u0435\u0442\u044C\u0441\u044F \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u0442\u0438\u0442\u0438 Obsidian \u0434\u043B\u044F \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043D\u043D\u044F \u0437\u043C\u0456\u043D.","importexec-sourcefile-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D JavaScript \u0444\u0430\u0439\u043B","importexec-sourcefunction":"\u0424\u0443\u043D\u043A\u0446\u0456\u044F (\u0437\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C)","importexec-sourcefunction-description":"\u042F\u043A\u0449\u043E \u0441\u043A\u0440\u0438\u043F\u0442 \u043C\u0430\u0454 \u0444\u0443\u043D\u043A\u0446\u0456\u0457, \u043D\u0430\u0437\u0432\u0430 \u0444\u0443\u043D\u043A\u0446\u0456\u0457 \u0434\u043B\u044F \u0432\u0438\u043A\u043E\u043D\u0430\u043D\u043D\u044F.","importexec-args":"\u0410\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0438 (\u0437\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C)","importexec-args-description":"\u0410\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0438, \u0449\u043E \u043F\u0440\u0438\u0439\u043C\u0430\u044E\u0442\u044C\u0441\u044F \u0432\u0430\u0448\u043E\u044E \u0444\u0443\u043D\u043A\u0446\u0456\u0454\u044E, \u0443 \u0444\u043E\u0440\u043C\u0430\u0442\u0456 'name: value' \u0447\u0435\u0440\u0435\u0437 \u043A\u043E\u043C\u0443, \u0437\u0456 \u0441\u0442\u0440\u043E\u043A\u043E\u0432\u0438\u043C\u0438 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F\u043C\u0438 \u0432 \u043B\u0430\u043F\u043A\u0430\u0445."},templater:{"append-function":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D","append-sourcefile":"\u0428\u0430\u0431\u043B\u043E\u043D","append-sourcefile-description":"\u0424\u0430\u0439\u043B Templater \u0434\u043B\u044F \u0432\u0441\u0442\u0430\u0432\u043A\u0438.","append-sourcefile-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D Templater \u0444\u0430\u0439\u043B","create-function":"\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u043D\u043E\u0432\u0443 \u043D\u043E\u0442\u0430\u0442\u043A\u0443 \u0437 \u0448\u0430\u0431\u043B\u043E\u043D\u0443","create-sourcefile":"\u0428\u0430\u0431\u043B\u043E\u043D","create-sourcefile-description":"\u0424\u0430\u0439\u043B Templater \u0434\u043B\u044F \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u043D\u043E\u0432\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0443.","create-sourcefile-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D Templater \u0444\u0430\u0439\u043B","create-outputfile":"\u0406\u043C'\u044F \u0432\u0438\u0445\u0456\u0434\u043D\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0443 (\u0437\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C)","create-outputfile-description":"\u0406\u043C'\u044F \u0444\u0430\u0439\u043B\u0443 (\u0431\u0435\u0437 \u0440\u043E\u0437\u0448\u0438\u0440\u0435\u043D\u043D\u044F) \u0442\u0430 \u0442\u0435\u043A \u0434\u043B\u044F \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u0432\u0456\u0434 \u0432\u043A\u0430\u0437\u0430\u043D\u043E\u0433\u043E \u0448\u0430\u0431\u043B\u043E\u043D\u0443.","eval-function":"\u0412\u0438\u043A\u043E\u043D\u0430\u0442\u0438 \u043A\u043E\u043C\u0430\u043D\u0434\u0443 Templater ","eval-expr":"\u041A\u043E\u043C\u0430\u043D\u0434\u0430 Templater","eval-expr-description":"\u0412\u0438\u043A\u043E\u043D\u0430\u043D\u043D\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u0438 Templater.","eval-expr-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D \u0432\u0438\u0440\u0430\u0437 Templater","exec-function":"\u0412\u0438\u043A\u043E\u043D\u0430\u0442\u0438 Templater \u0444\u0430\u0439\u043B","exec-sourcefile":"\u0424\u0430\u0439\u043B \u0448\u0430\u0431\u043B\u043E\u043D\u0443","exec-sourcefile-description":"\u0412\u0438\u043A\u043E\u043D\u0443\u0454 \u0432\u043C\u0456\u0441\u0442 \u0444\u0430\u0439\u043B\u0443 \u0456 \u043F\u043E\u0432\u0435\u0440\u0442\u0430\u0454\u0442\u044C\u0441\u044F.","exec-sourcefile-error-required":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041F\u043E\u0442\u0440\u0456\u0431\u0435\u043D Templater \u0444\u0430\u0439\u043B"},error:{"args-parsing":"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u0440\u043E\u0437\u0456\u0431\u0440\u0430\u0442\u0438 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0438 \u0441\u043A\u0440\u0438\u043F\u0442\u0430: {{filename}}","args-parsing-error":"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u0440\u043E\u0437\u0456\u0431\u0440\u0430\u0442\u0438 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u0438 \u0441\u043A\u0440\u0438\u043F\u0442\u0430: {{filename}}\n```\n{{error}}\n```","callout-not-found":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u0437\u043D\u0430\u0439\u0442\u0438 \u0432\u0438\u043D\u043E\u0441\u043A\u0443 note-toolbar-output \u0443 \u043F\u043E\u0442\u043E\u0447\u043D\u0456\u0439 \u043D\u043E\u0442\u0430\u0442\u0446\u0456 \u0437 ID: {{id}}","exec-failed":"\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0432\u0438\u043A\u043E\u043D\u0430\u043D\u043D\u044F \u0441\u043A\u0440\u0438\u043F\u0442\u0430: {{filename}}","expr-failed":"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0431\u0447\u0438\u0441\u043B\u0438\u0442\u0438 \u0432\u0438\u0440\u0430\u0437: {{expression}}","expr-note-not-open":"\u0426\u0435\u0439 \u0432\u0438\u0440\u0430\u0437 \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0438\u043A\u043E\u043D\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u0437 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u043E\u0457 \u043D\u043E\u0442\u0430\u0442\u043A\u0438.","file-not-found":"\u0424\u0430\u0439\u043B \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E: {{filename}}","function-invalid":"\u041D\u0435\u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u043D\u0430 \u0444\u0443\u043D\u043A\u0446\u0456\u044F: {{function}}","function-not-found":"\u0424\u0443\u043D\u043A\u0446\u0456\u044E \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E: {{function}}","function-note-not-open":"\u0426\u044F \u0444\u0443\u043D\u043A\u0446\u0456\u044F \u043F\u043E\u0432\u0438\u043D\u043D\u0430 \u0432\u0438\u043A\u043E\u043D\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u0437 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u043E\u0457 \u043D\u043E\u0442\u0430\u0442\u043A\u0438.","query-failed":"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u0432\u0438\u043A\u043E\u043D\u0430\u0442\u0438 \u0437\u0430\u043F\u0438\u0442: {{expression}}","query-note-not-open":"\u0426\u0435\u0439 \u0437\u0430\u043F\u0438\u0442 \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0438\u043A\u043E\u043D\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u0437 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u043E\u0457 \u043D\u043E\u0442\u0430\u0442\u043A\u0438."}},Xn={"name-focus":"\u0424\u043E\u043A\u0443\u0441\u0443\u0432\u0430\u043D\u043D\u044F","name-item-suggester":"\u0428\u0432\u0438\u0434\u043A\u0456 \u0456\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u0438","name-toolbar-suggester":"\u0428\u0432\u0438\u0434\u043A\u043E \u043F\u0430\u043D\u0435\u043B\u0456","name-copy-command-uri":"\u041A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 URI \u043A\u043E\u043C\u0430\u043D\u0434\u0438","name-copy-command-as-data-element":"\u041A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442 \u0432\u0438\u043D\u043E\u0441\u043A\u0438 \u0434\u043B\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u0438","copy-command-notice":"\u041A\u043E\u043C\u0430\u043D\u0434\u0443 \u0441\u043A\u043E\u043F\u0456\u0439\u043E\u0432\u0430\u043D\u043E \u0434\u043E \u0431\u0443\u0444\u0435\u0440\u0430 \u043E\u0431\u043C\u0456\u043D\u0443","name-settings":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0434\u043E\u0434\u0430\u0442\u043A\u0443","name-toolbar-settings":"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0438 \u043F\u0430\u043D\u0435\u043B\u0456","name-show-properties":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0432\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u0456","name-hide-properties":"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u0442\u0438 \u0432\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u0456","name-fold-properties":"\u0417\u0433\u043E\u0440\u043D\u0443\u0442\u0438 \u0432\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u0456","name-toggle-properties":"\u0417\u043C\u0456\u043D\u0438\u0442\u0438 \u0412\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u0456"},Zn={"item-generic":"\u0415\u043B\u0435\u043C\u0435\u043D\u0442{{number}}","label-callout":"\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u044F\u043A \u0432\u0438\u043D\u043E\u0441\u043A\u0443","label-share":"\u041F\u043E\u0448\u0438\u0440\u0438\u0442\u0438...","label-share-description":"\u041F\u043E\u0448\u0438\u0440\u0442\u0435 \u0446\u0435 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F\u043C \u0456\u043D\u0448\u043E\u043C\u0443 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0443 Note Toolbar, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0412\u0430\u0448\u0443 \u043F\u0430\u043D\u0435\u043B\u044C \u0434\u043E \u0439\u043E\u0433\u043E \u0441\u0445\u043E\u0432\u0438\u0449\u0430.","label-share-preview":"\u043F\u0435\u0440\u0435\u0433\u043B\u044F\u0434","title-share":"\u041F\u043E\u0448\u0438\u0440\u0435\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0456: {{toolbar}}","button-copy-link":"\u041A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F","button-copy-link-description":"\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F \u0434\u043E \u0431\u0443\u0444\u0435\u0440\u0430 \u043E\u0431\u043C\u0456\u043D\u0443","notice-completed":"\u041F\u0430\u043D\u0435\u043B\u044C \u0441\u043A\u043E\u043F\u0456\u0439\u043E\u0432\u0430\u043D\u043E \u0434\u043E \u0431\u0443\u0444\u0435\u0440\u0430 \u043E\u0431\u043C\u0456\u043D\u0443 \u044F\u043A \u0432\u0438\u043D\u043E\u0441\u043A\u0443. \u0412\u0456\u0434\u043A\u0440\u0438\u0439\u0442\u0435 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F, \u0449\u043E\u0431 \u0437\u043C\u0456\u043D\u0438\u0442\u0438 \u0444\u043E\u0440\u043C\u0430\u0442\u0443\u0432\u0430\u043D\u043D\u044F.","notice-shared":"\u041F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F Note Toolbar \u0441\u043A\u043E\u043F\u0456\u0439\u043E\u0432\u0430\u043D\u043E \u0434\u043E \u0431\u0443\u0444\u0435\u0440\u0430 \u043E\u0431\u043C\u0456\u043D\u0443","warning-share-menu":"\u0426\u044F \u043F\u0430\u043D\u0435\u043B\u044C \u043F\u043E\u0441\u0438\u043B\u0430\u0454\u0442\u044C\u0441\u044F \u043F\u0440\u0438\u043D\u0430\u0439\u043C\u043D\u0456 \u043D\u0430 \u043E\u0434\u043D\u0443 \u0456\u043D\u0448\u0443 \u043F\u0430\u043D\u0435\u043B\u044C, \u044F\u043A\u0443 \u043E\u0434\u0435\u0440\u0436\u0443\u0432\u0430\u0447 \u043D\u0435 \u043E\u0442\u0440\u0438\u043C\u0430\u0454.","warning-share-length":"\u0414\u0435\u044F\u043A\u0456 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0438 \u043C\u043E\u0436\u0443\u0442\u044C \u043D\u0435 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 URL-\u0430\u0434\u0440\u0435\u0441\u0438 \u0434\u043E\u0432\u0436\u0438\u043D\u043E\u044E, \u0431\u0456\u043B\u044C\u0448\u0435 \u043D\u0456\u0436 2048 \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432.","option-uri":"\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u0442\u0438 Obsidian URI","option-uri-description":"\u0421\u0442\u0432\u043E\u0440\u044E\u0454 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F obsidian:// \u0437\u0430\u043C\u0456\u0441\u0442\u044C URL-\u0430\u0434\u0440\u0435\u0441\u0438 https://."},Qn={"title-import":"\u0421\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0456 \u0456\u0437 \u0432\u0438\u043D\u043E\u0441\u043A\u0438","title-import-confirmation":"\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 Note Toolbar: {{toolbar}}","title-import-into":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u0432\u0438\u043D\u043E\u0441\u043A\u0438 \u0434\u043E \u043F\u0430\u043D\u0435\u043B\u0456: {{toolbar}}","label-import-confirmation":"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C, \u0449\u043E \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0441\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u043D\u043E\u0432\u0443 \u043F\u0430\u043D\u0435\u043B\u044C. \u041F\u0456\u0441\u043B\u044F \u0434\u043E\u0434\u0430\u0432\u0430\u043D\u043D\u044F \u0446\u044E \u043F\u0430\u043D\u0435\u043B\u044C \u043F\u043E\u0442\u0440\u0456\u0431\u043D\u043E \u0431\u0443\u0434\u0435 \u0437\u0456\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0437 \u043E\u0434\u043D\u0456\u0454\u044E, \u0430\u0431\u043E \u043A\u0456\u043B\u044C\u043A\u043E\u043C\u0430 \u043D\u043E\u0442\u0430\u0442\u043A\u0430\u043C\u0438.","label-import":"\u0412\u0441\u0442\u0430\u0432\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0432\u0438\u043D\u043E\u0441\u043A\u0438 Note Toolbar \u0434\u043B\u044F \u0456\u043C\u043F\u043E\u0440\u0442\u0443 \u043F\u0430\u043D\u0435\u043B\u0456.","label-import-into":"\u0412\u0441\u0442\u0430\u0432\u0442\u0435 \u043D\u0438\u0436\u0447\u0435 \u0432\u0438\u043D\u043E\u0441\u043A\u0443 \u0443 \u0444\u043E\u0440\u043C\u0430\u0442\u0456 Note Toolbar \u0434\u043B\u044F \u0434\u043E\u0434\u0430\u0432\u0430\u043D\u043D\u044F \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432 \u0434\u043E \u043F\u0430\u043D\u0435\u043B\u0456. \u0412\u043A\u0430\u0437\u0430\u043D\u0456 \u0441\u0442\u0438\u043B\u0456 \u0431\u0443\u0434\u0443\u0442\u044C \u043F\u0440\u043E\u0456\u0433\u043D\u043E\u0440\u043E\u0432\u0430\u043D\u0456.","label-import-into-help":"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u0432\u0438\u043D\u043E\u0441\u043A\u0438 \u043D\u0435 \u043F\u043E\u0442\u0440\u0456\u0431\u0435\u043D, \u0430\u0431\u043E \u0431\u0443\u0434\u0435 \u043F\u0440\u043E\u0456\u0433\u043D\u043E\u0440\u043E\u0432\u0430\u043D\u0438\u0439, \u044F\u043A\u0449\u043E \u0432\u043A\u0430\u0437\u0430\u043D\u0438\u0439.","button-add-items":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438","button-cancel":"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438","button-create":"\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438","button-confirm":"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438","option-create":"\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 Note Toolbar \u0456\u0437 \u0432\u0438\u043D\u043E\u0441\u043A\u0438...","option-help":"\u041F\u0440\u043E \u0432\u0438\u043D\u043E\u0441\u043A\u0438 Note Toolbar","button-import-tooltip":"\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u043F\u0430\u043D\u0435\u043B\u044C \u0456\u0437 \u0432\u0438\u043D\u043E\u0441\u043A\u0438","button-import-into-tooltip":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u043F\u0430\u043D\u0435\u043B\u0456 \u0456\u0437 \u0432\u0438\u043D\u043E\u0441\u043A\u0438","error-invalid-uri-content":"Note Toolbar: \u0441\u0445\u043E\u0436\u0435, \u0437 \u0446\u0438\u043C \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F\u043C \u0432\u0438\u043D\u0438\u043A\u043B\u0430 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430. \u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456\u0441\u0442\u044C URI \u0430\u0431\u043E \u043F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u044C\u0442\u0435 \u043F\u043E\u0441\u0456\u0431\u043D\u0438\u043A \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430.","errorlog-heading":"\u041F\u043E\u043C\u0438\u043B\u043A\u0438, \u0432\u0438\u044F\u0432\u043B\u0435\u043D\u0456 \u043F\u0456\u0434 \u0447\u0430\u0441 \u0456\u043C\u043F\u043E\u0440\u0442\u0443 \u043F\u0430\u043D\u0435\u043B\u0456:","errorlog-item":"\u0415\u043B\u0435\u043C\u0435\u043D\u0442 {{number}}:","errorlog-command-not-recognized":"\u041A\u043E\u043C\u0430\u043D\u0434\u0430 \u043D\u0435 \u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0430: {{command}}","errorlog-icon-not-found":"\u0406\u043A\u043E\u043D\u043A\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E: {{icon}}","errorlog-invalid-format":"\u041D\u0435\u0432\u0456\u0440\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442: {{line}}","errorlog-invalid-styles":"\u041F\u0440\u043E\u0456\u0433\u043D\u043E\u0440\u043E\u0432\u0430\u043D\u0456 \u043D\u0435\u0434\u0456\u0439\u0441\u043D\u0456 \u0441\u0442\u0438\u043B\u0456: {{styles}}","errorlog-menu-not-found":"\u041C\u0435\u043D\u044E \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E: {{menu}}","placeholder-import-into":"> Markdown \u0432\u0438\u043D\u043E\u0441\u043A\u0430 Note Toolbar...","warning-invalid-plugins":"\u0426\u044F \u043F\u0430\u043D\u0435\u043B\u044C \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0454 \u0434\u043E\u0434\u0430\u0442\u043E\u043A, \u044F\u043A\u0438\u0439 \u043D\u0435 \u0432\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E, \u0430\u0431\u043E \u0432\u0438\u043C\u043A\u043D\u0443\u0442\u043E:","warning-vars":"\u0426\u044F \u043F\u0430\u043D\u0435\u043B\u044C \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0454 \u0437\u043C\u0456\u043D\u043D\u0456, \u044F\u043A\u0456 \u0412\u0438 \u043C\u043E\u0436\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0434\u043B\u044F \u0440\u043E\u0431\u043E\u0442\u0438 \u0437 \u0432\u0430\u0448\u0438\u043C \u0441\u0445\u043E\u0432\u0438\u0449\u0435\u043C."},ea={"error-command-not-found":"\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F Note Toolbar \u0430\u0431\u043E URI \u0446\u0456\u0454\u0457 \u043A\u043E\u043C\u0430\u043D\u0434\u0438. \u041A\u043E\u043C\u0430\u043D\u0434\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E: {{command}}","error-folder-not-found":"\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F Note Toolbar \u0430\u0431\u043E URI \u0446\u0456\u0454\u0457 \u0442\u0435\u043A\u0438. \u0422\u0435\u043A\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E: {{folder}}","error-item-menu-not-found":"\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F Note Toolbar \u0430\u0431\u043E URI \u0446\u044C\u043E\u0433\u043E \u043C\u0435\u043D\u044E. \u041F\u0430\u043D\u0435\u043B\u044C \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E: {{toolbar}}","error-scripting-not-enabled":"\u0414\u043B\u044F \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u043D\u044F \u0446\u044C\u043E\u0433\u043E \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u0443\u0432\u0456\u043C\u043A\u043D\u0456\u0442\u044C \u0432\u0438\u043A\u043E\u043D\u0443\u0432\u0430\u043D\u043D\u044F \u0421\u043A\u0440\u0438\u043F\u0442\u0456\u0432 \u0443 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u0456 Note Toolbar.","error-scripting-plugin-not-enabled":"\u0423\u0432\u0456\u043C\u043A\u043D\u0443\u0442\u0438 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u043D\u043A\u0438 \u0421\u043A\u0440\u0438\u043F\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u043F\u0456\u0441\u043B\u044F \u0432\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u0442\u0430 \u0443\u0432\u0456\u043C\u043A\u043D\u0435\u043D\u043D\u044F \u0434\u043E\u0434\u0430\u0442\u043A\u0430: {{plugin}}","error-toolbar-not-found":"\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F Note Toolbar \u0430\u0431\u043E URI \u0446\u0456\u0454\u0457 \u043F\u0430\u043D\u0435\u043B\u0456. \u041F\u0430\u043D\u0435\u043B\u044C \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E: {{toolbar}}","error-uri-params-not-supported":"\u041E\u0434\u0438\u043D \u0430\u0431\u043E \u043A\u0456\u043B\u044C\u043A\u0430 \u0437 \u0446\u0438\u0445 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0456\u0432 Note Toolbar URI \u043D\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u044E\u0442\u044C\u0441\u044F: {{params}}","warning-no-matching-toolbar":`Note Toolbar: \u041D\u0435\u043C\u0430\u0454 \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u043D\u043E\u0457 \u043F\u0430\u043D\u0435\u043B\u0456: {{toolbar}}
\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0442\u0443\u0442 \u0434\u043B\u044F \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F.`},ta={name:"Note Toolbar"},oa={"button-cancel":"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438","button-collapse-tooltip":"\u0417\u0433\u043E\u0440\u043D\u0443\u0442\u0438 \u0440\u043E\u0437\u0434\u0456\u043B","button-delete-tooltip":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438","button-drag-tooltip":"\u041F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u043C\u0456\u043D\u0438\u0442\u0438 \u043F\u043E\u0440\u044F\u0434\u043E\u043A","button-expand-tooltip":"\u0420\u043E\u0437\u0433\u043E\u0440\u043D\u0443\u0442\u0438 \u0440\u043E\u0437\u0434\u0456\u043B","button-help":"\u0414\u043E\u0432\u0456\u0434\u043A\u0430","button-help-tooltip":"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 \u0434\u043E\u0432\u0456\u0434\u043D\u0438\u043A","button-learn-more":"\u0414\u043E\u043A\u043B\u0430\u0434\u043D\u0456\u0448\u0435","button-user-guide":"\u041F\u043E\u0441\u0456\u0431\u043D\u0438\u043A \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430","button-whats-new":"\u0429\u043E\xA0\u043D\u043E\u0432\u043E\u0433\u043E?","button-whats-new-tooltip":'\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 "\u0429\u043E \u043D\u043E\u0432\u043E\u0433\u043E"',"error-old-settings-name":"\u26A0\uFE0F \u041F\u043E\u043C\u0438\u043B\u043A\u0430: \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0432\u0438\u043C\u043A\u043D\u0456\u0442\u044C \u0442\u0430 \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u0442\u0456\u0442\u044C Note Toolbar, \u0430\u0431\u043E \u043F\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0442\u0435 Obsidian.","error-old-settings-description":"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043E \u0441\u0442\u0430\u0440\u0438\u0439 \u0444\u0430\u0439\u043B \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u044C ({{oldVersion}}), \u043D\u0430\u0439\u043D\u043E\u0432\u0456\u0448\u0438\u0439 - {{currentVersion}}","option-platform-desktop":"\u041A\u043E\u043C\u043F'\u044E\u0442\u0435\u0440","option-platform-mobile":"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439\u{1F4F1}","title-edit-toolbar":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0456: {{toolbar}}","title-edit-toolbar_none":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043F\u0430\u043D\u0435\u043B\u044C","command-suggest-modal":{placeholder:"\u041F\u043E\u0448\u0443\u043A \u043A\u043E\u043C\u0430\u043D\u0434\u0438...","instruction-navigate":"\u043F\u0435\u0440\u0435\u0439\u0442\u0438","instruction-use":"\u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u0442\u0438","instruction-dismiss":"\u0441\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"},"copy-as-callout":{title:"\u041A\u043E\u043F\u0456\u044E\u0432\u0430\u043D\u043D\u044F \u044F\u043A \u0432\u0438\u043D\u043E\u0441\u043A\u0438",description:"\u0412\u0438\u0437\u043D\u0430\u0447\u0438\u0442\u0438 \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0434\u0456\u0439 \u043F\u0435\u0440\u0435\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0456 \u043D\u0430 \u0442\u0435\u043A\u0441\u0442 \u0432\u0438\u043D\u043E\u0441\u043A\u0438.","option-icons":"\u0414\u043E\u0434\u0430\u0432\u0430\u0442\u0438 \u0456\u043A\u043E\u043D\u043A\u0438","option-icons-description":"\u0414\u043E\u0434\u0430\u0432\u0430\u0442\u0438 \u0456\u043A\u043E\u043D\u043A\u0438 \u0434\u043E \u0432\u0438\u043D\u043E\u0441\u043E\u043A (\u043D\u0430\u043F\u0440\u0438\u043A\u043B\u0430\u0434, :LiHome:). \u041F\u043E\u0442\u0440\u0435\u0431\u0443\u0454 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456 \u0442\u0430 \u0443\u0432\u0456\u043C\u043A\u043D\u0435\u043D\u043D\u044F \u0434\u043E\u0434\u0430\u0442\u043A\u0443 Iconize. \u042F\u043A\u0449\u043E \u0432\u0438\u043C\u043A\u043D\u0435\u043D\u0438\u0439, \u0437\u0430\u043C\u0456\u0441\u0442\u044C \u041D\u0430\u043F\u0438\u0441\u0456\u0432 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438\u043C\u0443\u0442\u044C\u0441\u044F \u041F\u0456\u0434\u043A\u0430\u0437\u043A\u0438. \u0406\u043D\u0448\u0456 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456 \u043C\u043E\u0436\u0443\u0442\u044C \u0456\u043C\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0456\u043A\u043E\u043D\u043A\u0438.","option-vars":"\u0417\u0430\u043C\u0456\u043D\u0430 \u0437\u043C\u0456\u043D\u043D\u0438\u0445 \u0442\u0430 \u0432\u0438\u0440\u0430\u0437\u0456\u0432","option-vars-description":"\u0411\u0443\u0434\u044C-\u044F\u043A\u0456 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u0456 \u0443 \u043F\u0430\u043D\u0435\u043B\u0456 \u0437\u043C\u0456\u043D\u043D\u0456 \u0442\u0430 \u0432\u0438\u0440\u0430\u0437\u0438, \u0431\u0443\u0434\u0443\u0442\u044C \u0437\u0430\u043C\u0456\u043D\u0435\u043D\u0456 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F\u043C\u0438 \u0437 \u043F\u043E\u0442\u043E\u0447\u043D\u043E\u0457 \u043D\u043E\u0442\u0430\u0442\u043A\u0438. \u041F\u0440\u0438\u043A\u043B\u0430\u0434: {{note_title}} \u2192 \u041C\u043E\u044F \u041D\u043E\u0442\u0430\u0442\u043A\u0430","option-ids":"\u0414\u043E\u0434\u0430\u0432\u0430\u0442\u0438 ID","option-ids-description":"\u0413\u0430\u0440\u0430\u043D\u0442\u0443\u0454, \u0449\u043E \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u043C\u0435\u043D\u044E \u0437\u0430\u043B\u0438\u0448\u0430\u0442\u044C\u0441\u044F \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u043C\u0438, \u043D\u0430\u0432\u0456\u0442\u044C \u043F\u0440\u0438 \u043F\u0435\u0440\u0435\u0439\u043C\u0435\u043D\u0443\u0432\u0430\u043D\u043D\u0456 \u043F\u0430\u043D\u0435\u043B\u0456. \u042F\u043A\u0449\u043E \u0432\u0438\u043C\u043A\u043D\u0443\u0442\u0438, \u0442\u043E \u043F\u0440\u0438 \u043F\u043E\u0448\u0438\u0440\u0435\u043D\u043D\u0456 \u0412\u0438\u043D\u043E\u0441\u043A\u0438 \u0431\u0443\u0434\u0435 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430\u0437\u0432\u0430 \u043F\u0430\u043D\u0435\u043B\u0456.","option-data":"\u0414\u043E\u0434\u0430\u0432\u0430\u0442\u0438 \u043A\u043E\u043C\u0430\u043D\u0434\u0438","option-data-description":"\u041A\u043E\u043C\u0430\u043D\u0434\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432 \u0434\u043E\u0437\u0432\u043E\u043B\u044F\u044E\u0442\u044C \u043F\u0440\u0430\u0446\u044E\u0432\u0430\u0442\u0438 \u043F\u0430\u043D\u0435\u043B\u044F\u043C, \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u0445 \u0443 \u043D\u043E\u0432\u0438\u0445 \u0432\u0456\u043A\u043D\u0430\u0445. \u042F\u043A\u0449\u043E \u0432\u0438\u043C\u043A\u043D\u0435\u043D\u043E, \u0442\u043E \u0431\u0443\u0434\u0443\u0442\u044C \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u0442\u0438\u0441\u044F Note Toolbar URI \u0437\u0430\u043C\u0456\u0441\u0442\u044C \u043A\u043E\u043C\u0430\u043D\u0434, \u0449\u043E \u0437\u0430\u0431\u0435\u0437\u043F\u0435\u0447\u0438\u0442\u044C \u0447\u0438\u0441\u0442\u0456\u0448\u0438\u0439 \u0432\u0438\u0433\u043B\u044F\u0434 \u0442\u0435\u043A\u0441\u0442\u0443."},"delete-toolbar":{name:"\u0412\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0456",description:"\u0426\u044E \u0434\u0456\u044E \u043D\u0435 \u043C\u043E\u0436\u043D\u0430 \u0441\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438.",title:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u0430\u043D\u0435\u043B\u044C: {{toolbar}}","button-delete":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438...","button-delete-confirm":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438","button-delete-tooltip":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u044E \u043F\u0430\u043D\u0435\u043B\u044C","label-delete-confirm":"\u0412\u0438 \u0434\u0456\u0439\u0441\u043D\u043E \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u044E \u043F\u0430\u043D\u0435\u043B\u044C?"},"display-rules":{name:"\u041F\u0440\u0430\u0432\u0438\u043B\u0430 \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F",description:"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0438 \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0435\u0439 \u0443 \u043D\u043E\u0442\u0430\u0442\u043A\u0430\u0445, \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u044E\u0447\u0438: \u0412\u043B\u0430\u0441\u0442\u0438\u0432\u0456\u0441\u0442\u044C, \u0417\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u0456 \u0442\u0435\u043A\u0438, \u0430\u0431\u043E \u043E\u0431\u0438\u0434\u0432\u0430 \u0437\u0430\u0441\u043E\u0431\u0438.","option-property":"\u0412\u043B\u0430\u0441\u0442\u0438\u0432\u0456\u0441\u0442\u044C","option-property-description":"\u0412\u043A\u0430\u0437\u0430\u043D\u0430 \u0443 \u0412\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u0456 \u043F\u0430\u043D\u0435\u043B\u044C \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u0438\u0441\u044F \u0443 \u043D\u043E\u0442\u0430\u0442\u0446\u0456. \u0412\u0438\u043A\u043E\u043D\u0443\u0454\u0442\u044C\u0441\u044F \u0437 \u043F\u0435\u0440\u0435\u0432\u0430\u0433\u043E\u044E \u043D\u0430\u0434 \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u043C\u0438 \u0437\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044F\u043C\u0438 \u0442\u0435\u043A. \u0414\u043B\u044F \u043F\u0440\u0438\u0445\u043E\u0432\u0430\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0456 \u0432\u043A\u0430\u0436\u0456\u0442\u044C 'none'.","option-property-placeholder":"\u0412\u043B\u0430\u0441\u0442\u0438\u0432\u0456\u0441\u0442\u044C"},help:{title:"\u0414\u043E\u0432\u0456\u0434\u043A\u0430 Note Toolbar \u{1F6DF}",description:"\u0421\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u043D\u043E-\u043E\u0440\u0456\u0454\u043D\u0442\u043E\u0432\u043D\u0438\u0445 \u043F\u0430\u043D\u0435\u043B\u0435\u0439 \u0443 \u043D\u043E\u0442\u0430\u0442\u043A\u0430\u0445.","button-donate":"\u0417\u0430\u0434\u043E\u043D\u0430\u0442\u0438\u0442\u0438 \u2197","button-donate-tooltip":"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 buymeacoffee.com","button-open":"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 \u2197","button-open-github":"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 github.com","button-open-google":"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 google.com","button-read":"\u0427\u0438\u0442\u0430\u0442\u0438 \u2197","label-article-1":"\u0421\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432 \u043F\u0430\u043D\u0435\u043B\u0456","label-article-1-description":"\u0414\u0456\u0437\u043D\u0430\u0442\u0438\u0441\u044F \u043F\u0440\u043E \u0440\u0456\u0437\u043D\u0456 \u0442\u0438\u043F\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432.","label-article-2":"\u0412\u0438\u043D\u043E\u0441\u043A\u0438 Note Toolbar","label-article-2-description":"\u0414\u0456\u0437\u043D\u0430\u0442\u0438\u0441\u044F \u044F\u043A \u0441\u0442\u0432\u043E\u0440\u044E\u0432\u0430\u0442\u0438 \u043F\u0430\u043D\u0435\u043B\u0456 \u0443 \u043D\u043E\u0442\u0430\u0442\u043A\u0430\u0445.","label-bug":"\u041F\u043E\u0432\u0456\u0434\u043E\u043C\u0438\u0442\u0438 \u043F\u0440\u043E \u043F\u043E\u043C\u0438\u043B\u043A\u0443","label-bug-description":"\u0417\u043D\u0430\u0439\u0448\u043B\u0438 \u043F\u043E\u043C\u0438\u043B\u043A\u0443? \u041D\u0430\u0434\u0456\u0448\u043B\u0456\u0442\u044C \u0457\u0457 \u0443 GitHub \u0430\u0431\u043E \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0446\u044E \u0444\u043E\u0440\u043C\u0443.","label-donate":"Buy me a coffee","label-donate-description":"\u042F\u043A\u0449\u043E \u0412\u0438 \u0432\u0432\u0430\u0436\u0430\u0454\u0442\u0435 \u0446\u0435\u0439 \u0434\u043E\u0434\u0430\u0442\u043E\u043A \u043A\u043E\u0440\u0438\u0441\u043D\u0438\u043C \u0442\u0430 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0430\u0442\u0438, \u043E\u0431\u043C\u0456\u0440\u043A\u0443\u0439\u0442\u0435 \u043F\u0440\u043E \u0434\u043E\u043D\u0430\u0442. \u0414\u044F\u043A\u0443\u044E!","label-examples":"\u041F\u0440\u0438\u043A\u043B\u0430\u0434\u0438","label-examples-description":"\u041D\u0430\u0434\u0438\u0445\u0430\u0439\u0442\u0435\u0441\u044F \u043F\u0440\u0438\u043A\u043B\u0430\u0434\u0430\u043C\u0438 \u0433\u043E\u0442\u043E\u0432\u0438\u0445 \u043F\u0430\u043D\u0435\u043B\u0435\u0439.","label-feedback":"\u0417\u0430\u043B\u0438\u0448\u0438\u0442\u0438 \u0432\u0456\u0434\u0433\u0443\u043A","label-feedback-description":"\u0421\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044F \u0446\u0456\u0454\u044E \u0444\u043E\u0440\u043C\u043E\u044E \u0434\u043B\u044F \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0445 \u0432\u0456\u0434\u0433\u0443\u043A\u0456\u0432, \u0437\u0430\u043F\u0438\u0442\u0430\u043D\u044C \u0430\u0431\u043E \u0456\u0434\u0435\u0439.","label-support":"\u041F\u0456\u0434\u0442\u0440\u0438\u043C\u043A\u0430","label-support-description":"\u0412\u0456\u0434\u0432\u0456\u0434\u0430\u0439\u0442\u0435 \u0444\u043E\u0440\u0443\u043C\u0438 \u043D\u0430 GitHub, \u0449\u043E\u0431 \u043F\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0437\u0430\u043F\u0438\u0442\u0430\u043D\u043D\u044F \u0441\u043F\u0456\u043B\u044C\u043D\u043E\u0442\u0456.","label-user-guide":"\u041F\u043E\u0441\u0456\u0431\u043D\u0438\u043A \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430","label-user-guide-description":"\u041F\u043E\u0440\u0430\u0434\u0438 \u0442\u0430 \u043F\u0440\u0438\u043A\u043B\u0430\u0434\u0438 \u044F\u043A \u0435\u0444\u0435\u043A\u0442\u0438\u0432\u043D\u0456\u0448\u0435 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043E\u0434\u0430\u0442\u043E\u043A."},"icon-suggester":{"option-no-icon":"\u0411\u0435\u0437 \u0456\u043A\u043E\u043D\u043A\u0438",placeholder:"\u041F\u043E\u0448\u0443\u043A \u0456\u043A\u043E\u043D\u043A\u0438...","instruction-navigate":"\u043F\u0435\u0440\u0435\u0439\u0442\u0438","instruction-use":"\u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u0442\u0438 \u0456\u043A\u043E\u043D\u043A\u0443","instruction-dismiss":"\u0441\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"},item:{"button-duplicate-tooltip":"\u0414\u0443\u0431\u043B\u044E\u0432\u0430\u0442\u0438 \u0446\u0435\u0439 \u0435\u043B\u0435\u043C\u0435\u043D\u0442","button-icon-tooltip":"\u041E\u0431\u0440\u0430\u0442\u0438 \u0456\u043A\u043E\u043D\u043A\u0443 (\u0437\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C)","label-preview-edit":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043F\u0430\u043D\u0435\u043B\u044C: {{toolbar}}","label-preview-empty-no-items":"\u041D\u0435\u043C\u0430\u0454 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432. \u0420\u0435\u0434\u0430\u0433\u0443\u0439\u0442\u0435 \u0446\u044E \u043F\u0430\u043D\u0435\u043B\u044C \u0434\u043B\u044F \u0434\u043E\u0434\u0430\u0432\u0430\u043D\u043D\u044F \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432.","option-break":"\u0440\u043E\u0437\u0440\u0438\u0432","option-command":"\u041A\u043E\u043C\u0430\u043D\u0434\u0430","option-command-error-does-not-exist":"\u0426\u0456\u0454\u0457 \u043A\u043E\u043C\u0430\u043D\u0434\u0438 \u043D\u0435 \u0456\u0441\u043D\u0443\u0454.","option-command-error-not-available-install":"\u0426\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u0430 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0430. \u0414\u043E\u0434\u0430\u0442\u043E\u043A \u043C\u0430\u0454 \u0431\u0443\u0442\u0438 \u0432\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0439 \u0442\u0430 \u0443\u0432\u0456\u043C\u043A\u043D\u0435\u043D\u0438\u0439.","option-command-error-not-available-search":"\u041A\u043E\u043C\u0430\u043D\u0434\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430. \u0421\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0448\u0443\u043A\u0430\u0442\u0438 \u0449\u0435 \u0440\u0430\u0437.","option-command-error-refresh":"\u041E\u043D\u043E\u0432\u0438\u0442\u0438","option-command-placeholder":"\u0417\u043D\u0430\u0439\u0442\u0438 \u043A\u043E\u043C\u0430\u043D\u0434\u0443 \u043F\u043E \u043D\u0430\u0437\u0432\u0456","option-component-icon":"\u0456\u043A\u043E\u043D\u043A\u0443","option-component-label":"\u043D\u0430\u043F\u0438\u0441","option-file":"\u0424\u0430\u0439\u043B","option-file-placeholder":"\u041F\u043E\u0448\u0443\u043A \u0444\u0430\u0439\u043B\u0443 \u0447\u0438 \u0442\u0435\u043A\u0438","option-file-error-does-not-exist":"\u0426\u0435\u0439 \u0444\u0430\u0439\u043B \u0430\u0431\u043E \u0442\u0435\u043A\u0430 \u043D\u0435 \u0456\u0441\u043D\u0443\u0454.","option-item-group":"\u0413\u0440\u0443\u043F\u0430","option-item-group-placeholder":"\u041F\u0430\u043D\u0435\u043B\u044C","option-item-group-help":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0430\u043D\u0435\u043B\u044C \u0434\u043B\u044F \u0432\u0441\u0442\u0430\u0432\u043A\u0438 \u0432 \u0446\u044E \u043D\u043E\u0442\u0430\u0442\u043A\u0443.","option-item-group-error-does-not-exist":"\u041F\u0430\u043D\u0435\u043B\u0456 \u043D\u0435 \u0456\u0441\u043D\u0443\u0454","option-item-group-error-invalid":"\u26A0\uFE0F \u041D\u0435\u0434\u0456\u0439\u0441\u043D\u0430 \u0433\u0440\u0443\u043F\u0430 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432","option-item-menu":"\u041C\u0435\u043D\u044E","option-item-menu-placeholder":"\u041F\u0430\u043D\u0435\u043B\u044C","option-item-menu-help":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0430\u043D\u0435\u043B\u044C \u0434\u043B\u044F \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0442\u044F \u044F\u043A \u043C\u0435\u043D\u044E.","option-item-menu-error-does-not-exist":"\u041F\u0430\u043D\u0435\u043B\u044C \u043D\u0435 \u0456\u0441\u043D\u0443\u0454","option-label-placeholder":"\u041D\u0430\u043F\u0438\u0441 (\u0454 \u0456\u043A\u043E\u043D\u043A\u0430 \u2014 \u0437\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C)","option-separator":"\u0440\u043E\u0437\u0434\u0456\u043B\u044C\u043D\u0438\u043A","option-tooltip-placeholder":"\u041F\u0456\u0434\u043A\u0430\u0437\u043A\u0430 (\u0437\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C)","option-uri":"URI","option-uri-placehoder":"\u0410\u0434\u0440\u0435\u0441\u0430 \u0441\u0430\u0439\u0442\u0443, URI \u0430\u0431\u043E \u043D\u0430\u0437\u0432\u0430 \u043D\u043E\u0442\u0430\u0442\u043A\u0438","option-uri-help":"\u041F\u043E\u0440\u0430\u0434\u0430: \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0432\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u0456 \u043D\u043E\u0442\u0430\u0442\u043E\u043A \u0442\u0430 \u0432\u0438\u0440\u0430\u0437\u0438 \u0432 URI.","option-visibility-component-hidden-platform":"\u0441\u0445\u043E\u0432\u0430\u0442\u0438 {{component}} \u043D\u0430 {{platform}}","option-visibility-component-visible-platform":"\u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 {{component}} \u043D\u0430 {{platform}}","option-visibility-hidden":"\u043F\u0440\u0438\u0445\u043E\u0432\u0430\u043D\u043E","option-visibility-hidden-platform":"\u043F\u0440\u0438\u0445\u043E\u0432\u0430\u043D\u043E \u043D\u0430 {{platform}}","option-visibility-visible-platform":"\u043F\u043E\u043A\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u043D\u0430 {{platform}}","option-visibility-platform-desktop":"\u043A\u043E\u043C\u043F'\u044E\u0442\u0435\u0440\u0456","option-visibility-platform-mobile":"\u043C\u043E\u0431\u0456\u043B\u044C\u043D\u043E\u043C \u{1F4F1}"},"item-suggest-modal":{placeholder:"\u041F\u043E\u0448\u0443\u043A \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430...","instruction-back":"\u043D\u0430\u0437\u0430\u0434","instruction-navigate":"\u043F\u0435\u0440\u0435\u0439\u0442\u0438","instruction-use":"\u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u0442\u0438","instruction-dismiss":"\u0441\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438","key-back":"\u232B \u0430\u0431\u043E \u2190","key-navigate":"\u2191\u2193","key-use":"\u21B5","key-dismiss":"esc"},items:{name:"\u0415\u043B\u0435\u043C\u0435\u043D\u0442\u0438","name-with-count":"\u0415\u043B\u0435\u043C\u0435\u043D\u0442\u0438 ({{count}})",description:"\u0414\u043E\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043E \u043F\u0430\u043D\u0435\u043B\u0456 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u043F\u043E \u0447\u0435\u0440\u0437\u0456","label-empty-no-items":"\u041D\u0435\u043C\u0430\u0454 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432 \u043F\u0430\u043D\u0435\u043B\u0456.","button-add-break-tooltip":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0440\u043E\u0437\u0440\u0438\u0432","button-add-separator-tooltip":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0440\u043E\u0437\u0434\u0456\u043B\u044C\u043D\u0438\u043A","button-new-item":"+ \u0414\u043E\u0434\u0430\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442","button-new-item-tooltip":"\u0414\u043E\u0434\u0430\u0432\u0430\u043D\u043D\u044F \u043D\u043E\u0432\u043E\u0433\u043E \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u0434\u043E \u043F\u0430\u043D\u0435\u043B\u0456","option-item-empty-label":"\u041C\u0456\u0442\u043E\u043A \u043D\u0435 \u0432\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E","option-edit-item-group-tooltip":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0433\u0440\u0443\u043F\u0443: {{toolbar}}","option-edit-item-group-tooltip_none":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0433\u0440\u0443\u043F\u0443 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432","option-edit-item-tooltip":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442 \u043F\u0430\u043D\u0435\u043B\u0456","option-edit-item-type-tooltip":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 {{itemType}}"},mappings:{name:"\u0417\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u0456 \u0442\u0435\u043A\u0438","name-with-count":"\u0417\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u0456 \u0442\u0435\u043A\u0438 ({{count}})",description:"\u0423 \u043D\u043E\u0442\u0430\u0442\u043A\u0430\u0445 \u0437 \u0432\u043A\u0430\u0437\u0430\u043D\u0438\u0445 \u043D\u0438\u0436\u0447\u0435 \u0442\u0435\u043A, \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0430 \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u043D\u0430 \u043F\u0430\u043D\u0435\u043B\u044C. \u041F\u0440\u0456\u043E\u0440\u0438\u0442\u0435\u0442 \u0437\u0432\u0435\u0440\u0445\u0443 \u0434\u043E\u043D\u0438\u0437\u0443.","label-empty":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u043A\u043D\u043E\u043F\u043A\u0443, \u0449\u043E\u0431 \u0441\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0437\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044F.","placeholder-folder":"\u0422\u0435\u043A\u0430","placeholder-toolbar":"\u041F\u0430\u043D\u0435\u043B\u044C","button-collapse-tooltip":"\u0417\u0433\u043E\u0440\u043D\u0443\u0442\u0438 \u0432\u0441\u0456 \u0437\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044F","button-expand-tooltip":"\u0420\u043E\u0437\u0433\u043E\u0440\u043D\u0443\u0442\u0438 \u0432\u0441\u0456 \u0437\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044F","button-new":"+ \u041D\u043E\u0432\u0435 \u0437\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044F","button-new-tooltip":"\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u043D\u043E\u0432\u0435 \u0437\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044F","option-folder-all":"\u0432\u0441\u0456 \u0442\u0435\u043A\u0438","option-folder-root":"\u0442\u0456\u043B\u044C\u043A\u0438 \u043A\u043E\u0440\u0435\u043D\u0435\u0432\u0430 \u0442\u0435\u043A\u0430","error-folder-already-mapped":"\u0426\u044F \u0442\u0435\u043A\u0430 \u0432\u0436\u0435 \u043C\u0430\u0454 \u043F\u043E\u0432'\u044F\u0437\u0430\u043D\u0443 \u0437 \u043D\u0435\u044E \u043F\u0430\u043D\u0435\u043B\u044C."},name:{name:"\u041D\u0430\u0437\u0432\u0430",description:"\u0412\u043A\u0430\u0436\u0456\u0442\u044C \u0443\u043D\u0456\u043A\u0430\u043B\u044C\u043D\u0443 \u043D\u0430\u0437\u0432\u0443 \u043F\u0430\u043D\u0435\u043B\u0456.","error-toolbar-already-exists":"\u041F\u0430\u043D\u0435\u043B\u044C \u0437 \u0442\u0430\u043A\u0438\u043C \u0456\u043C'\u044F\u043C \u0432\u0436\u0435 \u0456\u0441\u043D\u0443\u0454."},other:{name:"\u0406\u043D\u0448\u0435",icon:{name:"\u0406\u043A\u043E\u043D\u043A\u0430",description:"\u0406\u043A\u043E\u043D\u043A\u0430 \u043F\u043B\u0430\u0432\u0430\u044E\u0447\u043E\u0457 \u043A\u043D\u043E\u043F\u043A\u0438 \u043D\u0430 \u043C\u043E\u0431\u0456\u043B\u044C\u043D\u043E\u043C \u{1F4F1}. \u041F\u043E\u0442\u0440\u0435\u0431\u0443\u0454 \u043F\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F.",tooltip:"\u041E\u0431\u0440\u0430\u0442\u0438 \u0456\u043A\u043E\u043D\u043A\u0443"},"ribbon-action":{name:"\u0406\u043A\u043E\u043D\u043A\u0430 \u0421\u0442\u0440\u0456\u0447\u043A\u043E\u0432\u043E\u0433\u043E \u043C\u0435\u043D\u044E \u{1F4F1}",description:"\u0414\u0456\u044F \u043D\u0430\u0442\u0438\u0441\u043A\u0430\u043D\u043D\u044F \u0443 \u0441\u0442\u0440\u0456\u0447\u043A\u043E\u0432\u043E\u043C\u0443 \u043C\u0435\u043D\u044E (\u043C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439).","option-toolbar":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u043F\u043E\u0442\u043E\u0447\u043D\u0443 \u043F\u0430\u043D\u0435\u043B\u044C","option-item-suggester":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0432\u0441\u0456 \u0456\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u0438","option-toolbar-suggester":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0432\u0441\u0456 \u043F\u0430\u043D\u0435\u043B\u0456"},scripting:{name:"\u0421\u043A\u0440\u0438\u043F\u0442\u0443\u0432\u0430\u043D\u043D\u044F",description:"\u0414\u043E\u0434\u0430\u0454 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 Dataview, JsEngine \u0442\u0430 Templater. \u041F\u043E\u0442\u0440\u0435\u0431\u0443\u0454 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456 \u0446\u0438\u0445 \u0434\u043E\u0434\u0430\u0442\u043A\u0456\u0432."},"show-edit-tbar":{name:"\u0412\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u0438 '\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438' \u0432 \u043C\u0435\u043D\u044E \u043F\u0430\u043D\u0435\u043B\u0435\u0439 \u{1F4F1}",description:"\u0414\u043E\u0434\u0430\u0454 \u043F\u0443\u043D\u043A\u0442 \u0434\u043B\u044F \u043D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0456, \u044F\u043A\u0438\u0439 \u0431\u0443\u0434\u0435 \u043F\u043E\u043A\u0430\u0437\u0430\u043D \u044F\u043A \u043C\u0435\u043D\u044E \u0432\u043D\u0438\u0437\u0443 \u0435\u043A\u0440\u0430\u043D\u0430 \u043C\u043E\u0431\u0456\u043B\u044C\u043D\u043E\u0433\u043E."}},position:{name:"\u0420\u043E\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043D\u043D\u044F",description:"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0438 \u0440\u043E\u0437\u0442\u0430\u0448\u043E\u0432\u0443\u0432\u0430\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0456.","option-mobile-help":"\u2139\uFE0F \u0414\u043E\u0441\u0442\u0443\u043F \u0447\u0435\u0440\u0435\u0437 \u041F\u0430\u043D\u0435\u043B\u044C \u043D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u0457.","option-bottom":"Bottom","option-fabl":"\u041F\u043B\u0430\u0432\u0430\u044E\u0447\u0430 \u043A\u043D\u043E\u043F\u043A\u0430: \u043B\u0456\u0432\u043E\u0440\u0443\u0447","option-fabr":"\u041F\u043B\u0430\u0432\u0430\u044E\u0447\u0430 \u043A\u043D\u043E\u043F\u043A\u0430: \u043F\u0440\u0430\u0432\u043E\u0440\u0443\u0447","option-hidden":"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u043D\u0430 / \u041D\u0435 \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u0438","option-hidden-mobile":"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u043D\u0430 / \u041F\u0430\u043D\u0435\u043B\u044C \u043D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u0457","option-props":"\u041F\u0456\u0434  \u0432\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u044F\u043C\u0438","option-top":"\u0424\u0456\u043A\u0441\u043E\u0432\u0430\u043D\u043E \u0437\u0432\u0435\u0440\u0445\u0443"},styles:{name:"\u0421\u0442\u0438\u043B\u0456",title:"Style toolbar: {{toolbar}}",description:"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0438 \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u0432\u0430\u043D\u043D\u044F \u0441\u0442\u0438\u043B\u0456\u0432 \u043F\u0430\u043D\u0435\u043B\u0456.",help:"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0439\u0442\u0435 \u0449\u0435 \u0431\u0456\u043B\u044C\u0448\u0435 \u0437 \u0434\u043E\u0434\u0430\u0442\u043A\u043E\u043C Style Settings.","option-placeholder":"\u0414\u043E\u0434\u0430\u0442\u0438 \u0441\u0442\u0438\u043B\u044C...","option-autohide":"\u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u043D\u043E \u0445\u043E\u0432\u0430\u0442\u0438*","option-autohide-disclaimer":"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u043D\u0435 \u043F\u0440\u0438\u0445\u043E\u0432\u0443\u0432\u0430\u043D\u043D\u044F \u043D\u0435 \u043F\u043E\u0448\u0438\u0440\u044E\u0454\u0442\u044C\u0441\u044F \u043D\u0430 \u043C\u043E\u0431\u0456\u043B\u044C\u043D\u043E\u043C \u{1F4F1}.","option-between":"\u0456\u043D\u0442\u0435\u0440\u0432\u0430\u043B \u043C\u0456\u0436 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u043C\u0438","option-border":"\u0440\u0430\u043C\u043A\u0430","option-button":"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u044F\u043A \u043A\u043D\u043E\u043F\u043A\u0438","option-center":"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443","option-even":"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u0440\u0456\u0432\u043D\u043E\u0432\u0456\u0434\u0434\u0430\u043B\u0435\u043D\u043E","option-left":"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u043B\u0456\u0432\u043E\u0440\u0443\u0447","option-noborder":"\u0431\u0435\u0437 \u0440\u0430\u043C\u043A\u0438","option-notsticky":"\u043D\u0435 \u043F\u0440\u0438\u043A\u0440\u0456\u043F\u043B\u044F\u0442\u0438","option-nowrap":"\u043D\u0435 \u0437\u0433\u043E\u0440\u0442\u0430\u0442\u0438 \u0440\u044F\u0434\u043E\u043A*","option-nowrap-disclaimer":"\u041D\u0430\u0439\u043A\u0440\u0430\u0449\u0435 \u043F\u0456\u0434\u0445\u043E\u0434\u0435, \u043A\u043E\u043B\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u043D\u0435 \u0440\u0456\u0432\u043D\u043E\u0432\u0456\u0434\u0434\u0430\u043B\u0435\u043D\u0456 \u0430\u0431\u043E \u043D\u0435 \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443.","option-nowide":"\u0448\u0438\u0440\u0438\u043D\u0430 \u043D\u043E\u0442\u0430\u0442\u043A\u0438","option-right":"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u043F\u0440\u0430\u0432\u043E\u0440\u0443\u0447","option-sticky":"\u043F\u0440\u0438\u043A\u0440\u0456\u043F\u043B\u044F\u0442\u0438*","option-sticky-disclaimer":"\u041F\u0440\u0438\u043A\u0440\u0456\u043F\u043B\u0435\u043D\u043D\u044F \u043D\u0435 \u043F\u0440\u0430\u0446\u044E\u0454 \u0443 \u0440\u0435\u0436\u0438\u043C\u0456 \u0427\u0438\u0442\u0430\u043D\u043D\u044F.","option-wide":"\u0448\u0438\u0440\u0438\u043D\u0430 \u0440\u0435\u0434\u0430\u043A\u0442\u043E\u0440\u0430","option-custom-name":"\u041A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u043B\u044C\u043D\u0438\u0446\u044C\u043A\u0456","option-custom-description":"\u0421\u043F\u0438\u0441\u043E\u043A \u043A\u043B\u0430\u0441\u0456\u0432, \u0440\u043E\u0437\u0434\u0456\u043B\u0435\u043D\u0438\u0445 \u043F\u0440\u043E\u0431\u0456\u043B\u0430\u043C\u0438, \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u0454\u043C\u0438\u0445 \u0434\u043E \u0446\u0456\u0454\u0457 \u043F\u0430\u043D\u0435\u043B\u0456, \u0432\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0445 \u0443 \u0441\u043D\u0456\u043F\u0435\u0442\u0430\u0445 CSS.","option-custom-empty":"CSS \u043A\u043B\u0430\u0441\u0438","option-default-name":"\u0422\u0438\u043F\u043E\u0432\u0438\u0439 \u0441\u0442\u0438\u043B\u044C","option-default-description":"\u0437\u0430\u0441\u0442\u043E\u0441\u0443\u0432\u0430\u043D\u043D\u044F \u0441\u0442\u0438\u043B\u0456\u0432 \u0434\u043B\u044F \u0432\u0441\u0456\u0445 \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C (\u0434\u043E \u043F\u0435\u0440\u0435\u0432\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F).","option-default-empty":"\u0422\u0438\u043F\u043E\u0432\u0456 \u0441\u0442\u0438\u043B\u0456 \u0449\u0435 \u043D\u0435 \u0432\u043A\u0430\u0437\u0430\u043D\u0456.","option-mobile-name":"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u{1F4F1}","option-mobile-description":"\u041F\u0435\u0440\u0435\u0432\u0438\u0437\u043D\u0430\u0447\u0438\u0442\u0438 \u0442\u0438\u043F\u043E\u0432\u0438\u0439 \u0441\u0442\u0438\u043B\u044C.","option-mobile-empty":"\u0421\u0442\u0438\u043B\u0456 \u041C\u043E\u0431\u0456\u043B\u044C\u043D\u043E\u0433\u043E \u043D\u0435 \u0432\u043A\u0430\u0437\u0430\u043D\u0456, \u0434\u0456\u044E\u0442\u044C \u0442\u0438\u043F\u043E\u0432\u0456.","style-tooltip-use-class":"\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438 \u0443 \u0432\u0438\u043D\u043E\u0441\u043A\u0430\u0445 \u0430\u0431\u043E CSS: {{class}}","style-remove-tooltip":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"},"toolbar-suggest-modal":{placeholder:"\u041F\u043E\u0448\u0443\u043A \u043F\u0430\u043D\u0435\u043B\u0456...","instruction-navigate":"\u043F\u0435\u0440\u0435\u0439\u0442\u0438","instruction-use":"\u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438 \u043F\u0430\u043D\u0435\u043B\u044C","instruction-dismiss":"\u0441\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"},toolbars:{name:"\u041F\u0430\u043D\u0435\u043B\u0456","name-with-count":"\u041F\u0430\u043D\u0435\u043B\u0456 ({{count}})",description:"\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0438 \u043F\u0430\u043D\u0435\u043B\u0435\u0439, \u044F\u043A\u0456 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0434\u043E\u0434\u0430\u0442\u0438 \u0434\u043E \u043D\u043E\u0442\u0430\u0442\u043E\u043A.","button-duplicate-tbar-tooltip":"\u0414\u0443\u0431\u043B\u044E\u0432\u0430\u0442\u0438","button-edit-tbar":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438","button-edit-tbar-tooltip":"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0446\u044E \u043F\u0430\u043D\u0435\u043B\u044C","button-more-tooltip":"\u0411\u0456\u043B\u044C\u0448\u0435","button-new-tbar":"+ \u041D\u043E\u0432\u0430 \u043F\u0430\u043D\u0435\u043B\u044C","button-new-tbar-tooltip":"\u0414\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0443 \u043F\u0430\u043D\u0435\u043B\u044C","duplicated-tbar-suffix":"\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438","imported-tbar-name":"\u041D\u043E\u0432\u0430 \u043F\u0430\u043D\u0435\u043B\u044C","label-empty-create-tbar":"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u043A\u043D\u043E\u043F\u043A\u0443 \u0434\u043B\u044F \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u0456.","label-tbar-name-not-set":"\u26A0\uFE0F \u0406\u043C'\u044F \u043F\u0430\u043D\u0435\u043B\u0456 \u043D\u0435 \u0432\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E"},usage:{name:"\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u043D\u044F",description:"\u0426\u044F \u043F\u0430\u043D\u0435\u043B\u044C \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0454\u0442\u044C\u0441\u044F \u0443 {{mappingCount}} \u0437\u0456\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u0456(\u043D\u044F\u0445) \u0442\u0430 {{itemCount}} \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432 \u043F\u0430\u043D\u0435\u043B\u0435\u0439.","description-search":"\u041F\u043E\u0448\u0443\u043A \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u043D\u044F \u0443 \u0432\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u044F\u0445"},"whats-new":{title:"\u0429\u043E \u043D\u043E\u0432\u043E\u0433\u043E \u0443 Note Toolbar?","button-read":"\u0427\u0438\u0442\u0430\u0442\u0438 \u2197","button-read-tooltip":"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 github.com","label-release-notes":"\u041F\u0440\u0438\u043C\u0456\u0442\u043A\u0438 \u0434\u043E \u0432\u0438\u043F\u0443\u0441\u043A\u0443","label-release-notes-description":"\u0414\u0435\u0442\u0430\u043B\u044C\u043D\u0456 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456 \u0434\u043E \u043E\u0441\u0442\u0430\u043D\u043D\u0456\u0445 \u0432\u0438\u043F\u0443\u0441\u043A\u0456\u0432, \u0440\u043E\u0437\u043C\u0456\u0449\u0435\u043D\u0456 \u043D\u0430 GitHub.","label-roadmap":"\u0429\u043E \u0447\u0435\u043A\u0430\u0454 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u0443 Note Toolbar?","label-roadmap-description":"\u041E\u0437\u043D\u0430\u0439\u043E\u043C\u0442\u0435\u0441\u044F \u0437 \u0434\u043E\u0440\u043E\u0436\u043D\u044C\u043E\u044E \u043A\u0430\u0440\u0442\u043E\u044E, \u0434\u043B\u044F \u043F\u0435\u0440\u0435\u0433\u043B\u044F\u0434\u0443 \u0444\u0443\u043D\u043A\u0446\u0456\u0439 \u044F\u043A\u0456 \u0440\u043E\u0437\u0433\u043B\u044F\u0434\u0430\u044E\u0442\u044C\u0441\u044F."}},ia={"button-floating-tooltip":"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 Note Toolbar","menu-edit-toolbar":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043F\u0430\u043D\u0435\u043B\u044C: {{toolbar}}...","menu-hide-properties":"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u0442\u0438 \u0432\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u0456 \u043D\u043E\u0442\u0430\u0442\u043A\u0438","menu-position":"\u0420\u043E\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043D\u043D\u044F","menu-show-properties":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0432\u043B\u0430\u0441\u0442\u0438\u0432\u043E\u0441\u0442\u0456 \u043D\u043E\u0442\u0430\u0442\u043A\u0438","menu-style":"Style...","menu-toolbar-settings":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F Note Toolbar..."},na={adapter:Yn,command:Xn,export:Zn,import:Qn,notice:ea,plugin:ta,setting:oa,toolbar:ia};var Jo={};Tt(Jo,{adapter:()=>aa,api:()=>ra,command:()=>sa,default:()=>ga,export:()=>la,import:()=>pa,notice:()=>da,plugin:()=>ua,setting:()=>ca,toolbar:()=>ma});var aa={args:"\u53C2\u6570\uFF08\u53EF\u9009\uFF09","args-description":"\u60A8\u7684\u811A\u672C\u51FD\u6570\u63A5\u53D7\u7684\u53C2\u6570\uFF0C\u4EE5\u9017\u53F7\u5206\u9694\u7684 '\u540D\u79F0\uFF1Avalue' \u683C\u5F0F\uFF0C\u5B57\u7B26\u4E32\u503C\u5728\u5F15\u53F7\u4E2D\u3002",outputcontainer:"\uFF08\u53EF\u9009\uFF09\u8F93\u51FA\u7684 callout ID","outputcontainer-description":"\u5728\u7B14\u8BB0\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u5E26\u6709\u552F\u4E00\u5143\u5B57\u6BB5\u7684 note-toolbar-output callout \u4EE5\u8F93\u51FA\u6587\u672C\u3002",postCommand:"\uFF08\u53EF\u9009\uFF09\u8FD0\u884C\u540E\u7684\u547D\u4EE4","postCommand-description":"\u811A\u672C\u5B8C\u6210\u540E\u8981\u8FD0\u884C\u7684\u547D\u4EE4\u3002",dataview:{"error-general":"Dataview \u9519\u8BEF: \u67E5\u770B\u63A7\u5236\u53F0\u4EE5\u83B7\u53D6\u66F4\u591A\u7EC6\u8282\n```\n{{error}}\n```","dvjs-function":"\u6267\u884C Dataview JS \u8868\u8FBE\u5F0F","dvjs-expr":"Dataview JS \u8868\u8FBE\u5F0F","dvjs-expr-description":"\u9700\u8981\u8FD0\u884C\u7684 Dataview JS \u8868\u8FBE\u5F0F\u3002","dvjs-expr-error-required":"Error: \u8BF7\u63D0\u4F9B Dataview JS \u8868\u8FBE\u5F0F","exec-function":"\u6267\u884C JavaScript","exec-sourcefile":"JavaScript \u6587\u4EF6","exec-sourcefile-description":"\u9700\u8981\u8FD0\u884C\u7684 Dataview JS \u6587\u4EF6","exec-error-required":"\u9519\u8BEF: \u8BF7\u63D0\u4F9B\u811A\u672C\u6587\u4EF6","eval-function":"\u6267\u884C Dataview \u8868\u8FBE\u5F0F","eval-expr":"Dataview \u8868\u8FBE\u5F0F","eval-expr-description":"\u9700\u8981\u6267\u884C\u7684 Dataview \u8868\u8FBE\u5F0F","eval-expr-error-required":"\u9519\u8BEF: \u8BF7\u63D0\u4F9B Dataview \u8868\u8FBE\u5F0F","query-function":"\u6267\u884C\u67E5\u8BE2","query-expr":"\u67E5\u8BE2","query-expr-description":"\u9700\u8981\u6267\u884C\u7684 Dataview \u67E5\u8BE2","query-expr-error-required":"\u9519\u8BEF\uFF1A\u8BF7\u63D0\u4F9B Dataview \u67E5\u8BE2"},"js-engine":{"exec-function":"\u6267\u884C JavaScript","exec-sourcefile":"JavaScript \u6587\u4EF6","exec-sourcefile-description":"\u8981\u6267\u884C\u7684 JavaScript \u6587\u4EF6\u3002","exec-sourcefile-error-required":"\u9519\u8BEF\uFF1A\u9700\u8981\u4E00\u4E2A JavaScript \u6587\u4EF6","importexec-function":"\u5BFC\u5165\u5E76\u6267\u884C JavaScript","importexec-sourcefile":"JavaScript \u6587\u4EF6","importexec-sourcefile-description":"\u8981\u5BFC\u5165\u7684 JavaScript \u6587\u4EF6\u3002\u6CE8\u610F\u8BE5\u6587\u4EF6\u53EA\u4F1A\u88AB\u5BFC\u5165\u4E00\u6B21\u3002\u4F60\u53EF\u80FD\u9700\u8981\u91CD\u542F Obsidian \u624D\u80FD\u4F7F\u66F4\u6539\u751F\u6548\u3002","importexec-sourcefile-error-required":"\u9519\u8BEF\uFF1A\u9700\u8981\u4E00\u4E2A JavaScript \u6587\u4EF6","importexec-sourcefunction":"\u51FD\u6570\uFF08\u53EF\u9009\uFF09","importexec-sourcefunction-description":"\u5982\u679C\u811A\u672C\u6709\u51FD\u6570\uFF0C\u8981\u6267\u884C\u7684\u51FD\u6570\u540D\u3002","importexec-args":"\u53C2\u6570\uFF08\u53EF\u9009\uFF09","importexec-args-description":"\u4F60\u7684\u811A\u672C\u51FD\u6570\u63A5\u53D7\u7684\u53C2\u6570\uFF0C\u4EE5\u9017\u53F7\u5206\u9694\u7684 'name: value' \u683C\u5F0F\uFF0C\u5B57\u7B26\u4E32\u503C\u5728\u5F15\u53F7\u4E2D\u3002"},templater:{"append-function":"\u63D2\u5165\u6A21\u677F","append-sourcefile":"\u6A21\u677F","append-sourcefile-description":"\u8981\u63D2\u5165\u7684\u6A21\u677F\u6587\u4EF6\u3002","append-sourcefile-error-required":"\u9519\u8BEF\uFF1A\u9700\u8981\u4E00\u4E2A\u6A21\u677F\u6587\u4EF6","create-function":"\u4ECE\u6A21\u677F\u521B\u5EFA\u65B0\u7B14\u8BB0","create-sourcefile":"\u6A21\u677F","create-sourcefile-description":"\u7528\u4E8E\u521B\u5EFA\u65B0\u6587\u4EF6\u7684\u6A21\u677F\u6587\u4EF6\u3002","create-sourcefile-error-required":"\u9519\u8BEF\uFF1A\u9700\u8981\u4E00\u4E2A\u6A21\u677F\u6587\u4EF6","create-outputfile":"\u8F93\u51FA\u6587\u4EF6\u540D\uFF08\u53EF\u9009\uFF09","create-outputfile-description":"\u4ECE\u63D0\u4F9B\u7684\u6A21\u677F\u521B\u5EFA\u7684\u6587\u4EF6\u540D\u79F0\uFF08\u4E0D\u542B\u6269\u5C55\u540D\uFF09\u548C\u6587\u4EF6\u5939\u3002","eval-function":"\u6267\u884C Templater \u547D\u4EE4","eval-expr":"Templater \u547D\u4EE4","eval-expr-description":"\u8981\u6267\u884C\u7684 Templater \u547D\u4EE4\u3002","eval-expr-error-required":"\u9519\u8BEF\uFF1A\u9700\u8981\u4E00\u4E2A Templater \u8868\u8FBE\u5F0F","exec-function":"\u6267\u884C Templater \u6587\u4EF6","exec-sourcefile":"\u6A21\u677F\u6587\u4EF6","exec-sourcefile-description":"\u6267\u884C\u6587\u4EF6\u5185\u5BB9\u5E76\u8FD4\u56DE\u3002","exec-sourcefile-error-required":"\u9519\u8BEF\uFF1A\u9700\u8981\u4E00\u4E2A Templater \u6587\u4EF6"},error:{"args-parsing":"\u7F16\u8BD1 {{filename}} \u811A\u672C\u7684\u53C2\u6570\u5931\u8D25","args-parsing-error":"\u7F16\u8BD1 {{filename}} \u811A\u672C\u7684\u53C2\u6570\u5931\u8D25\n```\n{{error}}\n```","callout-not-found":"\u9519\u8BEF\uFF1A\u5728\u5F53\u524D\u7B14\u8BB0\u4E2D\u65E0\u6CD5\u627E\u5230 ID \u4E3A {{id}} \u7684 note-toolbar-output \u6807\u6CE8","exec-failed":"\u65E0\u6CD5\u6267\u884C\u811A\u672C\uFF1A{{filename}}","expr-failed":"\u65E0\u6CD5\u6267\u884C\u8868\u8FBE\u5F0F\uFF1A{{expression}}","expr-note-not-open":"\u8BE5\u8868\u8FBE\u5F0F\u4EC5\u652F\u6301\u5728\u6253\u5F00\u7684\u7B14\u8BB0\u4E2D\u6267\u884C\u3002","file-not-found":"\u627E\u4E0D\u5230\u6587\u4EF6\uFF1A{{filename}}","function-invalid":"\u4E0D\u652F\u6301\u7684\u51FD\u6570\uFF1A{{function}}","function-not-found":"\u627E\u4E0D\u5230\u51FD\u6570\uFF1A{{{function}}","function-note-not-open":"\u6B64\u529F\u80FD\u4EC5\u652F\u6301\u5728\u6253\u5F00\u7684\u7B14\u8BB0\u4E2D\u6267\u884C\u3002","query-failed":"\u65E0\u6CD5\u6267\u884C\u67E5\u8BE2\uFF1A{{expression}}","query-note-not-open":"\u6B64\u67E5\u8BE2\u4EC5\u652F\u6301\u5728\u6253\u5F00\u7684\u7B14\u8BB0\u4E2D\u8FD0\u884C\u3002"}},ra={ui:{"button-submit":"\u63D0\u4EA4","error-cancelled":"\u5DF2\u53D6\u6D88\u63D0\u793A","error-undefined":"\u672A\u5B9A\u4E49\u7684\u9879\u76EE","prompt-placeholder":"\u5728\u6B64\u8F93\u5165\u6587\u672C","suggester-placeholder":"\u9009\u62E9\u4E00\u4E2A\u9009\u9879..."}},sa={"name-focus":"\u805A\u7126","name-item-suggester":"\u6253\u5F00\u5FEB\u901F\u5DE5\u5177","name-item-suggester-current":"\u6253\u5F00\u5F53\u524D\u5DE5\u5177\u680F\u7684\u5FEB\u901F\u5DE5\u5177","name-toolbar-suggester":"\u6253\u5F00\u5FEB\u901F\u5DE5\u5177\u680F","name-copy-command-uri":"\u590D\u5236\u547D\u4EE4\u7684 URI","name-copy-command-as-data-element":"\u590D\u5236\u547D\u4EE4\u7684 callout \u9879\u76EE","copy-command-notice":"\u547D\u4EE4\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F","name-settings":"\u6253\u5F00\u63D2\u4EF6\u8BBE\u7F6E","name-toolbar-settings":"\u6253\u5F00\u5DE5\u5177\u680F\u8BBE\u7F6E","name-show-properties":"\u663E\u793A\u7B14\u8BB0\u5C5E\u6027","name-hide-properties":"\u9690\u85CF\u7B14\u8BB0\u5C5E\u6027","name-fold-properties":"\u6298\u53E0\u7B14\u8BB0\u5C5E\u6027","name-toggle-properties":"\u5207\u6362\u7B14\u8BB0\u5C5E\u6027\u7684\u663E\u793A","name-open-toolbar":"\u6253\u5F00\uFF1A{{toolbar}}"},la={"item-generic":"\u9879\u76EE{{number}}","label-callout":"\u590D\u5236\u4E3A\u6807\u6CE8\uFF08Callout\uFF09","label-share":"\u5206\u4EAB...","label-share-description":"\u5206\u4EAB\u6B64\u94FE\u63A5\u7ED9\u5176\u4ED6 Note Toolbar \u7528\u6237\uFF0C\u8BA9\u4ED6\u4EEC\u80FD\u5C06\u4F60\u7684\u5DE5\u5177\u680F\u6DFB\u52A0\u5230\u4ED3\u5E93\u5185\u3002","label-share-preview":"\u9884\u89C8","title-share":"\u5206\u4EAB\u5DE5\u5177\u680F\uFF1A{{toolbar}}","button-copy-link":"\u590D\u5236\u94FE\u63A5","button-copy-link-description":"\u5C06\u6B64\u94FE\u63A5\u590D\u5236\u5230\u526A\u8D34\u677F","notice-completed":"\u5DE5\u5177\u680F\u5DF2\u4F5C\u4E3A Callout \u590D\u5236\u5230\u526A\u8D34\u677F\uFF0C\u6253\u5F00\u8BBE\u7F6E\u4EE5\u8C03\u6574\u683C\u5F0F\u3002","notice-shared":"Note Toolbar \u94FE\u63A5\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F","warning-share-menu":"\u6B64\u5DE5\u5177\u680F\u5F15\u7528\u4E86\u81F3\u5C11\u4E00\u4E2A\u5916\u90E8\u5DE5\u5177\u680F\uFF0C\u63A5\u6536\u8005\u5C06\u65E0\u6CD5\u8BBF\u95EE\u3002","warning-share-length":"\u67D0\u4E9B\u7F51\u9875\u6D4F\u89C8\u5668\u53EF\u80FD\u65E0\u6CD5\u52A0\u8F7D\u957F\u5EA6\u8D85\u8FC7 2,048 \u4E2A\u5B57\u7B26\u7684 URL\u3002","option-uri":"\u4F7F\u7528 Obsidian URI","option-uri-description":"\u63D0\u4F9B obsidian:// \u94FE\u63A5\u800C\u4E0D\u662F https:// URL\u3002"},pa={"title-import":"\u4ECE Callout \u521B\u5EFA\u5DE5\u5177\u680F","title-import-confirmation":"\u521B\u5EFA Note Toolbar\uFF1A{{toolbar}}","title-import-into":"\u6DFB\u52A0 Callout \u9879\u76EE\u5230\u5DE5\u5177\u680F\uFF1A{{toolbar}}","label-import-confirmation":"\u786E\u8BA4\u8981\u6DFB\u52A0\u6B64\u5DE5\u5177\u680F\u3002\u6DFB\u52A0\u540E\uFF0C\u9700\u8981\u5C06\u6B64\u5DE5\u5177\u680F\u6620\u5C04\u5230\u4E00\u4E2A\u6216\u591A\u4E2A\u7B14\u8BB0\u3002","label-import":"\u5728\u4E0B\u65B9\u7C98\u8D34 Note Toolbar Callout\uFF0C\u5B83\u5C06\u88AB\u6DFB\u52A0\u4E3A\u65B0\u7684\u5DE5\u5177\u680F\u3002","label-import-into":"\u5728\u4E0B\u65B9\u7C98\u8D34 Note Toolbar Callout\uFF0C\u5176\u9879\u76EE\u5C06\u88AB\u6DFB\u52A0\u5230\u6B64\u5DE5\u5177\u680F\u3002\u5982\u679C\u6709\u6837\u5F0F\uFF0C\u5C06\u88AB\u5FFD\u7565\u3002","label-import-into-help":"\u4E0D\u9700\u8981 Callout \u6807\u9898\uFF0C\u5373\u4F7F\u63D0\u4F9B\u4E86\u4E5F\u4F1A\u88AB\u5FFD\u7565\u3002","button-add-items":"\u6DFB\u52A0\u9879\u76EE","button-cancel":"\u53D6\u6D88","button-create":"\u521B\u5EFA","button-confirm":"\u786E\u8BA4","option-create":"\u4ECE Callout \u521B\u5EFA Note Toolbar...","option-help":"\u5173\u4E8E Note Toolbar Callouts","button-import-tooltip":"\u4ECE Callout \u521B\u5EFA\u5DE5\u5177\u680F","button-import-into-tooltip":"\u4ECE Callout \u6DFB\u52A0\u5DE5\u5177\u680F\u9879\u76EE","error-invalid-uri-content":"Note Toolbar\uFF1A\u6B64\u94FE\u63A5\u4F3C\u4E4E\u6709\u95EE\u9898\u3002\u8BF7\u68C0\u67E5 URI \u662F\u5426\u6B63\u786E\uFF0C\u6216\u67E5\u770B\u7528\u6237\u6307\u5357\u3002","errorlog-heading":"\u5BFC\u5165\u5DE5\u5177\u680F\u65F6\u53D1\u73B0\u9519\u8BEF\uFF1A","errorlog-item":"\u9879\u76EE {{number}}\uFF1A","errorlog-command-not-recognized":"\u672A\u8BC6\u522B\u7684\u547D\u4EE4\uFF1A{{command}}","errorlog-icon-not-found":"\u672A\u627E\u5230\u56FE\u6807\uFF1A{{icon}}","errorlog-invalid-format":"\u683C\u5F0F\u65E0\u6548\uFF1A{{line}}","errorlog-invalid-styles":"\u5DF2\u5FFD\u7565\u65E0\u6548\u6837\u5F0F\uFF1A{{styles}}","errorlog-menu-not-found":"\u672A\u627E\u5230\u83DC\u5355\uFF1A{{menu}}","placeholder-import-into":"> Note Toolbar Callout markdown...","warning-invalid-plugins":"\u6B64\u5DE5\u5177\u680F\u4F7F\u7528\u4E86\u4F60\u5C1A\u672A\u5B89\u88C5\u548C\u542F\u7528\u7684\u63D2\u4EF6\uFF1A","warning-vars":"\u6B64\u5DE5\u5177\u680F\u4F7F\u7528\u4E86\u53D8\u91CF\uFF0C\u4F60\u53EF\u4EE5\u4FEE\u6539\u5B83\u4EEC\u4EE5\u9002\u5E94\u4F60\u7684\u4ED3\u5E93\u3002"},da={"error-command-not-found":`\u8BF7\u68C0\u67E5\u7B14\u8BB0\u5DE5\u5177\u680F\u8BBE\u7F6E\u4E2D\u7684\u547D\u4EE4\u8BBE\u7F6E\u3002
\u672A\u627E\u5230\u547D\u4EE4\uFF1A{{command}}`,"error-folder-not-found":`\u8BF7\u68C0\u67E5\u7B14\u8BB0\u5DE5\u5177\u680F\u8BBE\u7F6E\u4E2D\u7684\u6587\u4EF6\u5939\u8BBE\u7F6E\u3002
\u672A\u627E\u5230\u6587\u4EF6\u5939\uFF1A{{folder}}`,"error-item-menu-not-found":`\u8BF7\u68C0\u67E5\u7B14\u8BB0\u5DE5\u5177\u680F\u8BBE\u7F6E\u4E2D\u7684\u83DC\u5355\u9879\u8BBE\u7F6E\u3002
\u672A\u627E\u5230\u5DE5\u5177\u680F\uFF1A{{toolbar}}`,"error-scripting-not-enabled":"\u8BF7\u5728 Note Toolbar \u8BBE\u7F6E\u4E2D\u542F\u7528\u811A\u672C\u529F\u80FD\u4EE5\u4F7F\u7528\u6B64\u9879\u76EE\u3002","error-scripting-plugin-not-enabled":"\u8BF7\u5728\u5B89\u88C5\u5E76\u542F\u7528\u63D2\u4EF6\u540E\u5207\u6362\u811A\u672C\u8BBE\u7F6E\uFF1A{{plugin}}","error-toolbar-not-found":`\u8BF7\u68C0\u67E5\u7B14\u8BB0\u5DE5\u5177\u680F\u8BBE\u7F6E\u4E2D\u7684\u5DE5\u5177\u680F\u8BBE\u7F6E\u3002
\u672A\u627E\u5230\u5DE5\u5177\u680F\uFF1A{{folder}}`,"error-uri-params-not-supported":"\u4E0D\u652F\u6301 {{params}} \u4E2D\u7684\u67D0\u4E2A\uFF08\u6216\u67D0\u4E9B\uFF09\u7684 URI \u53C2\u6570","warning-no-matching-toolbar":`Note Toolbar: \u6CA1\u6709\u5339\u914D\u7684 {{toolbar}} \u5DE5\u5177\u680F
\u70B9\u51FB\u6B64\u5904\u521B\u5EFA`},ua={name:"Note Toolbar \u7B14\u8BB0\u5DE5\u5177\u680F"},ca={"button-cancel":"\u53D6\u6D88","button-collapse-tooltip":"\u6298\u53E0","button-delete-tooltip":"\u5220\u9664","button-drag-tooltip":"\u62D6\u52A8\u4EE5\u91CD\u65B0\u6392\u5E8F","button-expand-tooltip":"\u5C55\u5F00","button-help":"\u5E2E\u52A9","button-help-tooltip":"\u6253\u5F00\u5E2E\u52A9\u7A97\u53E3","button-learn-more":"\u4E86\u89E3\u66F4\u591A","button-user-guide":"\u7528\u6237\u6307\u5357","button-whats-new":"\u66F4\u65B0\u4E86\u5565\uFF1F","button-whats-new-tooltip":"\u67E5\u770B\u300C\u66F4\u65B0\u4E86\u5565\uFF1F\u300D\u7A97\u53E3","error-old-settings-name":"\u26A0\uFE0F \u9519\u8BEF\uFF1A\u8BF7\u91CD\u65B0\u542F\u7528\u7B14\u8BB0\u5DE5\u5177\u680F\u63D2\u4EF6\uFF08\u6216\u91CD\u542F Obsidian\uFF09","error-old-settings-description":"\u52A0\u8F7D\u4E86\u65E7\u7684\u8BBE\u7F6E\u6587\u4EF6\uFF08{{oldVersion}}\uFF09\uFF0C\u5F53\u524D\u6700\u65B0\u7248\u672C\u4E3A {{currentVersion}}","option-platform-desktop":"\u684C\u9762\u7AEF","option-platform-mobile":"\u79FB\u52A8\u7AEF","title-edit-toolbar":"\u7F16\u8F91\u5DE5\u5177\u680F\uFF1A{{toolbar}}","title-edit-toolbar_none":"\u7F16\u8F91\u5DE5\u5177\u680F","command-suggest-modal":{placeholder:"\u641C\u7D22\u547D\u4EE4...","instruction-navigate":"\u5BFC\u822A","instruction-use":"\u81F3\u9009\u62E9\u547D\u4EE4","instruction-dismiss":"\u5FFD\u7565"},"copy-as-callout":{title:"\u590D\u5236\u4E3A\u6807\u6CE8",description:"\u5B9A\u4E49\u5C06\u5DE5\u5177\u680F\u8F6C\u6362\u4E3A\u6807\u6CE8\u65F6\u7684\u884C\u4E3A","option-icons":"\u5305\u542B\u56FE\u6807","option-icons-description":`\u5C06\u56FE\u6807\u5360\u4F4D\u7B26\u6DFB\u52A0\u5230\u6807\u6CE8\u4E2D\uFF08\u793A\u4F8B\uFF1A \uFF1ALiHome: \uFF09\u5FC5\u987B\u5B89\u88C5\u5E76\u542F\u7528 Iconize \u63D2\u4EF6\u624D\u80FD\u67E5\u770B\u56FE\u6807\u3002
\u5982\u679C\u7981\u7528\uFF0C\u5219\u5728\u672A\u8BBE\u7F6E\u6807\u7B7E\u7684\u60C5\u51B5\u4E0B\u5C06\u4F7F\u7528\u5DE5\u5177\u63D0\u793A\u3002
\u56FE\u6807\u53EF\u4EE5\u88AB\u5176\u4ED6\u7528\u6237\u5BFC\u5165\u3002`,"option-vars":"\u66FF\u6362\u53D8\u91CF\u548C\u8868\u8FBE\u5F0F","option-vars-description":`\u5DE5\u5177\u680F\u4E2D\u4F7F\u7528\u7684\u4EFB\u4F55\u53D8\u91CF\u548C\u8868\u8FBE\u5F0F\u90FD\u5C06\u88AB\u60A8\u5F53\u524D\u67E5\u770B\u7684\u6CE8\u91CA\u4E2D\u7684\u503C\u66FF\u6362\u3002
\u793A\u4F8B\uFF1A{{note_title}}\u2192\u6211\u7684\u7B14\u8BB0`,"option-ids":"\u5728\u83DC\u5355\u9879\u4E2D\u4F7F\u7528 ID","option-ids-description":`\u5982\u679C\u83DC\u5355\u5DE5\u5177\u680F\u66F4\u540D\uFF0C\u5219\u53EF\u4EE5\u786E\u4FDD\u83DC\u5355\u9879\u4ECD\u7136\u9002\u7528\u4E8E\u60A8\u3002
\u5982\u679C\u60A8\u60F3\u5171\u4EAB\u6807\u6CE8\uFF0C\u8BF7\u5173\u95ED\u6B64\u9009\u9879\uFF0C\u5E76\u6539\u4E3A\u5C06\u4F7F\u7528\u5DE5\u5177\u680F\u7684\u540D\u79F0\u3002`,"option-data":"\u4F7F\u7528\u6570\u636E\u5143\u7D20","option-data-description":`\u6570\u636E\u5143\u7D20\u4F7F\u5F97\u5728\u65B0\u7A97\u53E3\u4E2D\u6253\u5F00\u7684\u5DE5\u5177\u680F\u4ECD\u7136\u80FD\u6B63\u5E38\u5DE5\u4F5C\u3002
\u5982\u679C\u7981\u7528\uFF0C\u5C06\u4F7F\u7528\u7B14\u8BB0\u5DE5\u5177\u680F\u7684 URI \u800C\u4E0D\u662F\u6570\u636E\u5143\u7D20\uFF0C\u5E76\u63D0\u4F9B\u770B\u8D77\u6765\u66F4\u7B80\u6D01\u7684 Markdown\u3002`},"delete-toolbar":{name:"\u5220\u9664\u6B64\u5DE5\u5177\u680F",description:"\u6B64\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\u3002",title:"\u5220\u9664\u5DE5\u5177\u680F\uFF1A{{toolbar}}","button-delete":"\u5220\u9664...","button-delete-confirm":"\u5220\u9664","button-delete-tooltip":"\u5220\u9664\u6B64\u5DE5\u5177\u680F","label-delete-confirm":"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u5DE5\u5177\u680F\u5417\uFF1F"},"display-rules":{name:"\u7279\u5B9A\u7B14\u8BB0\u663E\u793A\u89C4\u5219",description:"\u5B9A\u4E49\u5728\u54EA\u4E9B\u7279\u5B9A\u7B14\u8BB0\u4E0A\u663E\u793A\u5DE5\u5177\u680F\u3002","option-emptyview":"\u65B0\u6807\u7B7E\u9875\u7684\u5DE5\u5177\u680F","option-emptyview-description":"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u663E\u793A\u7684\u5DE5\u5177\u680F","toggle-emptyview":"\u5728\u65B0\u6807\u7B7E\u9875\u89C6\u56FE\u4E2D\u663E\u793A\u5DE5\u5177\u680F","toggle-emptyview-description":"\u9009\u62E9\u5F53\u672A\u6253\u5F00\u4EFB\u4F55\u7B14\u8BB0\u65F6\u663E\u793A\u7684\u5DE5\u5177\u680F","option-property":"\u5C5E\u6027","option-property-description":"\u5982\u679C\u5728\u6B64\u5C5E\u6027\u4E2D\u627E\u5230\u5DE5\u5177\u680F\u540D\u79F0\uFF0C\u5219\u4F1A\u5728\u7B14\u8BB0\u4E0A\u663E\u793A\u5BF9\u5E94\u7684\u5DE5\u5177\u680F\u3002\u4F18\u5148\u4E8E\u4EFB\u4F55\u6587\u4EF6\u5939\u6620\u5C04\u7684\u89C4\u5219\u3002\u8BBE\u7F6E\u4E3A'none'\u5219\u4F1A\u9690\u85CF\u5DE5\u5177\u680F\u3002","option-property-placeholder":"\u5C5E\u6027"},help:{title:"\u7B14\u8BB0\u5DE5\u5177\u680F\u7684\u5E2E\u52A9\u{1F6DF}",description:"\u4E3A\u60A8\u7684\u7B14\u8BB0\u521B\u5EFA\u4E0A\u4E0B\u6587\u611F\u77E5\u7684\u5DE5\u5177\u680F\u3002","button-donate":"\u6350\u8D60 \u2197","button-donate-tooltip":"\u6253\u5F00 buymeacoffee.com","button-open":"\u6253\u5F00\u2197","button-open-github":"\u6253\u5F00github.com","button-open-google":"\u6253\u5F00Goog\u200B\u200Ble.com","button-read":"\u9605\u8BFB\u2197","label-article-1":"\u521B\u5EFA\u5DE5\u5177\u680F\u9879\u76EE","label-article-1-description":"\u4E86\u89E3\u4E0D\u540C\u7C7B\u578B\u7684\u9879\u76EE","label-article-2":"\u7B14\u8BB0\u5DE5\u5177\u680F\u7684\u6807\u6CE8","label-article-2-description":"\u4E86\u89E3\u5982\u4F55\u5728\u7B14\u8BB0\u4E2D\u521B\u5EFA\u5DE5\u5177\u680F\u3002","label-bug":"\u62A5\u544A\u9519\u8BEF","label-bug-description":"\u53D1\u73B0\u4E86\u95EE\u9898\uFF1F\u8BF7\u5728GitHub\u4E2D\u8BB0\u5F55\u95EE\u9898\uFF0C\u6216\u586B\u5199\u6B64Google\u8868\u683C\u3002","label-donate":"\u8BF7\u6211\u559D\u5496\u5561","label-donate-description":`\u5982\u679C\u60A8\u8BA4\u4E3A\u6B64\u63D2\u4EF6\u6709\u5E2E\u52A9\uFF0C\u5E76\u5E0C\u671B\u5728\u7ECF\u6D4E\u4E0A\u652F\u6301\u6211\uFF0C\u8BF7\u8003\u8651\u6350\u8D60\u3002
\u8C22\u8C22\u4F60\uFF01`,"label-examples":"\u89C1\u793A\u4F8B","label-examples-description":"\u4ECE\u8FD9\u4E9B\u73B0\u6210\u7684\u5DE5\u5177\u680F\u793A\u4F8B\u4E2D\u83B7\u5F97\u542F\u53D1","label-feedback":"\u63D0\u4F9B\u53CD\u9988","label-feedback-description":"\u4F7F\u7528\u6B64Google\u8868\u5355\u6765\u63D0\u4F9B\u60A8\u53EF\u80FD\u6709\u7684\u4EFB\u4F55\u53CD\u9988\uFF0C\u95EE\u9898\u6216\u60F3\u6CD5\u3002","label-support":"\u83B7\u53D6\u652F\u6301","label-support-description":"\u8BBF\u95EEGithub\u4E0A\u7684\u8BBA\u575B\uFF0C\u5411\u793E\u533A\u63D0\u51FA\u95EE\u9898\u3002","label-user-guide":"\u9605\u8BFB\u7528\u6237\u6307\u5357","label-user-guide-description":"\u5982\u4F55\u5145\u5206\u5229\u7528\u63D2\u4EF6\uFF0C\u5305\u62EC\u5C0F\u63D0\u793A\u548C\u793A\u4F8B\u3002"},"icon-suggester":{"option-no-icon":"\u65E0\u56FE\u6807",placeholder:"\u641C\u7D22\u56FE\u6807...","instruction-navigate":"\u5BFC\u822A","instruction-use":"\u4F7F\u7528\u56FE\u6807","instruction-dismiss":"\u5173\u95ED"},item:{title:"\u7F16\u8F91\u9879\u76EE","button-duplicate-tooltip":"\u590D\u5236\u6B64\u9879\u76EE","button-icon-tooltip":"\u9009\u62E9\u56FE\u6807\uFF08\u53EF\u9009\uFF09","label-preview-edit":"\u7F16\u8F91\u5DE5\u5177\u680F\uFF1A{{toolbar}}","label-preview-empty-no-items":"\u7F3A\u5C11\u9879\u76EE\uFF0C\u7F16\u8F91\u6B64\u5DE5\u5177\u680F\u4EE5\u6DFB\u52A0\u9879\u76EE\u3002","option-break":"\u6362\u884C","option-command":"\u547D\u4EE4","option-command-error-does-not-exist":"\u8BE5\u547D\u4EE4\u4E0D\u5B58\u5728","option-command-error-not-available-install":"\u8BE5\u547D\u4EE4\u4E0D\u53EF\u7528\uFF1B\u5FC5\u987B\u5148\u5B89\u88C5\u5E76\u542F\u7528\u5BF9\u5E94\u63D2\u4EF6\u3002","option-command-error-not-available-search":"\u65E0\u6CD5\u627E\u5230\u547D\u4EE4\uFF0C\u8BF7\u91CD\u65B0\u641C\u7D22","option-command-error-refresh":"\u5237\u65B0","option-command-placeholder":"\u641C\u7D22\u547D\u4EE4","option-component-icon":"\u56FE\u6807","option-component-label":"\u6587\u672C","option-file":"\u6587\u4EF6","option-file-placeholder":"\u641C\u7D22\u6587\u4EF6\u6216\u6587\u4EF6\u5939","option-file-error-does-not-exist":"\u6B64\u6587\u4EF6\uFF08\u6216\u6587\u4EF6\u5939\uFF09\u4E0D\u5B58\u5728\u3002","option-item-group":"\u9879\u76EE\u7EC4","option-item-group-placeholder":"\u5DE5\u5177\u680F","option-item-group-help":"\u9009\u62E9\u8981\u5D4C\u5957\u8FDB\u6B64\u5DE5\u5177\u680F\u7684\u5DE5\u5177\u680F\u3002","option-item-group-error-does-not-exist":"\u5DE5\u5177\u680F\u4E0D\u5B58\u5728","option-item-group-error-invalid":"\u26A0\uFE0F \u65E0\u6548\u7684\u9879\u76EE\u7EC4","option-item-menu":"\u9879\u76EE\u83DC\u5355","option-item-menu-placeholder":"\u5DE5\u5177\u680F","option-item-menu-help":"\u9009\u62E9\u8981\u4F5C\u4E3A\u83DC\u5355\u6253\u5F00\u7684\u5DE5\u5177\u680F\u3002","option-item-menu-error-does-not-exist":"\u5DE5\u5177\u680F\u4E0D\u5B58\u5728","option-label-placeholder":"\u6587\u672C\uFF08\u5982\u679C\u8BBE\u7F6E\u4E86\u56FE\u6807\u5219\u53EF\u9009\uFF09","option-separator":"\u5206\u9694\u7B26","option-tooltip-placeholder":"\u5DE5\u5177\u63D0\u793A\uFF08\u53EF\u9009\uFF09","option-uri":"URI","option-uri-placehoder":"\u7F51\u7AD9\u3001URI \u6216\u7B14\u8BB0\u540D\u79F0","option-uri-help":"\u63D0\u793A\uFF1A\u5728 URI \u4E2D\u53EF\u4EE5\u4F7F\u7528\u4F7F\u7528\u7B14\u8BB0\u5C5E\u6027\u3002","option-visibility-component-hidden-platform":"\u5728{{platform}}\u9690\u85CF{{component}}","option-visibility-component-visible-platform":"\u5728{{platform}}\u663E\u793A{{component}}","option-visibility-hidden":"\u9690\u85CF","option-visibility-hidden-platform":"\u5728{{platform}}\u9690\u85CF","option-visibility-visible-platform":"\u5728{{platform}}\u663E\u793A","option-visibility-platform-desktop":"\u684C\u9762\u7AEF","option-visibility-platform-mobile":"\u79FB\u52A8\u7AEF"},"item-suggest-modal":{placeholder:"\u641C\u7D22\u9879\u76EE...","placeholder-toolbar":"{{toolbar}}: \u641C\u7D22\u9879\u76EE...","instruction-back":"\u8FD4\u56DE","instruction-navigate":"\u5BFC\u822A","instruction-use":"\u4F7F\u7528\u8BE5\u9879","instruction-dismiss":"\u53D6\u6D88","key-back":"\u232B or \u2190","key-navigate":"\u2191\u2193","key-use":"\u21B5","key-dismiss":"esc"},items:{name:"\u9879\u76EE","name-with-count":"\u9879\u76EE\uFF08{{count}}\uFF09",description:"\u6309\u987A\u5E8F\u5411\u5DE5\u5177\u680F\u6DFB\u52A0\u9879\u76EE\u3002","label-empty-no-items":"\u65E0\u5DE5\u5177\u680F\u9879\u76EE\u3002","button-add-break-tooltip":"\u5411\u5DE5\u5177\u680F\u6DFB\u52A0\u6362\u884C","button-add-separator-tooltip":"\u5411\u5DE5\u5177\u680F\u6DFB\u52A0\u5206\u9694\u7B26","button-new-item":"+ \u6DFB\u52A0\u5DE5\u5177\u680F\u9879\u76EE","button-new-item-tooltip":"\u5411\u5DE5\u5177\u680F\u6DFB\u52A0\u65B0\u9879\u76EE","option-item-empty-label":"\u672A\u8BBE\u7F6E\u6587\u672C","option-edit-item-group-tooltip":"\u7F16\u8F91\u9879\u76EE\u7EC4\uFF1A{{toolbar}}","option-edit-item-group-tooltip_none":"\u7F16\u8F91\u9879\u76EE\u7EC4","option-edit-item-tooltip":"\u7F16\u8F91\u5DE5\u5177\u680F\u9879\u76EE","option-edit-item-type-tooltip":"\u7F16\u8F91 {{itemType}}"},mappings:{name:"\u6587\u4EF6\u5939\u6620\u5C04","name-with-count":"\u6587\u4EF6\u5939\u6620\u5C04\uFF08{{count}}\uFF09",description:"\u4E0B\u5217\u6587\u4EF6\u5939\u4E2D\u7684\u7B14\u8BB0\u5C06\u663E\u793A\u6620\u5C04\u5230\u8BE5\u6587\u4EF6\u5939\u7684\u5DE5\u5177\u680F\uFF0C\u4F18\u5148\u7EA7\u4ECE\u4E0A\u5230\u4E0B\u3002","label-empty":"\u4F7F\u7528\u8BE5\u6309\u94AE\u521B\u5EFA\u6620\u5C04","placeholder-folder":"\u6587\u4EF6\u5939","placeholder-toolbar":"\u5DE5\u5177\u680F","button-collapse-tooltip":"\u6298\u53E0\u6240\u6709\u6620\u5C04","button-expand-tooltip":"\u5C55\u5F00\u6240\u6709\u6620\u5C04","button-new":"+ \u65B0\u5EFA\u6620\u5C04","button-new-tooltip":"\u6DFB\u52A0\u65B0\u6620\u5C04","option-folder-all":"\u6240\u6709\u6587\u4EF6\u5939","option-folder-root":"\u4EC5\u6839\u76EE\u5F55","error-folder-already-mapped":"\u6B64\u6587\u4EF6\u5939\u5DF2\u7ECF\u5173\u8054\u4E86\u4E00\u4E2A\u5DE5\u5177\u680F"},name:{name:"\u540D\u79F0",description:"\u4E3A\u6B64\u5DE5\u5177\u680F\u6307\u5B9A\u552F\u4E00\u540D\u79F0\u3002","error-toolbar-already-exists":"\u5DF2\u5B58\u5728\u540C\u540D\u7684\u5DE5\u5177\u680F\uFF01"},"open-command":{name:"\u589E\u52A0\u5DE5\u5177\u680F\u547D\u4EE4",description:"\u6DFB\u52A0\u547D\u4EE4\u4EE5\u4FBF\u5728\u300C\u5FEB\u901F\u5DE5\u5177\u300D\u7A97\u53E3\u4E2D\u6253\u5F00\u5DE5\u5177\u680F"},other:{name:"\u5176\u4ED6",icon:{name:"\u56FE\u6807",description:"\u8BBE\u7F6E\u6D6E\u52A8\u6309\u94AE\u548C\u5BFC\u822A\u680F\uFF08\u79FB\u52A8\u7AEF\uFF09\u7684\u56FE\u6807\uFF0C\u9700\u8981\u91CD\u542F\u3002",tooltip:"\u9009\u62E9\u56FE\u6807"},"ribbon-action":{name:"Ribbon \u56FE\u6807\u7684\u884C\u4E3A \u{1F4F1}",description:"\u4F7F\u7528\u79FB\u52A8\u7AEF\u7684 ribbon \u56FE\u6807\u65F6\u8FDB\u884C\u7684\u64CD\u4F5C","option-toolbar":"\u663E\u793A\u5F53\u524D\u5DE5\u5177\u680F","option-item-suggester":"\u6253\u5F00\u5FEB\u901F\u5DE5\u5177","option-toolbar-suggester":"\u6253\u5F00\u5FEB\u901F\u5DE5\u5177\u680F"},scripting:{name:"\u811A\u672C",description:"\uFF08\u9700\u8981\u5148\u5B89\u88C5\u5E76\u542F\u7528 Dataview\uFF0CJS Engine \u6216 Templater \u63D2\u4EF6\uFF09\u6DFB\u52A0\u5BF9\u5E94\u7684\u9879\u76EE\u7C7B\u578B\u3002"},"show-toolbar-in-file-menu":{name:"\u5728\u53F3\u952E\u83DC\u5355\u4E2D\u663E\u793A\u94FE\u63A5\u7B14\u8BB0\u7684\u5DE5\u5177\u680F",description:"\u5728\u53F3\u952E\u83DC\u5355\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u9009\u9879\u4EE5\u8BBF\u95EE\u94FE\u63A5\u7B14\u8BB0\u4E2D\u7684\u5DE5\u5177\u680F\u3002"},"show-edit-tbar":{name:"\u5728\u5DE5\u5177\u680F\u83DC\u5355\u4E2D\u663E\u793A'\u7F16\u8F91\u5DE5\u5177\u680F'\u7684\u94FE\u63A5",description:"\u5728\u5DE5\u5177\u680F\u83DC\u5355\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u9879\u76EE\uFF0C\u4EE5\u5FEB\u901F\u8BBF\u95EE\u5DE5\u5177\u680F\u7684\u8BBE\u7F6E\u3002"}},position:{name:"\u4F4D\u7F6E",description:"\u914D\u7F6E\u5F53\u524D\u5DE5\u5177\u680F\u7684\u663E\u793A\u4F4D\u7F6E","option-mobile-help":"\u63D0\u793A\uFF1A\u4F60\u53EF\u4EE5\u4ECE\u5BFC\u822A\u680F\u8BBF\u95EE\u5DE5\u5177\u680F\u3002","option-bottom":"\u5E95\u90E8","option-fabl":"\u6D6E\u52A8\u6309\u94AE\uFF1A\u5DE6\u4FA7","option-fabr":"\u6D6E\u52A8\u6309\u94AE\uFF1A\u53F3\u4FA7","option-hidden":"\u9690\u85CF\uFF08\u4E0D\u663E\u793A\uFF09","option-hidden-mobile":"\u9690\u85CF / \u5BFC\u822A\u680F","option-props":"\u5C5E\u6027\u4E0B\u65B9","option-top":"\u7F6E\u9876\uFF08\u56FA\u5B9A\u4F4D\u7F6E\uFF09"},styles:{name:"\u6837\u5F0F",title:"Style toolbar: {{toolbar}}",description:"\u5E94\u7528\u4E8E\u5DE5\u5177\u680F\u7684\u6837\u5F0F\u5217\u8868\u3002",help:"\u4F7F\u7528 Style Settings \u63D2\u4EF6\u53EF\u8FDB\u884C\u66F4\u591A\u81EA\u5B9A\u4E49\u3002","option-placeholder":"Add style...","option-autohide":"\u81EA\u52A8\u9690\u85CF*","option-autohide-disclaimer":"\u81EA\u52A8\u9690\u85CF\u4E0D\u9002\u7528\u4E8E\u79FB\u52A8\u7AEF\u3002","option-between":"\u9879\u76EE\u95F4\u8DDD","option-border":"\u663E\u793A\u8FB9\u6846","option-button":"\u663E\u793A\u4E3A\u6309\u94AE","option-center":"\u5C45\u4E2D\u9879\u76EE","option-even":"\u5747\u5300\u5206\u5E03\u9879\u76EE","option-left":"\u5DE6\u5BF9\u9F50\u9879\u76EE","option-noborder":"\u65E0\u8FB9\u6846","option-notsticky":"\u975E\u7C98\u6027","option-nowrap":"\u4E0D\u6362\u884C\u9879\u76EE*","option-nowrap-disclaimer":"\u5728\u9879\u76EE\u4E0D\u5747\u5300\u5206\u5E03\u6216\u5C45\u4E2D\u7684\u60C5\u51B5\u4E0B\u6548\u679C\u6700\u4F73\u3002","option-nowide":"\u6B63\u6587\u5BBD\u5EA6*","option-right":"\u53F3\u5BF9\u9F50\u9879\u76EE","option-sticky":"Sticky\uFF08\u7C98\u6027\uFF09\u6837\u5F0F*","option-sticky-disclaimer":"Sticky\uFF08\u7C98\u6027\uFF09\u6837\u5F0F\u5728\u9605\u8BFB\u6A21\u5F0F\u4E0B\u4E0D\u9002\u7528\u3002","option-wide":"\u7F16\u8F91\u5668\u5BBD\u5EA6*","option-custom-name":"\u81EA\u5B9A\u4E49","option-custom-description":"CSS \u7247\u6BB5\u4E2D\u5B9A\u4E49\u7684\u7C7B\u5217\u8868\uFF08css classes\uFF09\uFF0C\u4F1A\u5E94\u7528\u4E8E\u8BE5\u5DE5\u5177\u680F\uFF0C\u4F7F\u7528\u7A7A\u683C\u5206\u9694\u3002","option-custom-empty":"CSS classes","option-default-name":"\u9ED8\u8BA4","option-default-description":"\u9002\u7528\u4E8E\u6240\u6709\u5E73\u53F0\uFF08\u9664\u975E\u88AB\u8986\u76D6\uFF09\u3002","option-default-empty":"\u672A\u8BBE\u7F6E\u9ED8\u8BA4\u6837\u5F0F\u3002","option-mobile-name":"\u79FB\u52A8\u7AEF","option-mobile-description":"\u8986\u76D6\u9ED8\u8BA4\u6837\u5F0F\u3002","option-mobile-empty":"\u672A\u8BBE\u7F6E\u79FB\u52A8\u7AEF\u6837\u5F0F\u3002\u4F7F\u7528\u9ED8\u8BA4\u6837\u5F0F\u3002","style-tooltip-use-class":"\u5728 Callout \u6216 CSS \u4E2D\u4F7F\u7528\uFF1A{{class}}","style-remove-tooltip":"\u79FB\u9664"},"toolbar-suggest-modal":{placeholder:"\u641C\u7D22\u5DE5\u5177\u680F...","instruction-navigate":"\u5BFC\u822A","instruction-use":"\u6253\u5F00\u5DE5\u5177\u680F","instruction-dismiss":"\u53D6\u6D88"},toolbars:{name:"\u5DE5\u5177\u680F","name-with-count":"\u5DE5\u5177\u680F\uFF08{{count}}\uFF09",description:"\u5B9A\u4E49\u8981\u6DFB\u52A0\u5230\u7B14\u8BB0\u4E2D\u7684\u5DE5\u5177\u680F\u3002","button-duplicate-tbar-tooltip":"\u590D\u5236\u6B64\u5DE5\u5177\u680F","button-edit-tbar":"\u7F16\u8F91","button-edit-tbar-tooltip":"\u66F4\u65B0\u6B64\u5DE5\u5177\u680F","button-more-tooltip":"\u66F4\u591A\u9009\u9879","button-new-tbar":"+ \u65B0\u5EFA\u5DE5\u5177\u680F","button-new-tbar-tooltip":"\u6DFB\u52A0\u4E00\u4E2A\u65B0\u7684\u5DE5\u5177\u680F","duplicated-tbar-suffix":"\u590D\u5236","imported-tbar-name":"New toolbar","label-empty-create-tbar":"\u70B9\u51FB\u6309\u94AE\u521B\u5EFA\u5DE5\u5177\u680F\u3002","label-tbar-name-not-set":"\u26A0\uFE0F \u672A\u8BBE\u7F6E\u5DE5\u5177\u680F\u540D\u79F0"},usage:{name:"\u4F7F\u7528\u60C5\u51B5",description:"\u6B64\u5DE5\u5177\u680F\u5728 {{mappingCount}} \u4E2A\u6620\u5C04\u548C {{itemCount}} \u4E2A\u5DE5\u5177\u680F\u9879\u76EE\u4E2D\u4F7F\u7528\u3002","description-search":"\u641C\u7D22\u5C5E\u6027\u7684\u4F7F\u7528\u60C5\u51B5"},"whats-new":{title:"Note Toolbar \u66F4\u65B0\u4E86\u5565\uFF1F","button-read":"\u9605\u8BFB \u2197","button-read-tooltip":"\u6253\u5F00 github.com","label-release-notes":"\u53D1\u5E03\u8BF4\u660E","label-release-notes-description":"\u6700\u65B0\u7248\u672C\u7684\u8BE6\u7EC6\u8BF4\u660E\u4F4D\u4E8E Github","label-roadmap":"Note Toolbar \u7684\u672A\u6765\uFF1F","label-roadmap-description":"\u67E5\u770B\u8DEF\u7EBF\u56FE\uFF0C\u4EE5\u9884\u89C8\u8003\u8651\u5F00\u53D1\u7684\u65B0\u529F\u80FD\u3002"}},ma={"button-floating-tooltip":"\u6253\u5F00\u5DE5\u5177\u680F","menu-edit-item":"\u7F16\u8F91\u9879\u76EE\uFF1A{{text}}...","menu-edit-item_none":"\u7F16\u8F91\u9879\u76EE...","menu-edit-toolbar":"\u7F16\u8F91\u5DE5\u5177\u680F\uFF1A{{toolbar}}...","menu-hide-properties":"\u9690\u85CF\u7B14\u8BB0\u5C5E\u6027","menu-position":"\u8BBE\u7F6E\u4F4D\u7F6E","menu-show-properties":"\u663E\u793A\u7B14\u8BB0\u5C5E\u6027","menu-style":"\u6837\u5F0F...","menu-toolbar-settings":"\u5DE5\u5177\u680F\u8BBE\u7F6E..."},ga={adapter:aa,api:ra,command:sa,export:la,import:pa,notice:da,plugin:ua,setting:ca,toolbar:ma};var Di=`What's new in Note Toolbar v1.19?

## New Features \u{1F389}

### Right-click on an item to edit it

Right-clicking on any item in a toolbar (long-pressing on mobile), will show an option in the menu to edit the item directly.

_Thanks @laktiv for the [suggestion](https://github.com/chrisgurney/obsidian-note-toolbar/discussions/214#discussioncomment-11955006)_

### Default item for floating buttons

For floating buttons, optionally set an item to show which will execute that item when clicked/tapped. To get access to the toolbar's items, right-click on the button (or long-press on mobile).

> \u{1F4A1} Tip: Consider using this with a floating button in the ["New tab" view](https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Defining-where-to-show-toolbars#show-a-toolbar-in-the-new-tab-view) and scripting, to create a convenient launching point for your vault.

Notes:

- The setting appears only when a floating button position is set for either the desktop or mobile.
- The icon for the item will be shown if one is set, otherwise it will use the toolbar's icon.
- Remember that the **Show "Edit toolbar" link in toolbar menus** setting can be enabled to add an item to edit the toolbar, if needed.

### Generic expression delimiters

Generic delimiters for expressions provide for more portable [Note Toolbar Callouts](https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Note-Toolbar-Callouts), and will help support other expression types in the future. Use this new notation in item label, tooltip, and URI fields.

- For Dataview, instead of \`=\` (or whatever your prefix is configured as) expressions can alternately use <code>\\{\\{dv: ... \\}\\}</code>
- For Templater, instead of \`<% ... %>\` expressions can alternately use <code>\\{\\{tp: ... \\}\\}</code>.

[Copying toolbars as callouts](https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Creating-callouts-from-toolbars) now uses this notation, if Note Toolbar's **Copy as callout \u2192 Replace variables and expressions** option is OFF.

## Improvements \u{1F680}

### Canvas support

Toolbars now show in canvases.

_Support was partially enabled by accident in 1.18, but I decided to leave it in and get it fully working. Let me know what you think._

### Search toolbars in settings

In Settings, you can now search toolbars by name, to get to them quicker. Navigate the results with up/down arrow keys.

- The search option appears when there's enough toolbars to show the collapse button.

### Settings improvements

- Use up/down arrow keys to navigate the toolbar list.
- Use up/down arrow keys to navigate the item list.
- Better visual separation of settings sections.
- A notice is now displayed when the toolbar's open command is added or removed.
- Changed settings icons in context menus, to accommodate _Edit item_.
- Small reorganization of the _Other_ settings section.

### Floating buttons

- Mobile: Set mobile FAB color defaults to match Obsidian's colors.
- Mobile: Active FAB buttons now enlarge on tap, to provide feedback.
- Mobile: The phone now vibrates when opening the toolbar's context menu for default items.
- Slightly decreased the size of icons on desktop. (Override in the [Style Settings plugin](https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Style-Settings-plugin-support), if you'd prefer.)
- The button's tooltip is now just the toolbar's name.

### Localization updates

- Ukrainian localization updated by [@laktiv](https://github.com/laktiv)
- Chinese (Simplified) localization updated by [@Moyf](https://github.com/Moyf)

## Fixes

- Mobile: Toolbars in the _New tab_ view in the top/props position are now usable/tappable.
- Fixed case where opening Quick Tools in an Empty tab shows Templater error notices, if Templater expressions are used.
- API: modal(): Markdown and wiki links used in the title are now tabbable.

## API Beta

### New Features \u{1F389}

API to get all toolbars (\`ntb.getToolbars()\`) and a new Toolbar API (\`IToolbar\`) to:

- get the toolbar's name (\`IToolbar.getName()\`)
- export the toolbar as a callout (\`IToolbar.export()\`)

As an example, here's a script that writes out callouts for each configured toolbar:

\`\`\`js
const toolbars = ntb.getToolbars();
for (let toolbar of toolbars) {
    console.log(\`\\n## \${toolbar.getName()}\\n\\n\`);
    console.log(await toolbar.export());
}
\`\`\`

See the [updated API documentation](https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Note-Toolbar-API).

---

## Previous releases

[v1.18](https://github.com/chrisgurney/obsidian-note-toolbar/releases/tag/1.18.1): Add a toolbar to the New Tab view; Commands to show individual toolbars

[v1.17](https://github.com/chrisgurney/obsidian-note-toolbar/releases/tag/1.17.0): Bottom toolbars, quick access to styles, API component improvements

[v1.16](https://github.com/chrisgurney/obsidian-note-toolbar/releases/tag/1.16.0): Custom styles, API (Suggesters + Prompts), toolbar rendering and import improvements

[v1.15](https://github.com/chrisgurney/obsidian-note-toolbar/releases/tag/1.15.0): Dataview, JS Engine, and Templater support`;var Oe=202407271e-1,Ko=1.191;i18next.addResourceBundle("de","plugin-note-toolbar",jo);i18next.addResourceBundle("en","plugin-note-toolbar",$o);i18next.addResourceBundle("uk","plugin-note-toolbar",Go);i18next.addResourceBundle("zh","plugin-note-toolbar",Jo);var s=i18next.getFixedT(null,"plugin-note-toolbar",null);i18next.addResourceBundle("en","plugin-note-toolbar-docs",{"whats-new":Di});var Fi=i18next.getFixedT(null,"plugin-note-toolbar-docs",null),je="open-toolbar-",we="ntb-whats-new-view";var ne=(c=>(c.Break="break",c.Command="command",c.Dataview="dataview",c.File="file",c.Folder="folder",c.Group="group",c.JsEngine="js-engine",c.Menu="menu",c.Separator="separator",c.Templater="templater-obsidian",c.Uri="uri",c))(ne||{});var Ni=[["mlft","mctr","mrght"],["mwd","mnwd"],["mbtwn","mevn"]],Pi={break:"ignore",command:"command",dataview:"script",file:"file",folder:"file",group:"toolbar","js-engine":"script",menu:"toolbar",separator:"ignore",uri:"text","templater-obsidian":"script"};var Yo=(u=>(u.Command="data-command",u.CommandNtb="data-ntb-command",u.Dataview="data-dataview",u.Folder="data-folder",u.FolderNtb="data-ntb-folder",u.JsEngine="data-js-engine",u.Menu="data-menu",u.MenuNtb="data-ntb-menu",u.Templater="data-templater-obsidian",u))(Yo||{});var Li={emptyViewToolbar:null,export:{includeIcons:!0,replaceVars:!0,useDataEls:!0,useIds:!0},folderMappings:[],icon:"circle-ellipsis",ribbonAction:"toolbar",scriptingEnabled:!1,showEditInFabMenu:!1,showToolbarInFileMenu:!1,toolbarProp:"notetoolbar",toolbars:[],version:Oe,whatsnew_version:0},Xa={uuid:ae(),customClasses:"",defaultItem:null,defaultStyles:["border","even","sticky"],hasCommand:!1,items:[],mobileStyles:[],name:"",position:{desktop:{allViews:{position:"props"}},tablet:{allViews:{position:"props"}},mobile:{allViews:{position:"props"}}},updated:new Date().toISOString()},Jt={desktop:{allViews:{components:["icon","label"]}},mobile:{allViews:{components:["icon","label"]}},tablet:{allViews:{components:["icon","label"]}}},Kt="https://github.com/chrisgurney/obsidian-note-toolbar/wiki/",Oi="https://github.com/chrisgurney/obsidian-note-toolbar/releases",Yt="COMMAND_DOES_NOT_EXIST",ee={expression:"data-expr",sourceFile:"data-src",sourceFunction:"data-func",sourceArgs:"data-args",outputContainer:"data-callout",outputFile:"data-dest"},St={command:s("setting.item.option-command"),dataview:"Dataview",file:s("setting.item.option-file"),group:s("setting.item.option-item-group"),menu:s("setting.item.option-item-menu"),"js-engine":"JS Engine","templater-obsidian":"Templater",uri:s("setting.item.option-uri")},Xo={desktop:[{top:s("setting.position.option-top")},{props:s("setting.position.option-props")},{bottom:s("setting.position.option-bottom")},{fabl:s("setting.position.option-fabl")},{fabr:s("setting.position.option-fabr")},{hidden:s("setting.position.option-hidden")}],mobile:[{top:s("setting.position.option-top")},{props:s("setting.position.option-props")},{bottom:s("setting.position.option-bottom")},{fabl:s("setting.position.option-fabl")},{fabr:s("setting.position.option-fabr")},{hidden:s("setting.position.option-hidden-mobile")}]},Vi={"item-suggester":s("setting.other.ribbon-action.option-item-suggester"),"toolbar-suggester":s("setting.other.ribbon-action.option-toolbar-suggester"),toolbar:s("setting.other.ribbon-action.option-toolbar")},Et=[{autohide:s("setting.styles.option-autohide")},{border:s("setting.styles.option-border")},{button:s("setting.styles.option-button")},{center:s("setting.styles.option-center")},{wide:s("setting.styles.option-wide")},{left:s("setting.styles.option-left")},{right:s("setting.styles.option-right")},{between:s("setting.styles.option-between")},{even:s("setting.styles.option-even")},{sticky:s("setting.styles.option-sticky")}],Zo=[{autohide:s("setting.styles.option-autohide-disclaimer")},{sticky:s("setting.styles.option-sticky-disclaimer")}],Ct=[{mbrder:s("setting.styles.option-border")},{mnbrder:s("setting.styles.option-noborder")},{mbtn:s("setting.styles.option-button")},{mctr:s("setting.styles.option-center")},{mnwd:s("setting.styles.option-nowide")},{mnwrp:s("setting.styles.option-nowrap")},{mwd:s("setting.styles.option-wide")},{mlft:s("setting.styles.option-left")},{mrght:s("setting.styles.option-right")},{mbtwn:s("setting.styles.option-between")},{mevn:s("setting.styles.option-even")},{mstcky:s("setting.styles.option-sticky")},{mnstcky:s("setting.styles.option-notsticky")}],Qo=[{mnwrp:s("setting.styles.option-nowrap-disclaimer")},{mstcky:s("setting.styles.option-sticky-disclaimer")}];var ba=!1;function $e(r,o){r&&r.allViews&&(r.allViews.components.includes(o)||r.allViews.components.push(o))}function xe(r,o,e){if(e<0||e===r.length)return;let t=r[o];r[o]=r[e],r[e]=t}function _i(r){let o=ei(r.desktop),e=ei(r.mobile),t=ei(r.tablet);return o.concat(e,t)}function xt(r){let o=ti(r.desktop),e=ti(r.mobile),t=ti(r.tablet);return[o,e,t]}function w(r,...o){ba&&console.debug(r,...o)}function _(r,o,e){console.error(r,o),e&&e.createEl("pre").setText(r+`
`+o);let t=createFragment();t.append(r),o&&t.append(`
`,o),new ke.Notice(t,5e3)}function Xt(r,o){let t=Object.values(r.app.commands.commands).find(i=>i.id===o);return t?t.name:void 0}function oi(r,o){let t=Object.values(r.app.commands.commands).find(i=>i.name===o);return t?t.id:Yt}function ae(){return window.crypto.randomUUID()}function It(r){let o=r.getBoundingClientRect();return{x:o.left+activeWindow.scrollX,y:o.top+activeWindow.scrollY}}function ii(r){let o;return r&&(r instanceof MouseEvent&&r.type==="auxclick"&&r.button===1?o="tab":(ke.Platform.isWin||ke.Platform.isLinux?r!=null&&r.ctrlKey:r!=null&&r.metaKey)&&(o=r!=null&&r.altKey?r!=null&&r.shiftKey?"window":"split":"tab")),o}function rt(r){var o;return r&&r instanceof ke.MarkdownView?`${r.leaf.id} ${(o=r.file)==null?void 0:o.path} ${r.getMode()}`:void 0}function ei(r){let o=!1,e=!1;return r&&r.allViews&&(o=r.allViews.components.includes("icon"),e=r.allViews.components.includes("label")),[o,e]}function ti(r){return!!r&&!!r.allViews&&r.allViews.components.length>0}function Zt(r,o,e){let t=r.defaultStyles.includes(o);if(ke.Platform.isDesktop)return t;let i=r.mobileStyles.includes(e);if(i)return!0;let n=Ni.find(l=>l.includes(e));return(n==null?void 0:n.some(l=>r.mobileStyles.includes(l)))?i:t}function st(r){try{return r=r.replace(/(\w+)\s*:/g,'"$1":'),r.trim().startsWith("{")||(r=`{${r}`),r.trim().endsWith("}")||(r=`${r}}`),JSON.parse(r)}catch(o){return null}}function Hi(r,o){let e=r.workspace.getActiveViewOfType(ke.MarkdownView),t=e?e.editor:null;if(t){let i=t==null?void 0:t.getCursor(),n=String(o);t.replaceRange(n,i),t.setCursor(i.line,i.ch+n.length)}}var kt;function Ri(r){return r!==""?(kt||(kt=document.createElement("input"),kt.setAttribute("type","url")),kt.value=r,kt.validity.valid):!1}function Qt(r,o,e){if(o!==e&&o>=0&&o<r.length&&e>=0&&e<r.length){let t=r.splice(o,1)[0];r.splice(e,0,t)}}function ni(){setTimeout(()=>{let r=new KeyboardEvent("keydown",{key:"ArrowDown",code:"ArrowDown",keyCode:40,bubbles:!0,cancelable:!0});activeDocument.dispatchEvent(r)},50)}function Ge(r,o){if(r&&r.allViews){let e=r.allViews.components.indexOf(o);e!==-1&&r.allViews.components.splice(e,1)}}function Ui(r,o){return o.items.filter(e=>e.linkAttr.type==="command"&&!(e.linkAttr.commandId in r.app.commands.commands)).map(e=>e.linkAttr.commandId.split(":")[0].trim())}function qi(r){return r.items.some(o=>o.linkAttr.type==="menu"&&o.link)}var B=require("obsidian");var Ie=require("obsidian");var lt=class extends Ie.Modal{constructor(o){super(o.app),this.modalEl.addClass("note-toolbar-setting-mini-dialog","note-toolbar-setting-help-dialog")}onOpen(){this.setTitle(s("setting.help.title")),new Ie.Setting(this.modalEl).setName(le("book-open",s("setting.help.label-user-guide"))).setDesc(s("setting.help.label-user-guide-description")).addButton(o=>{o.setButtonText(s("setting.help.button-read")).setTooltip(s("setting.help.button-open-github")).setCta().onClick(()=>{window.open(Kt,"_blank")})}),new Ie.Setting(this.modalEl).setName(le("layout-grid",s("setting.help.label-examples"))).setDesc(s("setting.help.label-examples-description")).addButton(o=>{o.setButtonText(s("setting.help.button-open")).setTooltip(s("setting.help.button-open-github")).onClick(()=>{window.open("https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Examples","_blank")})}).setClass("note-toolbar-setting-no-border"),new Ie.Setting(this.modalEl).setName(le("messages-square",s("setting.help.label-support"))).setDesc(s("setting.help.label-support-description")).addButton(o=>{o.setButtonText(s("setting.help.button-open")).setTooltip(s("setting.help.button-open-github")).setCta().onClick(()=>{window.open("https://github.com/chrisgurney/obsidian-note-toolbar/discussions","_blank")})}),new Ie.Setting(this.modalEl).setName(le("bug",s("setting.help.label-bug"))).setDesc(s("setting.help.label-bug-description")).addButton(o=>{o.setButtonText(s("setting.help.button-open")).setTooltip(s("setting.help.button-open-google")).onClick(()=>{window.open("https://docs.google.com/forms/d/e/1FAIpQLSf_cABJLmNqPm-2DjH6vcxyuYKNoP-mmeyk8_vph8KMZHDSyg/viewform","_blank")})}).setClass("note-toolbar-setting-no-border"),new Ie.Setting(this.modalEl).setName(le("pen-box",s("setting.help.label-feedback"))).setDesc(s("setting.help.label-feedback-description")).addButton(o=>{o.setButtonText(s("setting.help.button-open")).setTooltip(s("setting.help.button-open-google")).onClick(()=>{window.open("https://docs.google.com/forms/d/e/1FAIpQLSeVWHVnookJr8HVQywk5TwupU-p7vkRkSt83Q5jscR6VwpZEQ/viewform","_blank")})}).setClass("note-toolbar-setting-no-border"),new Ie.Setting(this.modalEl).setName(le("heart",s("setting.help.label-donate"))).setDesc(s("setting.help.label-donate-description")).addButton(o=>{o.setButtonText(s("setting.help.button-donate")).setTooltip(s("setting.help.button-donate-tooltip")).setCta().onClick(()=>{window.open("https://buymeacoffee.com/cheznine","_blank")})})}};var D=require("obsidian");var At=require("obsidian");async function eo(r,o){return new Promise((e,t)=>{let i=new ai(r,o);i.onClose=()=>{e(i.isConfirmed)},i.open()})}var ai=class extends At.Modal{constructor(e,t){super(e);this.isConfirmed=!1;this.modalEl.addClass("note-toolbar-setting-mini-dialog","note-toolbar-setting-dialog-phonefix"),this.uiSettings=t}onOpen(){this.display()}async display(){new Promise(e=>{this.setTitle(this.uiSettings.title),this.uiSettings.questionLabel?this.modalEl.createEl("p",{text:this.uiSettings.questionLabel}):this.uiSettings.questionFragment&&this.modalEl.createEl("p").append(this.uiSettings.questionFragment);let t=this.modalEl.createDiv();t.addClass("note-toolbar-setting-confirm-dialog-buttons");let i=new At.ButtonComponent(t).setButtonText(this.uiSettings.approveLabel).onClick(()=>{this.isConfirmed=!0,this.close()});this.uiSettings.warning?i.setWarning():i.setCta();let n=new At.ButtonComponent(t).setButtonText(this.uiSettings.denyLabel).onClick(()=>{this.close()})})}};function zi(r,o){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);o&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,t)}return e}function ve(r){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?zi(Object(e),!0).forEach(function(t){fa(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):zi(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function ao(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ao=function(o){return typeof o}:ao=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ao(r)}function fa(r,o,e){return o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e,r}function Me(){return Me=Object.assign||function(r){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},Me.apply(this,arguments)}function wa(r,o){if(r==null)return{};var e={},t=Object.keys(r),i,n;for(n=0;n<t.length;n++)i=t[n],!(o.indexOf(i)>=0)&&(e[i]=r[i]);return e}function ya(r,o){if(r==null)return{};var e=wa(r,o),t,i;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);for(i=0;i<n.length;i++)t=n[i],!(o.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(e[t]=r[t])}return e}var va="1.15.3";function Ae(r){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(r)}var De=Ae(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Bt=Ae(/Edge/i),Wi=Ae(/firefox/i),Nt=Ae(/safari/i)&&!Ae(/chrome/i)&&!Ae(/android/i),Zi=Ae(/iP(ad|od|hone)/i),Qi=Ae(/chrome/i)&&Ae(/android/i),en={capture:!1,passive:!1};function P(r,o,e){r.addEventListener(o,e,!De&&en)}function N(r,o,e){r.removeEventListener(o,e,!De&&en)}function uo(r,o){if(o){if(o[0]===">"&&(o=o.substring(1)),r)try{if(r.matches)return r.matches(o);if(r.msMatchesSelector)return r.msMatchesSelector(o);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(o)}catch(e){return!1}return!1}}function tn(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function ge(r,o,e,t){if(r){e=e||document;do{if(o!=null&&(o[0]===">"?r.parentNode===e&&uo(r,o):uo(r,o))||t&&r===e)return r;if(r===e)break}while(r=tn(r))}return null}var ji=/\s+/g;function re(r,o,e){if(r&&o)if(r.classList)r.classList[e?"add":"remove"](o);else{var t=(" "+r.className+" ").replace(ji," ").replace(" "+o+" "," ");r.className=(t+(e?" "+o:"")).replace(ji," ")}}function C(r,o,e){var t=r&&r.style;if(t){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(e=r.currentStyle),o===void 0?e:e[o];!(o in t)&&o.indexOf("webkit")===-1&&(o="-webkit-"+o),t[o]=e+(typeof e=="string"?"":"px")}}function mt(r,o){var e="";if(typeof r=="string")e=r;else do{var t=C(r,"transform");t&&t!=="none"&&(e=t+" "+e)}while(!o&&(r=r.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(e)}function on(r,o,e){if(r){var t=r.getElementsByTagName(o),i=0,n=t.length;if(e)for(;i<n;i++)e(t[i],i);return t}return[]}function ye(){var r=document.scrollingElement;return r||document.documentElement}function j(r,o,e,t,i){if(!(!r.getBoundingClientRect&&r!==window)){var n,a,l,p,u,d,c;if(r!==window&&r.parentNode&&r!==ye()?(n=r.getBoundingClientRect(),a=n.top,l=n.left,p=n.bottom,u=n.right,d=n.height,c=n.width):(a=0,l=0,p=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(o||e)&&r!==window&&(i=i||r.parentNode,!De))do if(i&&i.getBoundingClientRect&&(C(i,"transform")!=="none"||e&&C(i,"position")!=="static")){var g=i.getBoundingClientRect();a-=g.top+parseInt(C(i,"border-top-width")),l-=g.left+parseInt(C(i,"border-left-width")),p=a+n.height,u=l+n.width;break}while(i=i.parentNode);if(t&&r!==window){var m=mt(i||r),h=m&&m.a,b=m&&m.d;m&&(a/=b,l/=h,c/=h,d/=b,p=a+d,u=l+c)}return{top:a,left:l,bottom:p,right:u,width:c,height:d}}}function $i(r,o,e){for(var t=_e(r,!0),i=j(r)[o];t;){var n=j(t)[e],a=void 0;if(e==="top"||e==="left"?a=i>=n:a=i<=n,!a)return t;if(t===ye())break;t=_e(t,!1)}return!1}function gt(r,o,e,t){for(var i=0,n=0,a=r.children;n<a.length;){if(a[n].style.display!=="none"&&a[n]!==k.ghost&&(t||a[n]!==k.dragged)&&ge(a[n],e.draggable,r,!1)){if(i===o)return a[n];i++}n++}return null}function yi(r,o){for(var e=r.lastElementChild;e&&(e===k.ghost||C(e,"display")==="none"||o&&!uo(e,o));)e=e.previousElementSibling;return e||null}function pe(r,o){var e=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==k.clone&&(!o||uo(r,o))&&e++;return e}function Gi(r){var o=0,e=0,t=ye();if(r)do{var i=mt(r),n=i.a,a=i.d;o+=r.scrollLeft*n,e+=r.scrollTop*a}while(r!==t&&(r=r.parentNode));return[o,e]}function Ta(r,o){for(var e in r)if(r.hasOwnProperty(e)){for(var t in o)if(o.hasOwnProperty(t)&&o[t]===r[e][t])return Number(e)}return-1}function _e(r,o){if(!r||!r.getBoundingClientRect)return ye();var e=r,t=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var i=C(e);if(e.clientWidth<e.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return ye();if(t||o)return e;t=!0}}while(e=e.parentNode);return ye()}function Sa(r,o){if(r&&o)for(var e in o)o.hasOwnProperty(e)&&(r[e]=o[e]);return r}function ri(r,o){return Math.round(r.top)===Math.round(o.top)&&Math.round(r.left)===Math.round(o.left)&&Math.round(r.height)===Math.round(o.height)&&Math.round(r.width)===Math.round(o.width)}var Pt;function nn(r,o){return function(){if(!Pt){var e=arguments,t=this;e.length===1?r.call(t,e[0]):r.apply(t,e),Pt=setTimeout(function(){Pt=void 0},o)}}}function Ea(){clearTimeout(Pt),Pt=void 0}function an(r,o,e){r.scrollLeft+=o,r.scrollTop+=e}function rn(r){var o=window.Polymer,e=window.jQuery||window.Zepto;return o&&o.dom?o.dom(r).cloneNode(!0):e?e(r).clone(!0)[0]:r.cloneNode(!0)}function sn(r,o,e){var t={};return Array.from(r.children).forEach(function(i){var n,a,l,p;if(!(!ge(i,o.draggable,r,!1)||i.animated||i===e)){var u=j(i);t.left=Math.min((n=t.left)!==null&&n!==void 0?n:1/0,u.left),t.top=Math.min((a=t.top)!==null&&a!==void 0?a:1/0,u.top),t.right=Math.max((l=t.right)!==null&&l!==void 0?l:-1/0,u.right),t.bottom=Math.max((p=t.bottom)!==null&&p!==void 0?p:-1/0,u.bottom)}}),t.width=t.right-t.left,t.height=t.bottom-t.top,t.x=t.left,t.y=t.top,t}var ie="Sortable"+new Date().getTime();function Ca(){var r=[],o;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(i){if(!(C(i,"display")==="none"||i===k.ghost)){r.push({target:i,rect:j(i)});var n=ve({},r[r.length-1].rect);if(i.thisAnimationDuration){var a=mt(i,!0);a&&(n.top-=a.f,n.left-=a.e)}i.fromRect=n}})}},addAnimationState:function(t){r.push(t)},removeAnimationState:function(t){r.splice(Ta(r,{target:t}),1)},animateAll:function(t){var i=this;if(!this.options.animation){clearTimeout(o),typeof t=="function"&&t();return}var n=!1,a=0;r.forEach(function(l){var p=0,u=l.target,d=u.fromRect,c=j(u),g=u.prevFromRect,m=u.prevToRect,h=l.rect,b=mt(u,!0);b&&(c.top-=b.f,c.left-=b.e),u.toRect=c,u.thisAnimationDuration&&ri(g,c)&&!ri(d,c)&&(h.top-c.top)/(h.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(p=xa(h,g,m,i.options)),ri(c,d)||(u.prevFromRect=d,u.prevToRect=c,p||(p=i.options.animation),i.animate(u,h,c,p)),p&&(n=!0,a=Math.max(a,p),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},p),u.thisAnimationDuration=p)}),clearTimeout(o),n?o=setTimeout(function(){typeof t=="function"&&t()},a):typeof t=="function"&&t(),r=[]},animate:function(t,i,n,a){if(a){C(t,"transition",""),C(t,"transform","");var l=mt(this.el),p=l&&l.a,u=l&&l.d,d=(i.left-n.left)/(p||1),c=(i.top-n.top)/(u||1);t.animatingX=!!d,t.animatingY=!!c,C(t,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=ka(t),C(t,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),C(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){C(t,"transition",""),C(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},a)}}}}function ka(r){return r.offsetWidth}function xa(r,o,e,t){return Math.sqrt(Math.pow(o.top-r.top,2)+Math.pow(o.left-r.left,2))/Math.sqrt(Math.pow(o.top-e.top,2)+Math.pow(o.left-e.left,2))*t.animation}var pt=[],si={initializeByDefault:!0},_t={mount:function(o){for(var e in si)si.hasOwnProperty(e)&&!(e in o)&&(o[e]=si[e]);pt.forEach(function(t){if(t.pluginName===o.pluginName)throw"Sortable: Cannot mount plugin ".concat(o.pluginName," more than once")}),pt.push(o)},pluginEvent:function(o,e,t){var i=this;this.eventCanceled=!1,t.cancel=function(){i.eventCanceled=!0};var n=o+"Global";pt.forEach(function(a){e[a.pluginName]&&(e[a.pluginName][n]&&e[a.pluginName][n](ve({sortable:e},t)),e.options[a.pluginName]&&e[a.pluginName][o]&&e[a.pluginName][o](ve({sortable:e},t)))})},initializePlugins:function(o,e,t,i){pt.forEach(function(l){var p=l.pluginName;if(!(!o.options[p]&&!l.initializeByDefault)){var u=new l(o,e,o.options);u.sortable=o,u.options=o.options,o[p]=u,Me(t,u.defaults)}});for(var n in o.options)if(o.options.hasOwnProperty(n)){var a=this.modifyOption(o,n,o.options[n]);typeof a!="undefined"&&(o.options[n]=a)}},getEventProperties:function(o,e){var t={};return pt.forEach(function(i){typeof i.eventProperties=="function"&&Me(t,i.eventProperties.call(e[i.pluginName],o))}),t},modifyOption:function(o,e,t){var i;return pt.forEach(function(n){o[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[e]=="function"&&(i=n.optionListeners[e].call(o[n.pluginName],t))}),i}};function Ia(r){var o=r.sortable,e=r.rootEl,t=r.name,i=r.targetEl,n=r.cloneEl,a=r.toEl,l=r.fromEl,p=r.oldIndex,u=r.newIndex,d=r.oldDraggableIndex,c=r.newDraggableIndex,g=r.originalEvent,m=r.putSortable,h=r.extraEventProperties;if(o=o||e&&e[ie],!!o){var b,f=o.options,v="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!De&&!Bt?b=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(t,!0,!0)),b.to=a||e,b.from=l||e,b.item=i||e,b.clone=n,b.oldIndex=p,b.newIndex=u,b.oldDraggableIndex=d,b.newDraggableIndex=c,b.originalEvent=g,b.pullMode=m?m.lastPutMode:void 0;var E=ve(ve({},h),_t.getEventProperties(t,o));for(var I in E)b[I]=E[I];e&&e.dispatchEvent(b),f[v]&&f[v].call(o,b)}}var Aa=["evt"],oe=function(o,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.evt,n=ya(t,Aa);_t.pluginEvent.bind(k)(o,e,ve({dragEl:y,parentEl:U,ghostEl:A,rootEl:V,nextEl:Ye,lastDownEl:ro,cloneEl:H,cloneHidden:Be,dragStarted:Mt,putSortable:Y,activeSortable:k.active,originalEvent:i,oldIndex:ct,oldDraggableIndex:Lt,newIndex:se,newDraggableIndex:Ve,hideGhostForTarget:un,unhideGhostForTarget:cn,cloneNowHidden:function(){Be=!0},cloneNowShown:function(){Be=!1},dispatchSortableEvent:function(l){te({sortable:e,name:l,originalEvent:i})}},n))};function te(r){Ia(ve({putSortable:Y,cloneEl:H,targetEl:y,rootEl:V,oldIndex:ct,oldDraggableIndex:Lt,newIndex:se,newDraggableIndex:Ve},r))}var y,U,A,V,Ye,ro,H,Be,ct,se,Lt,Ve,to,Y,ut=!1,co=!1,mo=[],Je,me,li,pi,Ji,Ki,Mt,dt,Ot,Vt=!1,oo=!1,so,Z,di=[],hi=!1,go=[],bo=typeof document!="undefined",io=Zi,Yi=Bt||De?"cssFloat":"float",Ma=bo&&!Qi&&!Zi&&"draggable"in document.createElement("div"),ln=function(){if(bo){if(De)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),pn=function(o,e){var t=C(o),i=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),n=gt(o,0,e),a=gt(o,1,e),l=n&&C(n),p=a&&C(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+j(n).width,d=p&&parseInt(p.marginLeft)+parseInt(p.marginRight)+j(a).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return a&&(p.clear==="both"||p.clear===c)?"vertical":"horizontal"}return n&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=i&&t[Yi]==="none"||a&&t[Yi]==="none"&&u+d>i)?"vertical":"horizontal"},Da=function(o,e,t){var i=t?o.left:o.top,n=t?o.right:o.bottom,a=t?o.width:o.height,l=t?e.left:e.top,p=t?e.right:e.bottom,u=t?e.width:e.height;return i===l||n===p||i+a/2===l+u/2},Fa=function(o,e){var t;return mo.some(function(i){var n=i[ie].options.emptyInsertThreshold;if(!(!n||yi(i))){var a=j(i),l=o>=a.left-n&&o<=a.right+n,p=e>=a.top-n&&e<=a.bottom+n;if(l&&p)return t=i}}),t},dn=function(o){function e(n,a){return function(l,p,u,d){var c=l.options.group.name&&p.options.group.name&&l.options.group.name===p.options.group.name;if(n==null&&(a||c))return!0;if(n==null||n===!1)return!1;if(a&&n==="clone")return n;if(typeof n=="function")return e(n(l,p,u,d),a)(l,p,u,d);var g=(a?l:p).options.group.name;return n===!0||typeof n=="string"&&n===g||n.join&&n.indexOf(g)>-1}}var t={},i=o.group;(!i||ao(i)!="object")&&(i={name:i}),t.name=i.name,t.checkPull=e(i.pull,!0),t.checkPut=e(i.put),t.revertClone=i.revertClone,o.group=t},un=function(){!ln&&A&&C(A,"display","none")},cn=function(){!ln&&A&&C(A,"display","")};bo&&!Qi&&document.addEventListener("click",function(r){if(co)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),co=!1,!1},!0);var Ke=function(o){if(y){o=o.touches?o.touches[0]:o;var e=Fa(o.clientX,o.clientY);if(e){var t={};for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i]);t.target=t.rootEl=e,t.preventDefault=void 0,t.stopPropagation=void 0,e[ie]._onDragOver(t)}}},Na=function(o){y&&y.parentNode[ie]._isOutsideThisEl(o.target)};function k(r,o){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=o=Me({},o),r[ie]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return pn(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:k.supportPointer!==!1&&"PointerEvent"in window&&!Nt,emptyInsertThreshold:5};_t.initializePlugins(this,r,e);for(var t in e)!(t in o)&&(o[t]=e[t]);dn(o);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=o.forceFallback?!1:Ma,this.nativeDraggable&&(this.options.touchStartThreshold=1),o.supportPointer?P(r,"pointerdown",this._onTapStart):(P(r,"mousedown",this._onTapStart),P(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(P(r,"dragover",this),P(r,"dragenter",this)),mo.push(this.el),o.store&&o.store.get&&this.sort(o.store.get(this)||[]),Me(this,Ca())}k.prototype={constructor:k,_isOutsideThisEl:function(o){!this.el.contains(o)&&o!==this.el&&(dt=null)},_getDirection:function(o,e){return typeof this.options.direction=="function"?this.options.direction.call(this,o,e,y):this.options.direction},_onTapStart:function(o){if(o.cancelable){var e=this,t=this.el,i=this.options,n=i.preventOnFilter,a=o.type,l=o.touches&&o.touches[0]||o.pointerType&&o.pointerType==="touch"&&o,p=(l||o).target,u=o.target.shadowRoot&&(o.path&&o.path[0]||o.composedPath&&o.composedPath()[0])||p,d=i.filter;if(Ra(t),!y&&!(/mousedown|pointerdown/.test(a)&&o.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Nt&&p&&p.tagName.toUpperCase()==="SELECT")&&(p=ge(p,i.draggable,t,!1),!(p&&p.animated)&&ro!==p)){if(ct=pe(p),Lt=pe(p,i.draggable),typeof d=="function"){if(d.call(this,o,p,this)){te({sortable:e,rootEl:u,name:"filter",targetEl:p,toEl:t,fromEl:t}),oe("filter",e,{evt:o}),n&&o.cancelable&&o.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=ge(u,c.trim(),t,!1),c)return te({sortable:e,rootEl:c,name:"filter",targetEl:p,fromEl:t,toEl:t}),oe("filter",e,{evt:o}),!0}),d)){n&&o.cancelable&&o.preventDefault();return}i.handle&&!ge(u,i.handle,t,!1)||this._prepareDragStart(o,l,p)}}},_prepareDragStart:function(o,e,t){var i=this,n=i.el,a=i.options,l=n.ownerDocument,p;if(t&&!y&&t.parentNode===n){var u=j(t);if(V=n,y=t,U=y.parentNode,Ye=y.nextSibling,ro=t,to=a.group,k.dragged=y,Je={target:y,clientX:(e||o).clientX,clientY:(e||o).clientY},Ji=Je.clientX-u.left,Ki=Je.clientY-u.top,this._lastX=(e||o).clientX,this._lastY=(e||o).clientY,y.style["will-change"]="all",p=function(){if(oe("delayEnded",i,{evt:o}),k.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Wi&&i.nativeDraggable&&(y.draggable=!0),i._triggerDragStart(o,e),te({sortable:i,name:"choose",originalEvent:o}),re(y,a.chosenClass,!0)},a.ignore.split(",").forEach(function(d){on(y,d.trim(),ui)}),P(l,"dragover",Ke),P(l,"mousemove",Ke),P(l,"touchmove",Ke),P(l,"mouseup",i._onDrop),P(l,"touchend",i._onDrop),P(l,"touchcancel",i._onDrop),Wi&&this.nativeDraggable&&(this.options.touchStartThreshold=4,y.draggable=!0),oe("delayStart",this,{evt:o}),a.delay&&(!a.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Bt||De))){if(k.eventCanceled){this._onDrop();return}P(l,"mouseup",i._disableDelayedDrag),P(l,"touchend",i._disableDelayedDrag),P(l,"touchcancel",i._disableDelayedDrag),P(l,"mousemove",i._delayedDragTouchMoveHandler),P(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&P(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(p,a.delay)}else p()}},_delayedDragTouchMoveHandler:function(o){var e=o.touches?o.touches[0]:o;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){y&&ui(y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var o=this.el.ownerDocument;N(o,"mouseup",this._disableDelayedDrag),N(o,"touchend",this._disableDelayedDrag),N(o,"touchcancel",this._disableDelayedDrag),N(o,"mousemove",this._delayedDragTouchMoveHandler),N(o,"touchmove",this._delayedDragTouchMoveHandler),N(o,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(o,e){e=e||o.pointerType=="touch"&&o,!this.nativeDraggable||e?this.options.supportPointer?P(document,"pointermove",this._onTouchMove):e?P(document,"touchmove",this._onTouchMove):P(document,"mousemove",this._onTouchMove):(P(y,"dragend",this),P(V,"dragstart",this._onDragStart));try{document.selection?lo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(o,e){if(ut=!1,V&&y){oe("dragStarted",this,{evt:e}),this.nativeDraggable&&P(document,"dragover",Na);var t=this.options;!o&&re(y,t.dragClass,!1),re(y,t.ghostClass,!0),k.active=this,o&&this._appendGhost(),te({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(me){this._lastX=me.clientX,this._lastY=me.clientY,un();for(var o=document.elementFromPoint(me.clientX,me.clientY),e=o;o&&o.shadowRoot&&(o=o.shadowRoot.elementFromPoint(me.clientX,me.clientY),o!==e);)e=o;if(y.parentNode[ie]._isOutsideThisEl(o),e)do{if(e[ie]){var t=void 0;if(t=e[ie]._onDragOver({clientX:me.clientX,clientY:me.clientY,target:o,rootEl:e}),t&&!this.options.dragoverBubble)break}o=e}while(e=tn(e));cn()}},_onTouchMove:function(o){if(Je){var e=this.options,t=e.fallbackTolerance,i=e.fallbackOffset,n=o.touches?o.touches[0]:o,a=A&&mt(A,!0),l=A&&a&&a.a,p=A&&a&&a.d,u=io&&Z&&Gi(Z),d=(n.clientX-Je.clientX+i.x)/(l||1)+(u?u[0]-di[0]:0)/(l||1),c=(n.clientY-Je.clientY+i.y)/(p||1)+(u?u[1]-di[1]:0)/(p||1);if(!k.active&&!ut){if(t&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<t)return;this._onDragStart(o,!0)}if(A){a?(a.e+=d-(li||0),a.f+=c-(pi||0)):a={a:1,b:0,c:0,d:1,e:d,f:c};var g="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");C(A,"webkitTransform",g),C(A,"mozTransform",g),C(A,"msTransform",g),C(A,"transform",g),li=d,pi=c,me=n}o.cancelable&&o.preventDefault()}},_appendGhost:function(){if(!A){var o=this.options.fallbackOnBody?document.body:V,e=j(y,!0,io,!0,o),t=this.options;if(io){for(Z=o;C(Z,"position")==="static"&&C(Z,"transform")==="none"&&Z!==document;)Z=Z.parentNode;Z!==document.body&&Z!==document.documentElement?(Z===document&&(Z=ye()),e.top+=Z.scrollTop,e.left+=Z.scrollLeft):Z=ye(),di=Gi(Z)}A=y.cloneNode(!0),re(A,t.ghostClass,!1),re(A,t.fallbackClass,!0),re(A,t.dragClass,!0),C(A,"transition",""),C(A,"transform",""),C(A,"box-sizing","border-box"),C(A,"margin",0),C(A,"top",e.top),C(A,"left",e.left),C(A,"width",e.width),C(A,"height",e.height),C(A,"opacity","0.8"),C(A,"position",io?"absolute":"fixed"),C(A,"zIndex","100000"),C(A,"pointerEvents","none"),k.ghost=A,o.appendChild(A),C(A,"transform-origin",Ji/parseInt(A.style.width)*100+"% "+Ki/parseInt(A.style.height)*100+"%")}},_onDragStart:function(o,e){var t=this,i=o.dataTransfer,n=t.options;if(oe("dragStart",this,{evt:o}),k.eventCanceled){this._onDrop();return}oe("setupClone",this),k.eventCanceled||(H=rn(y),H.removeAttribute("id"),H.draggable=!1,H.style["will-change"]="",this._hideClone(),re(H,this.options.chosenClass,!1),k.clone=H),t.cloneId=lo(function(){oe("clone",t),!k.eventCanceled&&(t.options.removeCloneOnHide||V.insertBefore(H,y),t._hideClone(),te({sortable:t,name:"clone"}))}),!e&&re(y,n.dragClass,!0),e?(co=!0,t._loopId=setInterval(t._emulateDragOver,50)):(N(document,"mouseup",t._onDrop),N(document,"touchend",t._onDrop),N(document,"touchcancel",t._onDrop),i&&(i.effectAllowed="move",n.setData&&n.setData.call(t,i,y)),P(document,"drop",t),C(y,"transform","translateZ(0)")),ut=!0,t._dragStartId=lo(t._dragStarted.bind(t,e,o)),P(document,"selectstart",t),Mt=!0,Nt&&C(document.body,"user-select","none")},_onDragOver:function(o){var e=this.el,t=o.target,i,n,a,l=this.options,p=l.group,u=k.active,d=to===p,c=l.sort,g=Y||u,m,h=this,b=!1;if(hi)return;function f(at,Ai){oe(at,h,ve({evt:o,isOwner:d,axis:m?"vertical":"horizontal",revert:a,dragRect:i,targetRect:n,canSort:c,fromSortable:g,target:t,completed:E,onMove:function(Mi,xn){return no(V,e,y,i,Mi,j(Mi),o,xn)},changed:I},Ai))}function v(){f("dragOverAnimationCapture"),h.captureAnimationState(),h!==g&&g.captureAnimationState()}function E(at){return f("dragOverCompleted",{insertion:at}),at&&(d?u._hideClone():u._showClone(h),h!==g&&(re(y,Y?Y.options.ghostClass:u.options.ghostClass,!1),re(y,l.ghostClass,!0)),Y!==h&&h!==k.active?Y=h:h===k.active&&Y&&(Y=null),g===h&&(h._ignoreWhileAnimating=t),h.animateAll(function(){f("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(t===y&&!y.animated||t===e&&!t.animated)&&(dt=null),!l.dragoverBubble&&!o.rootEl&&t!==document&&(y.parentNode[ie]._isOutsideThisEl(o.target),!at&&Ke(o)),!l.dragoverBubble&&o.stopPropagation&&o.stopPropagation(),b=!0}function I(){se=pe(y),Ve=pe(y,l.draggable),te({sortable:h,name:"change",toEl:e,newIndex:se,newDraggableIndex:Ve,originalEvent:o})}if(o.preventDefault!==void 0&&o.cancelable&&o.preventDefault(),t=ge(t,l.draggable,e,!0),f("dragOver"),k.eventCanceled)return b;if(y.contains(o.target)||t.animated&&t.animatingX&&t.animatingY||h._ignoreWhileAnimating===t)return E(!1);if(co=!1,u&&!l.disabled&&(d?c||(a=U!==V):Y===this||(this.lastPutMode=to.checkPull(this,u,y,o))&&p.checkPut(this,u,y,o))){if(m=this._getDirection(o,t)==="vertical",i=j(y),f("dragOverValid"),k.eventCanceled)return b;if(a)return U=V,v(),this._hideClone(),f("revert"),k.eventCanceled||(Ye?V.insertBefore(y,Ye):V.appendChild(y)),E(!0);var S=yi(e,l.draggable);if(!S||Va(o,m,this)&&!S.animated){if(S===y)return E(!1);if(S&&e===o.target&&(t=S),t&&(n=j(t)),no(V,e,y,i,t,n,o,!!t)!==!1)return v(),S&&S.nextSibling?e.insertBefore(y,S.nextSibling):e.appendChild(y),U=e,I(),E(!0)}else if(S&&Oa(o,m,this)){var L=gt(e,0,l,!0);if(L===y)return E(!1);if(t=L,n=j(t),no(V,e,y,i,t,n,o,!1)!==!1)return v(),e.insertBefore(y,L),U=e,I(),E(!0)}else if(t.parentNode===e){n=j(t);var R=0,O,X=y.parentNode!==e,J=!Da(y.animated&&y.toRect||i,t.animated&&t.toRect||n,m),he=m?"top":"left",K=$i(t,"top","top")||$i(y,"top","top"),Ne=K?K.scrollTop:void 0;dt!==t&&(O=n[he],Vt=!1,oo=!J&&l.invertSwap||X),R=Ba(o,t,n,m,J?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,oo,dt===t);var $;if(R!==0){var z=pe(y);do z-=R,$=U.children[z];while($&&(C($,"display")==="none"||$===A))}if(R===0||$===t)return E(!1);dt=t,Ot=R;var Ee=t.nextElementSibling,ce=!1;ce=R===1;var Pe=no(V,e,y,i,t,n,o,ce);if(Pe!==!1)return(Pe===1||Pe===-1)&&(ce=Pe===1),hi=!0,setTimeout(La,30),v(),ce&&!Ee?e.appendChild(y):t.parentNode.insertBefore(y,ce?Ee:t),K&&an(K,0,Ne-K.scrollTop),U=y.parentNode,O!==void 0&&!oo&&(so=Math.abs(O-j(t)[he])),I(),E(!0)}if(e.contains(y))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){N(document,"mousemove",this._onTouchMove),N(document,"touchmove",this._onTouchMove),N(document,"pointermove",this._onTouchMove),N(document,"dragover",Ke),N(document,"mousemove",Ke),N(document,"touchmove",Ke)},_offUpEvents:function(){var o=this.el.ownerDocument;N(o,"mouseup",this._onDrop),N(o,"touchend",this._onDrop),N(o,"pointerup",this._onDrop),N(o,"touchcancel",this._onDrop),N(document,"selectstart",this)},_onDrop:function(o){var e=this.el,t=this.options;if(se=pe(y),Ve=pe(y,t.draggable),oe("drop",this,{evt:o}),U=y&&y.parentNode,se=pe(y),Ve=pe(y,t.draggable),k.eventCanceled){this._nulling();return}ut=!1,oo=!1,Vt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bi(this.cloneId),bi(this._dragStartId),this.nativeDraggable&&(N(document,"drop",this),N(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Nt&&C(document.body,"user-select",""),C(y,"transform",""),o&&(Mt&&(o.cancelable&&o.preventDefault(),!t.dropBubble&&o.stopPropagation()),A&&A.parentNode&&A.parentNode.removeChild(A),(V===U||Y&&Y.lastPutMode!=="clone")&&H&&H.parentNode&&H.parentNode.removeChild(H),y&&(this.nativeDraggable&&N(y,"dragend",this),ui(y),y.style["will-change"]="",Mt&&!ut&&re(y,Y?Y.options.ghostClass:this.options.ghostClass,!1),re(y,this.options.chosenClass,!1),te({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:o}),V!==U?(se>=0&&(te({rootEl:U,name:"add",toEl:U,fromEl:V,originalEvent:o}),te({sortable:this,name:"remove",toEl:U,originalEvent:o}),te({rootEl:U,name:"sort",toEl:U,fromEl:V,originalEvent:o}),te({sortable:this,name:"sort",toEl:U,originalEvent:o})),Y&&Y.save()):se!==ct&&se>=0&&(te({sortable:this,name:"update",toEl:U,originalEvent:o}),te({sortable:this,name:"sort",toEl:U,originalEvent:o})),k.active&&((se==null||se===-1)&&(se=ct,Ve=Lt),te({sortable:this,name:"end",toEl:U,originalEvent:o}),this.save()))),this._nulling()},_nulling:function(){oe("nulling",this),V=y=U=A=Ye=H=ro=Be=Je=me=Mt=se=Ve=ct=Lt=dt=Ot=Y=to=k.dragged=k.ghost=k.clone=k.active=null,go.forEach(function(o){o.checked=!0}),go.length=li=pi=0},handleEvent:function(o){switch(o.type){case"drop":case"dragend":this._onDrop(o);break;case"dragenter":case"dragover":y&&(this._onDragOver(o),Pa(o));break;case"selectstart":o.preventDefault();break}},toArray:function(){for(var o=[],e,t=this.el.children,i=0,n=t.length,a=this.options;i<n;i++)e=t[i],ge(e,a.draggable,this.el,!1)&&o.push(e.getAttribute(a.dataIdAttr)||Ha(e));return o},sort:function(o,e){var t={},i=this.el;this.toArray().forEach(function(n,a){var l=i.children[a];ge(l,this.options.draggable,i,!1)&&(t[n]=l)},this),e&&this.captureAnimationState(),o.forEach(function(n){t[n]&&(i.removeChild(t[n]),i.appendChild(t[n]))}),e&&this.animateAll()},save:function(){var o=this.options.store;o&&o.set&&o.set(this)},closest:function(o,e){return ge(o,e||this.options.draggable,this.el,!1)},option:function(o,e){var t=this.options;if(e===void 0)return t[o];var i=_t.modifyOption(this,o,e);typeof i!="undefined"?t[o]=i:t[o]=e,o==="group"&&dn(t)},destroy:function(){oe("destroy",this);var o=this.el;o[ie]=null,N(o,"mousedown",this._onTapStart),N(o,"touchstart",this._onTapStart),N(o,"pointerdown",this._onTapStart),this.nativeDraggable&&(N(o,"dragover",this),N(o,"dragenter",this)),Array.prototype.forEach.call(o.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),mo.splice(mo.indexOf(this.el),1),this.el=o=null},_hideClone:function(){if(!Be){if(oe("hideClone",this),k.eventCanceled)return;C(H,"display","none"),this.options.removeCloneOnHide&&H.parentNode&&H.parentNode.removeChild(H),Be=!0}},_showClone:function(o){if(o.lastPutMode!=="clone"){this._hideClone();return}if(Be){if(oe("showClone",this),k.eventCanceled)return;y.parentNode==V&&!this.options.group.revertClone?V.insertBefore(H,y):Ye?V.insertBefore(H,Ye):V.appendChild(H),this.options.group.revertClone&&this.animate(y,H),C(H,"display",""),Be=!1}}};function Pa(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function no(r,o,e,t,i,n,a,l){var p,u=r[ie],d=u.options.onMove,c;return window.CustomEvent&&!De&&!Bt?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=o,p.from=r,p.dragged=e,p.draggedRect=t,p.related=i||o,p.relatedRect=n||j(o),p.willInsertAfter=l,p.originalEvent=a,r.dispatchEvent(p),d&&(c=d.call(u,p,a)),c}function ui(r){r.draggable=!1}function La(){hi=!1}function Oa(r,o,e){var t=j(gt(e.el,0,e.options,!0)),i=sn(e.el,e.options,A),n=10;return o?r.clientX<i.left-n||r.clientY<t.top&&r.clientX<t.right:r.clientY<i.top-n||r.clientY<t.bottom&&r.clientX<t.left}function Va(r,o,e){var t=j(yi(e.el,e.options.draggable)),i=sn(e.el,e.options,A),n=10;return o?r.clientX>i.right+n||r.clientY>t.bottom&&r.clientX>t.left:r.clientY>i.bottom+n||r.clientX>t.right&&r.clientY>t.top}function Ba(r,o,e,t,i,n,a,l){var p=t?r.clientY:r.clientX,u=t?e.height:e.width,d=t?e.top:e.left,c=t?e.bottom:e.right,g=!1;if(!a){if(l&&so<u*i){if(!Vt&&(Ot===1?p>d+u*n/2:p<c-u*n/2)&&(Vt=!0),Vt)g=!0;else if(Ot===1?p<d+so:p>c-so)return-Ot}else if(p>d+u*(1-i)/2&&p<c-u*(1-i)/2)return _a(o)}return g=g||a,g&&(p<d+u*n/2||p>c-u*n/2)?p>d+u/2?1:-1:0}function _a(r){return pe(y)<pe(r)?1:-1}function Ha(r){for(var o=r.tagName+r.className+r.src+r.href+r.textContent,e=o.length,t=0;e--;)t+=o.charCodeAt(e);return t.toString(36)}function Ra(r){go.length=0;for(var o=r.getElementsByTagName("input"),e=o.length;e--;){var t=o[e];t.checked&&go.push(t)}}function lo(r){return setTimeout(r,0)}function bi(r){return clearTimeout(r)}bo&&P(document,"touchmove",function(r){(k.active||ut)&&r.cancelable&&r.preventDefault()});k.utils={on:P,off:N,css:C,find:on,is:function(o,e){return!!ge(o,e,o,!1)},extend:Sa,throttle:nn,closest:ge,toggleClass:re,clone:rn,index:pe,nextTick:lo,cancelNextTick:bi,detectDirection:pn,getChild:gt,expando:ie};k.get=function(r){return r[ie]};k.mount=function(){for(var r=arguments.length,o=new Array(r),e=0;e<r;e++)o[e]=arguments[e];o[0].constructor===Array&&(o=o[0]),o.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(k.utils=ve(ve({},k.utils),t.utils)),_t.mount(t)})};k.create=function(r,o){return new k(r,o)};k.version=va;var W=[],Dt,fi,wi=!1,ci,mi,ho,Ft;function Ua(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this))}return r.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):this.options.supportPointer?P(document,"pointermove",this._handleFallbackAutoScroll):t.touches?P(document,"touchmove",this._handleFallbackAutoScroll):P(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?N(document,"dragover",this._handleAutoScroll):(N(document,"pointermove",this._handleFallbackAutoScroll),N(document,"touchmove",this._handleFallbackAutoScroll),N(document,"mousemove",this._handleFallbackAutoScroll)),Xi(),po(),Ea()},nulling:function(){ho=fi=Dt=wi=Ft=ci=mi=null,W.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=document.elementFromPoint(n,a);if(ho=e,t||this.options.forceAutoScrollFallback||Bt||De||Nt){gi(e,this.options,l,t);var p=_e(l,!0);wi&&(!Ft||n!==ci||a!==mi)&&(Ft&&Xi(),Ft=setInterval(function(){var u=_e(document.elementFromPoint(n,a),!0);u!==p&&(p=u,po()),gi(e,i.options,u,t)},10),ci=n,mi=a)}else{if(!this.options.bubbleScroll||_e(l,!0)===ye()){po();return}gi(e,this.options,_e(l,!1),!1)}}},Me(r,{pluginName:"scroll",initializeByDefault:!0})}function po(){W.forEach(function(r){clearInterval(r.pid)}),W=[]}function Xi(){clearInterval(Ft)}var gi=nn(function(r,o,e,t){if(o.scroll){var i=(r.touches?r.touches[0]:r).clientX,n=(r.touches?r.touches[0]:r).clientY,a=o.scrollSensitivity,l=o.scrollSpeed,p=ye(),u=!1,d;fi!==e&&(fi=e,po(),Dt=o.scroll,d=o.scrollFn,Dt===!0&&(Dt=_e(e,!0)));var c=0,g=Dt;do{var m=g,h=j(m),b=h.top,f=h.bottom,v=h.left,E=h.right,I=h.width,S=h.height,L=void 0,R=void 0,O=m.scrollWidth,X=m.scrollHeight,J=C(m),he=m.scrollLeft,K=m.scrollTop;m===p?(L=I<O&&(J.overflowX==="auto"||J.overflowX==="scroll"||J.overflowX==="visible"),R=S<X&&(J.overflowY==="auto"||J.overflowY==="scroll"||J.overflowY==="visible")):(L=I<O&&(J.overflowX==="auto"||J.overflowX==="scroll"),R=S<X&&(J.overflowY==="auto"||J.overflowY==="scroll"));var Ne=L&&(Math.abs(E-i)<=a&&he+I<O)-(Math.abs(v-i)<=a&&!!he),$=R&&(Math.abs(f-n)<=a&&K+S<X)-(Math.abs(b-n)<=a&&!!K);if(!W[c])for(var z=0;z<=c;z++)W[z]||(W[z]={});(W[c].vx!=Ne||W[c].vy!=$||W[c].el!==m)&&(W[c].el=m,W[c].vx=Ne,W[c].vy=$,clearInterval(W[c].pid),(Ne!=0||$!=0)&&(u=!0,W[c].pid=setInterval(function(){t&&this.layer===0&&k.active._onTouchMove(ho);var Ee=W[this.layer].vy?W[this.layer].vy*l:0,ce=W[this.layer].vx?W[this.layer].vx*l:0;typeof d=="function"&&d.call(k.dragged.parentNode[ie],ce,Ee,r,ho,W[this.layer].el)!=="continue"||an(W[this.layer].el,ce,Ee)}.bind({layer:c}),24))),c++}while(o.bubbleScroll&&g!==p&&(g=_e(g,!1)));wi=u}},30),mn=function(o){var e=o.originalEvent,t=o.putSortable,i=o.dragEl,n=o.activeSortable,a=o.dispatchSortableEvent,l=o.hideGhostForTarget,p=o.unhideGhostForTarget;if(e){var u=t||n;l();var d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(d.clientX,d.clientY);p(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:i,putSortable:t}))}};function vi(){}vi.prototype={startIndex:null,dragStart:function(o){var e=o.oldDraggableIndex;this.startIndex=e},onSpill:function(o){var e=o.dragEl,t=o.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var i=gt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),t&&t.animateAll()},drop:mn};Me(vi,{pluginName:"revertOnSpill"});function Ti(){}Ti.prototype={onSpill:function(o){var e=o.dragEl,t=o.putSortable,i=t||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:mn};Me(Ti,{pluginName:"removeOnSpill"});k.mount(new Ua);k.mount(Ti,vi);var fo=k;var Ze=require("obsidian");var Xe=require("obsidian"),qa=r=>`:Li${r.replace(/^lucide-/,"").split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")}:`;async function He(r,o,e){let t=o.defaultStyles.length?o.defaultStyles.join("-"):"",i=o.mobileStyles.length?o.mobileStyles.join("-"):"",n=[t,i].filter(Boolean).join("-"),a=`> [!note-toolbar${n?"|"+n:""}] ${o.name}`,l=r.app.workspace.getActiveFile();return a+=await fn(r,o,l,e)+`
`,a}async function fn(r,o,e,t,i=0){if(i>=2)return"";let n="",a=`
> -`;for(let[l,p]of o.items.entries()){let u=t.includeIcons&&p.icon?qa(p.icon):"";u=u&&p.label?u+" ":u;let d=t.replaceVars?await r.replaceVars(p.label,e):wo(r,p.label),c=t.replaceVars?await r.replaceVars(p.link,e):wo(r,p.link),g=t.replaceVars?await r.replaceVars(p.tooltip,e):wo(r,p.tooltip);switch(d=hn(d),c=Wa(c),g=hn(g),d=u?d:d||g||s("export.item-generic",{number:l+1}),p.linkAttr.type){case"break":n+=`${a} <br/>`;break;case"command":n+=t.useDataEls?`${a} [${u}${d}]()<data data-ntb-command="${p.linkAttr.commandId}"/>`:`${a} [${u}${d}](<obsidian://note-toolbar?commandid=${p.linkAttr.commandId}>)`;break;case"dataview":case"js-engine":case"templater-obsidian":if(p.scriptConfig){let v=Object.entries(p.scriptConfig).filter(([E,I])=>I!=null).map(([E,I])=>{if(E==="pluginFunction")return`data-${p.linkAttr.type}="${String(I)}"`;{let S=String(I);return E==="outputFile"&&(S=wo(r,S)),S=za(String(S)),S?`${ee[E]}="${S}"`:""}}).join(" ");n+=`${a} [${u}${d}]()<data ${v}/>`}break;case"file":let m=c;r.replaceVars(c,e).then(v=>{m=v}),r.app.vault.getAbstractFileByPath(m)instanceof Xe.TFolder?n+=t.useDataEls?`${a} [${u}${d}]()<data data-ntb-folder="${c}"/>`:`${a} [${u}${d}](<obsidian://note-toolbar?folder=${c}>)`:n+=`${a} [[${c}|${u}${d}]]`;break;case"group":let b=r.settingsManager.getToolbar(p.link);n+=b?await fn(r,b,e,t,i+1):"";break;case"menu":let f=c;if(!t.useIds){let v=r.settingsManager.getToolbar(p.link);f=v?v.name:f}n+=t.useDataEls?`${a} [${u}${d}]()<data data-ntb-menu="${f}"/>`:`${a} [${u}${d}](<obsidian://note-toolbar?menu=${f}>)`;break;case"separator":n+=`${a} <hr/>`;break;case"uri":n+=c?`${a} [${u}${d}](${c.startsWith("<")?c:`<${c}>`})`:"";break}n+=g&&d!==g?` <!-- ${g} -->`:""}return n}function za(r){return r.replace(/\"/g,"&quot;").replace(/\>/g,"&gt;").replace(/\</g,"&lt;").replace(/\s+/g," ")}function Wa(r){return r.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\)/g,"\\)").replace(/\(/g,"\\(")}function gn(r){return r.replace(/\\\[/g,"[").replace(/\\\]/g,"[").replace(/\\\)/g,")").replace(/\\\(/g,"(").replace(/^<(?!%)/g,"").replace(/(?<!%)>$/g,"")}function wo(r,o){var e;if(r.hasPlugin["templater-obsidian"]&&(o=o.replace(/<%\s*(.*?)\s*%?>/g,"{{tp: $1}}")),r.hasPlugin.dataview){let t=((e=r.dvAdapter)==null?void 0:e.getSetting("inlineQueryPrefix"))||"=",i=new RegExp(`^${t}\\s*(.*)`,"gm");o=o.replace(i,"{{dv: $1}}")}return o}function hn(r){return r.replace(/\[/g,"\\[").replace(/\]/g,"\\]")}function bn(r){return r.replace(/\\\[/g,"[").replace(/\\\]/g,"]")}async function Re(r,o,e,t=!1){let i=o.trim().split(`
`),n=!!e;var a="";let l=r.app.workspace.getActiveFile();if(e||(e={uuid:ae(),customClasses:"",defaultItem:null,defaultStyles:["border","even","sticky"],hasCommand:!1,items:[],mobileStyles:[],name:"",position:{desktop:{allViews:{position:"props"}},mobile:{allViews:{position:"props"}},tablet:{allViews:{position:"props"}}},updated:new Date().toISOString()}),i[0].includes("[!note-toolbar")){if(!n){let p=i[0].match(/\[!note-toolbar\|?\s*([^\]]*)\](.*)/);if(p){let u=p[1].split(/[^a-zA-Z0-9]+/),d=p[2].trim(),c=Et.map(f=>Object.keys(f)[0]),g=Ct.map(f=>Object.keys(f)[0]),m=u.filter(f=>c.includes(f)),h=u.filter(f=>g.includes(f)),b=u.filter(f=>f&&!c.includes(f)&&!g.includes(f));w("\u2022 name?",d),w("\u2022 styles?",m,h),b.length>0&&(w("  \u2022 invalid:",b),a+=`${s("import.errorlog-invalid-styles",{styles:b})}
`),e.name=r.settingsManager.getUniqueToolbarName(d||s("setting.toolbars.imported-tbar-name"),!1),e.defaultStyles=m,e.mobileStyles=h}}i.shift()}return i.map((p,u)=>{var v,E,I,S,L,R;w(u+1);var d=void 0;let c="",g="",m="",h="",b="",f;if(/<br\s*\/?>/.test(p))d="break";else if(/<hr\s*\/?>/.test(p))d="separator";else{let O=p.match(/<data data-(ntb-)?(command|dataview|folder|js-engine|menu|templater-obsidian)="(.*?)"(.*?)(\/?>|$)/),X=p.match(/obsidian:\/\/note-toolbar\?(command|folder|menu)=(.*?)>?\)/),J=p.match(/<!--\s*(.*?)\s*-->/),he=O?p.replace(O[0],"").trim():p;he=J?he.replace(J[0],"").trim():he;let K=he.match(/\[(.*?)\]\((.*?)\)$|\[\[(.*?)(?:\|(.*?))?\]\]/);if(K){if(K[1])d="uri",g=bn(K[1]),m=gn(K[2]);else if(K[3]&&(d="file",g=bn(K[4]||K[3]),m=gn(K[3]),l)){let $=r.app.metadataCache.getFirstLinkpathDest(m,l==null?void 0:l.path);m=$?$.path:m}let Ne=g==null?void 0:g.match(/(:Li\w+:)/);if(Ne){let $=g==null?void 0:g.match(/:Li(\w+):/);if($){let z=$[1].replace(/([a-z])([A-Z0-9])/g,"$1-$2").replace(/([A-Z])([A-Z][a-z])/g,"$1-$2").toLowerCase();c=(0,Xe.getIcon)("lucide-"+z)?"lucide-"+z:(0,Xe.getIcon)(z)?z:"",a+=c?"":`${s("import.errorlog-item",{number:u+1})} ${s("import.errorlog-icon-not-found",{icon:z})}
`}g=g==null?void 0:g.replace(Ne[1],"").trim()}if(h=J?J[1]:"",O||X){let $=O?O[2]:X?X[1]:"",z=O?O[3]:X?X[2]:"";switch(w("\u2022 data?",$,m),$){case"command":d="command",b=z;let Ee=Xt(r,b);m=Ee||b,a+=Ee?"":`${s("import.errorlog-item",{number:u+1})} ${s("import.errorlog-command-not-recognized",{command:b})}
`;break;case"dataview":case"js-engine":case"templater-obsidian":d=$;let ce=p.match(/<data\s[^>]*\/?>/);if(ce){let G=new DOMParser().parseFromString(ce[0],"text/html").body.firstElementChild;f={pluginFunction:z,expression:(v=G==null?void 0:G.getAttribute(ee.expression))!=null?v:void 0,sourceFile:(E=G==null?void 0:G.getAttribute(ee.sourceFile))!=null?E:void 0,sourceFunction:(I=G==null?void 0:G.getAttribute(ee.sourceFunction))!=null?I:void 0,sourceArgs:(S=G==null?void 0:G.getAttribute(ee.sourceArgs))!=null?S:void 0,outputContainer:(L=G==null?void 0:G.getAttribute(ee.outputContainer))!=null?L:void 0,outputFile:(R=G==null?void 0:G.getAttribute(ee.outputFile))!=null?R:void 0}}break;case"folder":d="file",m=z;break;case"menu":d="menu";let Pe=r.settingsManager.getToolbar(z);m=Pe?Pe.uuid:z,a+=Pe?"":`${s("import.errorlog-item",{number:u+1})} ${s("import.errorlog-menu-not-found",{menu:z})}
`;break}}}}if(w("\u2022 icon?",c),w("\u2022 label?",g),w("\u2022 tooltip?",h),w("\u2022 link?",m),w("\u2022 commandId?",b),w("\u2022 scriptConfig?",f),w(`=> ${d==null?void 0:d.toUpperCase()}`),a+=d?"":`${s("import.errorlog-item",{number:u+1})} ${s("import.errorlog-invalid-format",{line:p})}
`,d){let O={uuid:ae(),label:g.trim(),icon:c.trim(),link:m.trim(),linkAttr:{commandId:d==="command"?b.trim():"",hasVars:!1,type:d},scriptConfig:f,tooltip:h,visibility:Jt};e==null||e.items.push(O)}}),!t&&a&&(a=`${s("import.errorlog-heading")}
${a}`,new Xe.Notice(a,1e4)),e}async function yo(r,o){return new Promise((e,t)=>{let i=new Si(r,o);i.onClose=()=>{e(i.importedToolbar)},i.open()})}var Si=class extends Ze.Modal{constructor(e,t){super(e.app);this.callout="";this.modalEl.addClass("note-toolbar-setting-dialog-phonefix"),this.plugin=e,this.toolbar=t}onOpen(){new Promise(e=>{if(this.setTitle(this.toolbar?s("import.title-import-into",{toolbar:this.toolbar.name}):s("import.title-import")),this.modalEl.createEl("p",{text:this.toolbar?F(s("import.label-import-into"),"Creating-toolbars-from-callouts"):F(s("import.label-import"),"Creating-toolbars-from-callouts")}),new Ze.Setting(this.modalEl).addTextArea(i=>{i.setPlaceholder(s("import.placeholder-import-into")).onChange(n=>{this.callout=n})}).setClass("note-toolbar-setting-import-text-area"),this.toolbar){let i=this.modalEl.createDiv();i.addClass("note-toolbar-setting-field-help"),i.setText(s("import.label-import-into-help"))}this.modalEl.createDiv().addClass("note-toolbar-setting-spacer");let t=this.modalEl.createDiv();t.addClass("note-toolbar-setting-confirm-dialog-buttons"),new Ze.ButtonComponent(t).setButtonText(this.toolbar?s("import.button-add-items"):s("import.button-create")).setCta().onClick(async()=>{this.importedToolbar=await Re(this.plugin,this.callout,this.toolbar),this.close()}),new Ze.ButtonComponent(t).setButtonText(s("import.button-cancel")).onClick(()=>{this.close()}),setTimeout(()=>{let i=this.containerEl.querySelector("textarea");i==null||i.focus()},50)})}};var de=require("obsidian");var Qe=class{constructor(o,e,t){this.parent=e,this.plugin=o,this.toolbar=t}displayStyleSetting(o){let e=new de.Setting(o).setDesc(F(s("setting.styles.description"),"Styling-toolbars"));this.parent instanceof q&&e.setName(s("setting.styles.name")).setHeading();let t=createDiv();if(t.className="note-toolbar-setting-item-style",this.toolbar.defaultStyles.length==0){let m=this.parent.containerEl.createEl("div",{text:Te(s("setting.styles.option-default-empty"))});m.className="note-toolbar-setting-empty-message",t.append(m)}else this.toolbar.defaultStyles.forEach((m,h)=>{let b=ht(Zo,m);new de.Setting(t).setName(ht(Et,m)).setTooltip((b?b+" ":"")+s("setting.styles.style-tooltip-use-class",{class:m})).addExtraButton(f=>{f.setIcon("cross").setTooltip(s("setting.styles.style-remove-tooltip")).onClick(async()=>this.listMoveHandler(null,this.toolbar.defaultStyles,h,"delete")),f.extraSettingsEl.setAttribute("tabindex","0"),this.plugin.registerDomEvent(f.extraSettingsEl,"keydown",v=>this.listMoveHandler(v,this.toolbar.defaultStyles,h,"delete"))})});let i=this.getExcludedDefaultStyles(),n=[{placeholder:s("setting.styles.option-placeholder")},...Et].filter(m=>{let h=Object.keys(m)[0];return!this.toolbar.defaultStyles.includes(h)&&!i.includes(h)}).reduce((m,h)=>({...m,...h}),{}),a=new de.Setting(t).addDropdown(m=>m.addOptions(n).setValue("placeholder").onChange(async h=>{this.toolbar.defaultStyles.includes(h)?this.toolbar.defaultStyles=this.toolbar.defaultStyles.filter(b=>b!==h):this.toolbar.defaultStyles.push(h),await this.plugin.settingsManager.save(),this.parent.display()}));a.controlEl.id="default-style-dropdown";let l=document.createDocumentFragment();l.append(s("setting.styles.option-default-description")),l.append(Ei(Zo,this.toolbar.defaultStyles)),new de.Setting(o).setName(s("setting.styles.option-default-name")).setDesc(l).setClass("note-toolbar-setting-item-styles").settingEl.append(t);let p=createDiv();if(p.className="note-toolbar-setting-item-style",this.toolbar.mobileStyles.length==0){let m=this.parent.containerEl.createEl("div",{text:Te(s("setting.styles.option-mobile-empty"))});m.className="note-toolbar-setting-empty-message",p.append(m)}else this.toolbar.mobileStyles.forEach((m,h)=>{let b=ht(Qo,m);new de.Setting(p).setName(ht(Ct,m)).setTooltip((b?b+" ":"")+"Use in Callout or CSS: "+m).addExtraButton(f=>{f.setIcon("cross").setTooltip("Remove").onClick(async()=>this.listMoveHandler(null,this.toolbar.mobileStyles,h,"delete")),f.extraSettingsEl.setAttribute("tabindex","0"),this.plugin.registerDomEvent(f.extraSettingsEl,"keydown",v=>this.listMoveHandler(v,this.toolbar.mobileStyles,h,"delete"))})});let u=this.getExcludedMobileStyles(),d=[{placeholder:s("setting.styles.option-placeholder")},...Ct].filter(m=>{let h=Object.keys(m)[0];return!this.toolbar.mobileStyles.includes(h)&&!u.includes(h)}).reduce((m,h)=>({...m,...h}),{}),c=new de.Setting(p).addDropdown(m=>m.addOptions(d).setValue("placeholder").onChange(async h=>{this.toolbar.mobileStyles.includes(h)?this.toolbar.mobileStyles=this.toolbar.mobileStyles.filter(b=>b!==h):this.toolbar.mobileStyles.push(h),await this.plugin.settingsManager.save(),this.parent.display()})),g=document.createDocumentFragment();g.append(s("setting.styles.option-mobile-description")),g.append(Ei(Qo,this.toolbar.mobileStyles)),new de.Setting(o).setName(s("setting.styles.option-mobile-name")).setDesc(g).setClass("note-toolbar-setting-item-styles").settingEl.append(p),new de.Setting(o).setName(s("setting.styles.option-custom-name")).setDesc(F(s("setting.styles.option-custom-description"),"Custom-styling")).setClass("note-toolbar-setting-item-full-width").addText(m=>m.setPlaceholder(s("setting.styles.option-custom-empty")).setValue(this.toolbar.customClasses).onChange((0,de.debounce)(async h=>{this.toolbar.customClasses=h.trim(),await this.plugin.settingsManager.save()},750))),new de.Setting(o).setDesc(F(s("setting.styles.help"),"Style-Settings-plugin-support"))}getStyleDisclaimersFr(o,e){throw new Error("Method not implemented.")}getExcludedDefaultStyles(){var t,i,n,a,l,p;let o=[];((i=(t=this.toolbar.position.desktop)==null?void 0:t.allViews)==null?void 0:i.position)!=="props"&&o.push("sticky"),((a=(n=this.toolbar.position.desktop)==null?void 0:n.allViews)==null?void 0:a.position)!=="top"&&((p=(l=this.toolbar.position.desktop)==null?void 0:l.allViews)==null?void 0:p.position)!=="bottom"&&o.push("wide");let{defaultStyles:e}=this.toolbar;return e.includes("left")&&o.push("right","center"),e.includes("right")&&o.push("left","center"),e.includes("center")&&o.push("left","right"),e.includes("between")&&o.push("even"),e.includes("even")&&o.push("between"),o}getExcludedMobileStyles(){var i,n,a,l;let o=[];((n=(i=this.toolbar.position.mobile)==null?void 0:i.allViews)==null?void 0:n.position)!=="top"&&o.push("mnwd","mwd"),((l=(a=this.toolbar.position.mobile)==null?void 0:a.allViews)==null?void 0:l.position)!=="props"&&o.push("mstcky","mnstcky");let{mobileStyles:e}=this.toolbar;e.includes("mlft")&&o.push("mrght","mctr"),e.includes("mrght")&&o.push("mlft","mctr"),e.includes("mctr")&&o.push("mlft","mrght"),e.includes("mbtwn")&&o.push("mevn"),e.includes("mevn")&&o.push("mbtwn"),e.includes("mnwd")&&o.push("mwd"),e.includes("mwd")&&o.push("mnwd");let{defaultStyles:t}=this.toolbar;return t.includes("border")&&o.push("mbrder"),t.includes("border")||o.push("mnbrder"),t.includes("button")&&o.push("mbtn"),t.includes("wide")&&o.push("mwd"),o}async listMoveHandler(o,e,t,i){if(o)switch(o.key){case"ArrowUp":o.preventDefault(),i="up";break;case"ArrowDown":o.preventDefault(),i="down";break;case"Delete":case"Backspace":o.preventDefault(),i="delete";break;case"Enter":case" ":o.preventDefault();break;default:return}switch(i){case"up":xe(e,t,t-1),this.toolbar.updated=new Date().toISOString();break;case"down":xe(e,t,t+1),this.toolbar.updated=new Date().toISOString();break;case"delete":e.splice(t,1),this.toolbar.updated=new Date().toISOString();break}await this.plugin.settingsManager.save(),this.parent.display()}};var M=require("obsidian");var bt=require("obsidian");var Ue=class extends bt.SuggestModal{constructor(o,e){super(o.app),this.modalEl.addClass("note-toolbar-setting-mini-dialog"),this.plugin=o,this.callback=e,this.setPlaceholder(s("setting.icon-suggester.placeholder")),this.setInstructions([{command:"\u2191\u2193",purpose:s("setting.icon-suggester.instruction-navigate")},{command:"\u21B5",purpose:s("setting.icon-suggester.instruction-use")},{command:"esc",purpose:s("setting.icon-suggester.instruction-dismiss")}])}getSuggestions(o){let e=(0,bt.getIconIds)(),t=[],i=o.toLowerCase();return t.push(s("setting.icon-suggester.option-no-icon")),e.forEach(n=>{n.toLowerCase().includes(i)&&t.push(n)}),t}renderSuggestion(o,e){e.addClass("note-toolbar-icon-suggestion");let t=e.createSpan();if(o===s("setting.icon-suggester.option-no-icon"))t.setText(o);else{t.setText(o.startsWith("lucide-")?o.substring(7):o);let i=e.createSpan();(0,bt.setIcon)(i,o)}}onChooseSuggestion(o,e){this.callback(o),this.close()}};var To=require("obsidian"),Ht=class extends To.AbstractInputSuggest{constructor(o,e,t=!1,i,n){super(o,e),this.inputEl=e,this.showFilesOnly=t,this.fileExtension=i,this.folderPath=n}getSuggestions(o){let e=this.app.vault.getAllLoadedFiles(),t=[],i=o.toLowerCase();return t=e.filter(n=>{let a=n instanceof To.TFile,l=n.path.toLowerCase();return!(!l.includes(i)||this.showFilesOnly&&!a||this.fileExtension&&a&&!l.endsWith(this.fileExtension.toLowerCase())||this.folderPath&&!l.startsWith(this.folderPath.toLowerCase()))}),t}renderSuggestion(o,e){e.setText(o.path)}selectSuggestion(o){this.inputEl.value=o.path,this.inputEl.trigger("input"),this.inputEl.blur(),this.close()}};var wn=require("obsidian"),Rt=class extends wn.AbstractInputSuggest{constructor(o,e,t){super(o,e),this.callback=t,this.commands=Object.values(this.app.commands.commands)}getSuggestions(o){let e=[],t=o.toLowerCase();return this.commands.forEach(i=>{i.name.toLowerCase().includes(t)&&e.push(i)}),e}renderSuggestion(o,e){e.setText(o.name)}selectSuggestion(o){this.callback(o),this.close()}};var yn=require("obsidian"),qe=class extends yn.AbstractInputSuggest{constructor(o,e,t){super(o,t),this.plugin=e,this.inputEl=t}getSuggestions(o){let e=this.plugin.settings.toolbars,t=[],i=o.toLowerCase();return e.forEach(n=>{n.name!==""&&n.name.toLowerCase().includes(i)&&t.push(n)}),t}renderSuggestion(o,e){e.setText(o.name)}selectSuggestion(o){this.inputEl.value=o.name,this.inputEl.trigger("input"),this.inputEl.blur(),this.close()}};var vn=require("obsidian");var ze=class extends vn.Modal{constructor(o,e,t,i){super(o),this.plugin=e,this.toolbarItem=i,this.toolbarItemUi=new et(this.plugin,this,t)}onOpen(){this.setTitle(s("setting.item.title")),this.display()}onClose(){let{contentEl:o}=this;o.empty()}display(){this.contentEl.empty();let o=this.toolbarItemUi.generateItemForm(this.toolbarItem);this.contentEl.append(o)}getItemRowEl(o){return this.contentEl}};var et=class{constructor(o,e,t){this.parent=e,this.plugin=o,this.toolbar=t}generateItemForm(o){var u;let e=createDiv();e.className="note-toolbar-setting-item";let t=createDiv();t.className="note-toolbar-setting-item-top-container";let i=createDiv();if(i.className="note-toolbar-setting-item-fields",!["break","separator"].includes(o.linkAttr.type)){let d=new M.Setting(i).setClass("note-toolbar-setting-item-icon").addExtraButton(I=>{I.setIcon(o.icon?o.icon:"lucide-plus-square").setTooltip(s("setting.item.button-icon-tooltip")).onClick(async()=>{let S=this.parent.getItemRowEl(o.uuid);new Ue(this.plugin,R=>{o.icon=R===s("setting.icon-suggester.option-no-icon")?"":R,this.plugin.settingsManager.save(),Ci(this.parent,S,R)}).open()}),I.extraSettingsEl.setAttribute("data-note-toolbar-no-icon",o.icon?"false":"true"),I.extraSettingsEl.setAttribute("tabindex","0"),this.plugin.registerDomEvent(I.extraSettingsEl,"keydown",S=>{switch(S.key){case"Enter":case" ":S.preventDefault();let L=this.parent.getItemRowEl(o.uuid);new Ue(this.plugin,O=>{o.icon=O===s("setting.icon-suggester.option-no-icon")?"":O,this.plugin.settingsManager.save(),Ci(this.parent,L,O)}).open()}})});d.settingEl.id="note-toolbar-item-field-icon";let c=new M.Setting(i).setClass("note-toolbar-setting-item-field").addText(I=>{I.setPlaceholder(s("setting.item.option-label-placeholder")).setValue(o.label).onChange((0,M.debounce)(async S=>{let L=this.updateItemComponentStatus(S,"text",I.inputEl.parentElement);o.label=S,this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save(),this.renderPreview(o)},750)),this.updateItemComponentStatus(o.label,"text",I.inputEl.parentElement)});c.settingEl.id="note-toolbar-item-field-label";let g=new M.Setting(i).setClass("note-toolbar-setting-item-field").addText(I=>{I.setPlaceholder(s("setting.item.option-tooltip-placeholder")).setValue(o.tooltip).onChange((0,M.debounce)(async S=>{let L=this.updateItemComponentStatus(S,"text",I.inputEl.parentElement);o.tooltip=S,this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save(),this.renderPreview(o)},750)),this.updateItemComponentStatus(o.tooltip,"text",I.inputEl.parentElement)});g.settingEl.id="note-toolbar-item-field-tooltip";let m=createDiv();m.className="note-toolbar-setting-item-link-container";let h=createDiv(),b=new M.Setting(h).addDropdown(I=>I.addOptions(Object.fromEntries(Object.entries(St).filter(([S])=>this.plugin.hasPlugin[S]||!["dataview","js-engine","templater-obsidian"].includes(S)))).setValue(o.linkAttr.type).onChange(async S=>{var O;let L=this.parent.getItemRowEl(o.uuid),R=L==null?void 0:L.querySelector(".note-toolbar-setting-item-link-field");if(R){o.linkAttr.type=S,R.empty(),o.link="",this.getLinkSettingForType(o.linkAttr.type,R,o),await this.plugin.settingsManager.save(),this.renderPreview(o);let X=o.linkAttr.type==="group";d.setDisabled(X),w(d.controlEl),(O=d.controlEl.firstChild)==null||O.setAttribute("tabindex",X?"-1":"0"),c.setDisabled(X),g.setDisabled(X)}})),f=createDiv();f.className="note-toolbar-setting-item-link-field",this.getLinkSettingForType(o.linkAttr.type,f,o),m.append(h),m.append(f);let v=createDiv();v.className="note-toolbar-setting-item-fields",v.appendChild(i),t.appendChild(v),t.appendChild(m),e.appendChild(t);let E=o.linkAttr.type==="group";d.setDisabled(E),(u=d.controlEl.firstChild)==null||u.setAttribute("tabindex",E?"-1":"0"),c.setDisabled(E),g.setDisabled(E)}let n=createDiv();if(n.className="note-toolbar-setting-item-controls",this.getDeleteButton(n,o),new M.Setting(n).setClass("note-toolbar-setting-item-visibility-and-controls").addButton(d=>{d.setIcon("copy-plus").setTooltip(s("setting.item.button-duplicate-tooltip")).onClick(async()=>{let c=await this.plugin.settingsManager.duplicateToolbarItem(this.toolbar,o,!0);if(await this.plugin.settingsManager.save(),this.parent instanceof ze){let g=this.plugin.settingsManager.getToolbarItemById(c);if(g){let m=new ze(this.plugin.app,this.plugin,this.toolbar,g);this.parent.close(),m.open()}}else this.parent.display(`.note-toolbar-sortablejs-list > div[data-item-uuid="${c}"] > .note-toolbar-setting-item-preview-container > .note-toolbar-setting-item-preview`)})}),["break","separator"].includes(o.linkAttr.type)){let d=o.linkAttr.type,c=createSpan();c.setText(d.charAt(0).toUpperCase()+d.slice(1)),n.append(c)}let a=createDiv();a.className="note-toolbar-setting-item-visibility-container";let l=new M.Setting(a).setClass("note-toolbar-setting-item-visibility").addButton(d=>{let[c,g]=this.getPlatformStateLabel(o.visibility.desktop,s("setting.item.option-visibility-platform-desktop"));(0,M.setIcon)(d.buttonEl,"monitor"),this.updateItemVisButton(d,c,g),d.setTooltip(g).onClick(async()=>{var m,h;if((h=(m=o.visibility).desktop)!=null||(m.desktop={allViews:{components:[]}}),["break","group","separator"].includes(o.linkAttr.type)){let b=o.visibility.desktop,f={icon:b&&b.allViews?b.allViews.components.includes("icon"):!1,label:b&&b.allViews?b.allViews.components.includes("label"):!1};f.icon&&f.label?(Ge(b,"icon"),Ge(b,"label"),f.icon=!1,f.label=!1):($e(b,"icon"),$e(b,"label"),f.icon=!0,f.label=!0);let[v,E]=this.getPlatformStateLabel(b,s("setting.item.option-visibility-platform-desktop"));this.updateItemVisButton(d,v,E),this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save()}else this.getItemVisibilityMenu(o.visibility.desktop,s("setting.item.option-visibility-platform-desktop"),d).showAtPosition(It(d.buttonEl))})}).addButton(d=>{let[c,g]=this.getPlatformStateLabel(o.visibility.mobile,s("setting.item.option-visibility-platform-mobile"));(0,M.setIcon)(d.buttonEl,"tablet-smartphone"),this.updateItemVisButton(d,c,g),d.setTooltip(g).onClick(async()=>{var m,h;if((h=(m=o.visibility).mobile)!=null||(m.mobile={allViews:{components:[]}}),["break","group","separator"].includes(o.linkAttr.type)){let b=o.visibility.mobile,f={icon:b&&b.allViews?b.allViews.components.includes("icon"):!1,label:b&&b.allViews?b.allViews.components.includes("label"):!1};f.icon&&f.label?(Ge(b,"icon"),Ge(b,"label"),f.icon=!1,f.label=!1):($e(b,"icon"),$e(b,"label"),f.icon=!0,f.label=!0);let[v,E]=this.getPlatformStateLabel(b,s("setting.item.option-visibility-platform-mobile"));this.updateItemVisButton(d,v,E),this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save()}else this.getItemVisibilityMenu(o.visibility.mobile,s("setting.item.option-visibility-platform-mobile"),d).showAtPosition(It(d.buttonEl))})});this.parent instanceof q&&l.addExtraButton(d=>{d.setIcon("grip-horizontal").setTooltip(s("setting.button-drag-tooltip")).extraSettingsEl.addClass("sortable-handle"),d.extraSettingsEl.setAttribute("data-item-uuid",o.uuid),d.extraSettingsEl.tabIndex=0,this.plugin.registerDomEvent(d.extraSettingsEl,"keydown",c=>{this.parent instanceof q&&this.parent.listMoveHandlerById(c,this.toolbar.items,o.uuid)})});let p=createDiv();return p.className="note-toolbar-setting-item-visibility-and-controls",p.setAttribute("data-item-type",o.linkAttr.type),p.appendChild(n),p.appendChild(a),e.appendChild(p),e}getDeleteButton(o,e){new M.Setting(o).setClass("note-toolbar-setting-item-delete").addButton(t=>{t.setIcon("minus-circle").setTooltip(s("setting.button-delete-tooltip")).onClick(async()=>{this.parent instanceof q?this.parent.listMoveHandlerById(null,this.toolbar.items,e.uuid,"delete"):(this.plugin.settingsManager.deleteToolbarItemById(e.uuid),this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save(),this.parent.close())}),t.buttonEl.setAttribute("data-item-uuid",e.uuid)})}getItemVisibilityMenu(o,e,t){let i={icon:o&&o.allViews?o.allViews.components.includes("icon"):!1,label:o&&o.allViews?o.allViews.components.includes("label"):!1},n=new M.Menu;return n.addItem(a=>{a.setTitle(i.icon?s("setting.item.option-visibility-component-visible-platform",{component:s("setting.item.option-component-icon"),platform:e}):s("setting.item.option-visibility-component-hidden-platform",{component:s("setting.item.option-component-icon"),platform:e})).setIcon("image").setChecked(i.icon).onClick(async l=>{i.icon?(Ge(o,"icon"),i.icon=!1):($e(o,"icon"),i.icon=!0),this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save();let[p,u]=this.getPlatformStateLabel(o,e);this.updateItemVisButton(t,p,u)})}),n.addItem(a=>{a.setTitle(i.label?s("setting.item.option-visibility-component-visible-platform",{component:s("setting.item.option-component-label"),platform:e}):s("setting.item.option-visibility-component-hidden-platform",{component:s("setting.item.option-component-label"),platform:e})).setIcon("whole-word").setChecked(i.label).onClick(async l=>{i.label?(Ge(o,"label"),i.label=!1):($e(o,"label"),i.label=!0),this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save();let[p,u]=this.getPlatformStateLabel(o,e);this.updateItemVisButton(t,p,u)})}),n}getLinkSetting(o,e,t,i){var n,a;switch(o){case"command":new M.Setting(e).setClass("note-toolbar-setting-item-field-link").addSearch(d=>{new Rt(this.plugin.app,d.inputEl,async c=>{this.updateItemComponentStatus(c.id,"command",d.inputEl.parentElement),d.inputEl.value=c.name,t.link=c.name,t.linkAttr.commandId=c.id,t.linkAttr.type=o,await this.plugin.settingsManager.save(),this.renderPreview(t)}),d.setPlaceholder(s("setting.item.option-command-placeholder")).setValue(t.link).onChange((0,M.debounce)(async c=>{let g=c?oi(this.plugin,c):"",m=this.updateItemComponentStatus(g,"command",d.inputEl.parentElement);t.link=m&&c?c:"",t.linkAttr.commandId=m&&g?g:"",t.linkAttr.type=o,await this.plugin.settingsManager.save(),this.renderPreview(t)},500)),this.updateItemComponentStatus(t.linkAttr.commandId,"command",d.inputEl.parentElement)});break;case"dataview":case"js-engine":case"templater-obsidian":if(this.plugin.settings.scriptingEnabled){let d=this.plugin.getAdapterForItemType(o);if(d){let c={"":"Select a function...",...Array.from(d==null?void 0:d.getFunctions().entries()).reduce((b,[f,v])=>(b[f]=v.label,b),{})},g=((n=t.scriptConfig)==null?void 0:n.pluginFunction)||"";g=g&&(d!=null&&d.getFunctions().has(g))?g:"";let m=new M.Setting(e).setClass("note-toolbar-setting-item-field-link").addDropdown(b=>{b.addOptions(c).setValue(g).onChange(async f=>{var E;let v=e.querySelector(".note-toolbar-setting-item-link-subfield");if(v==null||v.remove(),(E=t.scriptConfig)!=null||(t.scriptConfig={pluginFunction:f}),t.scriptConfig.pluginFunction=f,this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save(),d){let I=createDiv();I.addClass("note-toolbar-setting-item-link-subfield"),this.getScriptSubfields(d,t,I),e.append(I);let S=d.getFunctions().get(f);if(S!=null&&S.description)if(typeof S.description=="string"){let L=document.createDocumentFragment();L.appendText(S.description),Fe(m.controlEl,L)}else Fe(m.controlEl,S.description)}this.renderPreview(t)})});Fe(m.controlEl,i),(a=t.scriptConfig)!=null||(t.scriptConfig={pluginFunction:""});let h=createDiv();h.addClass("note-toolbar-setting-item-link-subfield"),this.getScriptSubfields(d,t,h),e.append(h)}else{e.removeClass("note-toolbar-setting-item-link-field"),e.addClass("note-toolbar-setting-plugin-error"),e.setText("Toggle the Scripting setting after installing and enabling plugin: ");let g=document.createDocumentFragment().createEl("a",{href:`obsidian://show-plugin?id=${o}`,text:St[o]});g.addClass("note-toolbar-setting-focussable-link"),e.append(g)}}else e.removeClass("note-toolbar-setting-item-link-field"),e.addClass("note-toolbar-setting-plugin-error"),e.setText("Enable Scripting in Note Toolbar settings to use this item.");break;case"file":new M.Setting(e).setClass("note-toolbar-setting-item-field-link").addSearch(d=>{new Ht(this.plugin.app,d.inputEl),d.setPlaceholder(s("setting.item.option-file-placeholder")).setValue(t.link).onChange((0,M.debounce)(async c=>{let g=this.updateItemComponentStatus(c,"file",d.inputEl.parentElement);t.link=g?(0,M.normalizePath)(c):"",t.linkAttr.commandId="",t.linkAttr.type=o,await this.plugin.settingsManager.save(),this.renderPreview(t)},500)),this.updateItemComponentStatus(t.link,"file",d.inputEl.parentElement)});break;case"group":let l=new M.Setting(e).setClass("note-toolbar-setting-item-field-link").addSearch(d=>{new qe(this.plugin.app,this.plugin,d.inputEl),d.setPlaceholder(s("setting.item.option-item-group-placeholder")).setValue(this.plugin.settingsManager.getToolbarName(t.link)).onChange((0,M.debounce)(async c=>{let m=this.updateItemComponentStatus(c,"toolbar",d.inputEl.parentElement)?this.plugin.settingsManager.getToolbarByName(c):void 0;t.link=m?m.uuid:"",t.linkAttr.commandId="",t.linkAttr.type=o,await this.plugin.settingsManager.save(),this.renderPreview(t);let h=m?Se(this.plugin,m,void 0,!0):F(s("setting.item.option-item-group-help"),"Creating-toolbar-items");Fe(l.controlEl,h)},500)),this.updateItemComponentStatus(t.link,"toolbar",d.inputEl.parentElement)});Fe(l.controlEl,i);break;case"menu":let p=new M.Setting(e).setClass("note-toolbar-setting-item-field-link").addSearch(d=>{new qe(this.plugin.app,this.plugin,d.inputEl);let c=this.plugin.settingsManager.getToolbarName(t.link);d.setPlaceholder(s("setting.item.option-item-menu-placeholder")).setValue(c||t.link).onChange((0,M.debounce)(async g=>{this.updateItemComponentStatus(g,"toolbar",d.inputEl.parentElement);let m=this.plugin.settingsManager.getToolbarByName(g);t.link=m?m.uuid:"",t.linkAttr.commandId="",t.linkAttr.type=o,await this.plugin.settingsManager.save(),this.renderPreview(t);let h=m?Se(this.plugin,m,void 0,!0):F(s("setting.item.option-item-menu-help"),"Creating-toolbar-items");Fe(p.controlEl,h)},500)),this.updateItemComponentStatus(t.link,"toolbar",d.inputEl.parentElement)});Fe(p.controlEl,i);break;case"uri":let u=new M.Setting(e).setClass("note-toolbar-setting-item-field-link").addText(d=>{d.setPlaceholder(s("setting.item.option-uri-placehoder")).setValue(t.link).onChange((0,M.debounce)(async c=>{this.updateItemComponentStatus(c,"text",d.inputEl.parentElement),t.link=c,t.linkAttr.commandId="",t.linkAttr.type=o,this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save(),this.renderPreview(t)},500)),this.updateItemComponentStatus(t.link,"text",d.inputEl.parentElement)});Fe(u.controlEl,i);break}}getScriptSubfields(o,e,t){if(e.scriptConfig){let i=e.scriptConfig,n=o.getFunctions().get(e.scriptConfig.pluginFunction);n==null||n.parameters.forEach(a=>{let l=i[a.parameter],p;switch(a.type){case"command":p=new M.Setting(t).setClass("note-toolbar-setting-item-field-link").addSearch(u=>{new Rt(this.plugin.app,u.inputEl,async d=>{this.updateItemComponentStatus(d.id,a.type,u.inputEl.parentElement),i[a.parameter]=d.id,u.inputEl.value=d.name,await this.plugin.settingsManager.save()}),u.setPlaceholder(a.label).setValue(l&&Xt(this.plugin,l)||"").onChange((0,M.debounce)(async d=>{let c=d?oi(this.plugin,d):"",g=this.updateItemComponentStatus(c,a.type,u.inputEl.parentElement);i[a.parameter]=g&&c?c:"",await this.plugin.settingsManager.save(),this.renderPreview(e)},500)),this.updateItemComponentStatus(l||"",a.type,u.inputEl.parentElement)});break;case"file":p=new M.Setting(t).setClass("note-toolbar-setting-item-field-link").addSearch(u=>{var g;let d,c=".js";e.linkAttr.type==="templater-obsidian"&&(d=(g=this.plugin.tpAdapter)==null?void 0:g.getSetting("templates_folder"),c=void 0),new Ht(this.plugin.app,u.inputEl,!0,c,d),u.setPlaceholder(a.label).setValue(l||"").onChange((0,M.debounce)(async m=>{let h=this.updateItemComponentStatus(m,a.type,u.inputEl.parentElement);i[a.parameter]=h?(0,M.normalizePath)(m):"",this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save(),this.renderPreview(e)},500)),this.updateItemComponentStatus(l||"",a.type,u.inputEl.parentElement)});break;case"text":p=new M.Setting(t).setClass("note-toolbar-setting-item-field-link").addText(u=>{u.setPlaceholder(a.label).setValue(l||"").onChange((0,M.debounce)(async d=>{let c=this.updateItemComponentStatus(d,a.type,u.inputEl.parentElement);i[a.parameter]=c?d:"",this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save(),this.renderPreview(e)},500)),this.updateItemComponentStatus(l||"",a.type,u.inputEl.parentElement)});break;case"args":case"textarea":p=new M.Setting(t).setClass("note-toolbar-setting-item-field-link").addTextArea(u=>{u.setPlaceholder(a.label).setValue(l||"").onChange((0,M.debounce)(async d=>{let c=this.updateItemComponentStatus(d,a.type,u.inputEl.parentElement);i[a.parameter]=c?d:"",this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save(),this.renderPreview(e)},500)),this.updateItemComponentStatus(l||"",a.type,u.inputEl.parentElement)});break}if(p&&a.description){let u=createDiv();u.setText(a.description),u.addClass("note-toolbar-setting-field-help"),p.controlEl.insertAdjacentElement("beforeend",u)}})}}getLinkSettingForType(o,e,t){switch(o){case"command":this.getLinkSetting(o,e,t);break;case"dataview":this.getLinkSetting(o,e,t,F("Select how you want to use Dataview.","Dataview"));break;case"file":this.getLinkSetting(o,e,t);break;case"js-engine":this.getLinkSetting(o,e,t,F("Select how you want to use this.","JS-Engine"));break;case"group":case"menu":let i=this.plugin.settingsManager.getToolbarById(t.link),n=document.createDocumentFragment();i?n.append(Se(this.plugin,i,void 0,!0)):n.append(F(o==="group"?s("setting.item.option-item-group-help"):s("setting.item.option-item-menu-help"),"Creating-toolbar-items")),this.getLinkSetting(o,e,t,n);break;case"templater-obsidian":this.getLinkSetting(o,e,t,F("Select how you want to use Templater.","Templater"));break;case"uri":this.getLinkSetting(o,e,t,F(s("setting.item.option-uri-help"),"Variables"));break}}getPlatformStateLabel(o,e){var t;if(o&&o.allViews){let i=(t=o.allViews)==null?void 0:t.components;if(i)return i.length===2?["",s("setting.item.option-visibility-visible-platform",{platform:e})]:i.length===1?[i[0]==="icon"?s("setting.item.option-component-icon"):i[0]==="label"?s("setting.item.option-component-label"):i[0],s("setting.item.option-visibility-component-visible-platform",{component:i[0],platform:e})]:[s("setting.item.option-visibility-hidden"),s("setting.item.option-visibility-hidden-platform",{platform:e})]}return[s("setting.item.option-visibility-hidden"),s("setting.item.option-visibility-hidden-platform",{platform:e})]}renderPreview(o){this.parent instanceof q&&this.parent.renderPreview(o)}updateItemComponentStatus(o,e,t,i){var d,c;let n;(b=>(b.Empty="empty",b.Invalid="invalid",b.Valid="valid"))(n||(n={}));var a="valid",l="",p=void 0,u=!0;if(o)switch(e){case"args":st(o)||(a="invalid",l="Invalid argument format.");break;case"command":if(!(o in this.plugin.app.commands.commands))if(a="invalid",o===Yt)l=s("setting.item.option-command-error-does-not-exist");else{l=s("setting.item.option-command-error-not-available-search");let b=So(o),f=b==null?void 0:b.querySelector("a");f&&(l=s("setting.item.option-command-error-not-available-install"),f.addClass("note-toolbar-setting-focussable-link"),p=f)}break;case"file":let m=this.plugin.app.vault.getAbstractFileByPath(o);!(m instanceof M.TFile)&&!(m instanceof M.TFolder)&&(a="invalid",l=s("setting.item.option-file-error-does-not-exist"));break;case"text":break;case"toolbar":let h=this.plugin.settingsManager.getToolbarByName(o);h||(h=this.plugin.settingsManager.getToolbarById(o),h||(a="invalid",l=s("setting.item.option-item-menu-error-does-not-exist")));break}else switch(e){case"script":if(i&&i.scriptConfig){let g=this.plugin.getAdapterForItemType(i.linkAttr.type);if(g){let m=((d=i.scriptConfig)==null?void 0:d.pluginFunction)||"",h=(c=g==null?void 0:g.getFunctions().get(m))==null?void 0:c.parameters;h==null||h.forEach((b,f)=>{var E,I;let v=(I=(E=i.scriptConfig)==null?void 0:E[b.parameter])!=null?I:null;v&&(a=this.updateItemComponentStatus(v,b.type,t)?"valid":"invalid")})}else a="invalid",l="Plugin not installed and enabled."}break;default:a="empty",l="";break}switch(ft(t),a){case"empty":u=!1;break;case"invalid":Ut(this.parent,t,l,p),u=!1;break}return u}updateItemVisButton(o,e,t){let n=Array.from(o.buttonEl.childNodes).find(a=>a.nodeType===Node.TEXT_NODE);e?n?n.textContent=e:o.buttonEl.appendChild(document.createTextNode(e)):n&&o.buttonEl.removeChild(n),o.setTooltip(t)}};var Tn=require("obsidian");var Eo=class extends Tn.AbstractInputSuggest{constructor(o,e,t,i,n){super(o,i),this.plugin=e,this.toolbar=t,this.inputEl=i,this.callback=n}getSuggestions(o){let e=[],t=this.toolbar.items,i=o.toLowerCase();return t.forEach(n=>{let a=n.label||n.tooltip;a||(a=n.icon?n.link:"");let l=(n.label+n.tooltip+n.link).toLowerCase();a&&l.includes(i)&&e.push(n)}),e}renderSuggestion(o,e){Co(this.plugin,o,e,this.inputEl.value)}selectSuggestion(o){this.callback(o),this.close()}};var q=class extends D.Modal{constructor(e,t,i=null,n){super(e);this.hasDesktopFabPosition=!1;this.hasMobileFabPosition=!1;this.itemListIdCounter=0;this.itemListOpen=!0;this.parent=i,this.plugin=t,this.toolbar=n,this.toolbarItemUi=new et(this.plugin,this,n)}onOpen(){this.display()}onClose(){let{contentEl:e}=this;e.empty(),this.parent&&this.parent.display()}onEscapeKey(){let e=activeDocument.activeElement;if(e instanceof HTMLElement&&e.closest(".note-toolbar-setting-item")){let i=e.closest(".note-toolbar-setting-items-container-row"),n=this.modalEl.querySelector(".note-toolbar-setting-modal");n&&this.collapseItemForms(n,i,!0);return}this.close()}display(e){w("\u{1F7E1} REDRAWING MODAL \u{1F7E1}"),this.modalEl.addClass("note-toolbar-setting-modal-container"),this.contentEl.empty(),this.plugin.checkPlugins();let t=createDiv();if(t.className="vertical-tab-content note-toolbar-setting-modal",this.displayNameSetting(t),this.displayItemList(t),this.displayPositionSetting(t),new Qe(this.plugin,this,this.toolbar).displayStyleSetting(t),this.displayCommandButton(t),this.displayUsageSetting(t),this.displayDeleteButton(t),ko(this.plugin,t,!0,()=>{this.close(),this.parent&&this.plugin.app.setting.close()}),this.contentEl.appendChild(t),this.plugin.registerDomEvent(this.modalEl,"click",n=>{let a=n.target.closest(".note-toolbar-setting-items-container-row");this.collapseItemForms(t,a)}),this.plugin.registerDomEvent(t,"focusin",n=>{let a=n.target.closest(".note-toolbar-setting-items-container-row");this.collapseItemForms(t,a)}),e){let n=this.containerEl.querySelector(e);n==null||n.focus()}this.rememberLastPosition(this.contentEl.children[0]),xo(this.plugin)}displayNameSetting(e){let t=createDiv();new D.Setting(t).setName(s("setting.name.name")).setDesc(s("setting.name.description")).addText(i=>i.setPlaceholder("Name").setValue(this.toolbar.name).onChange((0,D.debounce)(async n=>{let a=this.plugin.settingsManager.getToolbarByName(n);a&&a!==this.toolbar?Ut(this,i.inputEl,s("setting.name.error-toolbar-already-exists")):(ft(i.inputEl),this.toolbar.name=n,this.toolbar.updated=new Date().toISOString(),this.plugin.settings.toolbars.sort((l,p)=>l.name.localeCompare(p.name)),await this.plugin.settingsManager.save())},750))),e.append(t)}displayItemList(e){let t=createDiv();t.addClass("note-toolbar-setting-items-container"),t.setAttribute("data-active",this.itemListOpen.toString());let i=new D.Setting(t).setName(s("setting.items.name")).setClass("note-toolbar-setting-items-header").setHeading().setDesc(F(s("setting.items.description"),"Creating-toolbar-items"));i.addExtraButton(d=>{d.setIcon("import").setTooltip(s("import.button-import-into-tooltip")).onClick(async()=>{yo(this.plugin,this.toolbar).then(async c=>{c&&(await this.plugin.settingsManager.save(),this.display())})}).extraSettingsEl.tabIndex=0,this.plugin.registerDomEvent(d.extraSettingsEl,"keydown",c=>{switch(c.key){case"Enter":case" ":c.preventDefault(),d.extraSettingsEl.click()}})}),this.toolbar.items.length>8&&i.addExtraButton(d=>{d.setIcon("right-triangle").setTooltip(s("setting.button-collapse-tooltip")).onClick(async()=>{let c=e.querySelector(".note-toolbar-setting-items-container");if(c){this.itemListOpen=!this.itemListOpen,c.setAttribute("data-active",this.itemListOpen.toString());let g=c.querySelector(".setting-item-heading .setting-item-name");this.itemListOpen?g==null||g.setText(s("setting.items.name")):g==null||g.setText(s("setting.items.name-with-count",{count:this.toolbar.items.length})),d.setTooltip(this.itemListOpen?s("setting.button-collapse-tooltip"):s("setting.button-expand-tooltip"))}}).extraSettingsEl.tabIndex=0,d.extraSettingsEl.addClass("note-toolbar-setting-item-expand"),this.plugin.registerDomEvent(d.extraSettingsEl,"keydown",c=>{switch(c.key){case"Enter":case" ":c.preventDefault(),d.extraSettingsEl.click()}})});let n=createDiv();n.addClass("note-toolbar-setting-items-list-container");let a=createDiv();if(a.addClass("note-toolbar-sortablejs-list"),this.toolbar.items.length===0){let d=this.containerEl.createEl("div",{text:Te(s("setting.items.label-empty-no-items"))});d.className="note-toolbar-setting-empty-message",a.append(d)}else this.toolbar.items.forEach((d,c)=>{let g=createDiv();g.setAttribute("data-item-uuid",d.uuid),g.addClass("note-toolbar-setting-items-container-row");let m=this.generateItemPreview(d,this.itemListIdCounter.toString());g.appendChild(m);let h=this.toolbarItemUi.generateItemForm(d);h.setAttribute("data-active","false"),g.appendChild(h),this.itemListIdCounter++,a.appendChild(g)}),this.plugin.registerDomEvent(a,"keydown",d=>{if(!["ArrowUp","ArrowDown"].contains(d.key))return;let c=activeDocument.activeElement;if(c){let g=c.hasClass("sortable-handle")?".note-toolbar-setting-item-preview-container .sortable-handle":".note-toolbar-setting-item-preview",m=Array.from(a.querySelectorAll(g)),h=m.indexOf(c);switch(d.key){case"ArrowUp":h>0&&(m[h-1].focus(),d.preventDefault());break;case"ArrowDown":h<m.length-1&&(m[h+1].focus(),d.preventDefault());break}}});let l=fo.create(a,{chosenClass:"sortable-chosen",ghostClass:"sortable-ghost",handle:".sortable-handle",onChange:d=>navigator.vibrate(50),onChoose:d=>navigator.vibrate(50),onSort:async d=>{w("sortable: index: ",d.oldIndex," -> ",d.newIndex),d.oldIndex!==void 0&&d.newIndex!==void 0&&(Qt(this.toolbar.items,d.oldIndex,d.newIndex),await this.plugin.settingsManager.save())}});n.appendChild(a);let p=createDiv();p.addClasses(["setting-item","note-toolbar-setting-items-button-container"]);let u=createSpan();new D.Setting(u).addExtraButton(d=>{let c=(0,D.getIcon)("note-toolbar-separator");d.extraSettingsEl.empty(),c&&d.extraSettingsEl.appendChild(c),d.setTooltip(s("setting.items.button-add-separator-tooltip")).onClick(async()=>this.addItemHandler(a,"separator"))}).addExtraButton(d=>{d.setIcon("lucide-corner-down-left").setTooltip(s("setting.items.button-add-break-tooltip")).onClick(async()=>this.addItemHandler(a,"break"))}),p.appendChild(u),new D.Setting(p).addButton(d=>{d.setTooltip(s("setting.items.button-new-item-tooltip")).setButtonText(s("setting.items.button-new-item")).setCta().onClick(async()=>this.addItemHandler(a,"command"))}),n.appendChild(p),t.appendChild(n),e.appendChild(t)}collapseItemForms(e,t,i=!1){e.querySelectorAll(".note-toolbar-sortablejs-list > div").forEach(a=>{let l=a.querySelector(".note-toolbar-setting-item-preview-container");if(i||a!==t){let p=a.querySelector(".note-toolbar-setting-item");l==null||l.setAttribute("data-active","true"),p==null||p.setAttribute("data-active","false")}i&&a===t&&l.querySelector(".note-toolbar-setting-item-preview").focus()})}toggleItemView(e,t,i){var u;let n=e.nextElementSibling,a=(u=e.querySelector(".note-toolbar-setting-item-preview"))==null?void 0:u.getAttribute("data-item-type"),l,p;if(t)switch(t){case"form":l="false",p="true";break;case"preview":l="true",p="false";break}else l=(e==null?void 0:e.getAttribute("data-active"))==="true"?"false":"true",p=(n==null?void 0:n.getAttribute("data-active"))==="true"?"false":"true";if(n==null||n.setAttribute("data-active",p),e==null||e.setAttribute("data-active",l),p==="true"){let d="";if(a)switch(a){case"break":case"separator":i="delete";break;case"group":i="link";break;default:i=i||"icon";break}switch(i){case"delete":d=".note-toolbar-setting-item-delete button";break;case"icon":d="#note-toolbar-item-field-icon .clickable-icon";break;case"label":d="#note-toolbar-item-field-label input";break;case"link":d=".note-toolbar-setting-item-field-link input";break;case"tooltip":d="#note-toolbar-item-field-tooltip input";break}let c=n==null?void 0:n.querySelector(d);c&&(c.focus(),this.scrollToPosition(d,"note-toolbar-setting-item"))}}generateItemPreview(e,t){let i=createDiv();i.className="note-toolbar-setting-item-preview-container";let n=createDiv();n.className="note-toolbar-setting-item-preview",n.setAttribute("role","button"),n.tabIndex=0,i.appendChild(n),this.renderPreview(e,i);let a=createDiv();return a.addClass("note-toolbar-setting-item-controls"),new D.Setting(a).addExtraButton(l=>{l.setIcon("grip-horizontal").setTooltip(s("setting.button-drag-tooltip")).extraSettingsEl.addClass("sortable-handle"),l.extraSettingsEl.setAttribute("data-item-uuid",e.uuid),l.extraSettingsEl.tabIndex=0,this.plugin.registerDomEvent(l.extraSettingsEl,"keydown",p=>{this.listMoveHandlerById(p,this.toolbar.items,e.uuid)})}),i.append(a),this.plugin.registerDomEvent(n,"keydown",l=>{switch(l.key){case"d":if(D.Platform.isWin||D.Platform.isLinux?l==null?void 0:l.ctrlKey:l==null?void 0:l.metaKey){let u=this.plugin.settingsManager.duplicateToolbarItem(this.toolbar,e,!0);this.plugin.settingsManager.save(),this.display(`.note-toolbar-sortablejs-list > div[data-item-uuid="${u}"] > .note-toolbar-setting-item-preview-container > .note-toolbar-setting-item-preview`)}break;case"Enter":case" ":l.preventDefault(),this.toggleItemView(i,"form")}}),this.plugin.registerDomEvent(n,"click",l=>{let p=l.target,u=l.currentTarget,d="label";u.querySelector(".note-toolbar-setting-tbar-preview")?d="link":p instanceof SVGElement||p!=null&&p.closest("svg")||p.querySelector(":scope > svg")?d="icon":p instanceof HTMLSpanElement&&p.classList.contains("note-toolbar-setting-item-preview-tooltip")&&(d="tooltip"),this.toggleItemView(i,"form",d)}),i}displayPositionSetting(e){var l,p,u,d,c,g,m,h;new D.Setting(e).setName(s("setting.position.name")).setDesc(F(s("setting.position.description"),"Positioning-toolbars")).setHeading();let t=(u=(p=(l=this.toolbar.position.desktop)==null?void 0:l.allViews)==null?void 0:p.position)!=null?u:"props",i=(g=(c=(d=this.toolbar.position.mobile)==null?void 0:d.allViews)==null?void 0:c.position)!=null?g:"props";this.hasMobileFabPosition=["fabl","fabr"].contains(i),this.hasDesktopFabPosition=["fabl","fabr"].contains(t),new D.Setting(e).setName(s("setting.option-platform-desktop")).addDropdown(b=>b.addOptions(Xo.desktop.reduce((f,v)=>({...f,...v}),{})).setValue(t).onChange(async f=>{this.toolbar.position.desktop={allViews:{position:f}},this.toolbar.updated=new Date().toISOString(),this.hasDesktopFabPosition=["fabl","fabr"].contains(f);let v=this.containerEl.querySelector("#note-toolbar-default-item");this.hasMobileFabPosition||v==null||v.setAttribute("data-active",this.hasDesktopFabPosition.toString()),await this.plugin.settingsManager.save(),this.display()})),new D.Setting(e).setName(s("setting.option-platform-mobile")).setDesc(((h=(m=this.toolbar.position.mobile)==null?void 0:m.allViews)==null?void 0:h.position)==="hidden"?F(s("setting.position.option-mobile-help"),"Navigation-bar"):"").addDropdown(b=>b.addOptions(Xo.mobile.reduce((f,v)=>({...f,...v}),{})).setValue(i).onChange(async f=>{this.toolbar.position.mobile={allViews:{position:f}},this.toolbar.position.tablet={allViews:{position:f}},this.toolbar.updated=new Date().toISOString(),this.hasMobileFabPosition=["fabl","fabr"].contains(f);let v=this.containerEl.querySelector("#note-toolbar-default-item");this.hasDesktopFabPosition||v==null||v.setAttribute("data-active",this.hasMobileFabPosition.toString()),await this.plugin.settingsManager.save(),this.display()}));let n=this.plugin.settingsManager.getToolbarItemById(this.toolbar.defaultItem),a=new D.Setting(e).setName(s("setting.position.option-defaultitem")).setDesc(s("setting.position.option-defaultitem-description")).setClass("note-toolbar-setting-item-full-width-phone").addSearch(b=>{new Eo(this.app,this.plugin,this.toolbar,b.inputEl,async f=>{ft(b.inputEl),b.inputEl.value=f.label||f.tooltip,this.toolbar.defaultItem=f.uuid,await this.plugin.settingsManager.save()}),b.setPlaceholder(s("setting.position.option-defaultitem-placeholder")).setValue(n?n.label||n.tooltip:"").onChange((0,D.debounce)(async f=>{f?(b.inputEl.value=f,Ut(this,b.inputEl,s("setting.position.option-defaultitem-error-invalid"))):(ft(b.inputEl),this.toolbar.defaultItem=null,await this.plugin.settingsManager.save())},250))});a.settingEl.id="note-toolbar-default-item",a.settingEl.setAttribute("data-active",this.hasMobileFabPosition||this.hasDesktopFabPosition?"true":"false"),this.toolbar.defaultItem&&!n&&(this.toolbar.defaultItem=null)}displayCommandButton(e){new D.Setting(e).setName(s("setting.open-command.name")).setHeading().setDesc(F(s("setting.open-command.description"),"Quick-Tools")).addToggle(t=>{t.setValue(this.toolbar.hasCommand).onChange(async i=>{this.toolbar.hasCommand=i,await this.plugin.settingsManager.save(),i?(this.plugin.addCommand({id:je+this.toolbar.uuid,name:s("command.name-open-toolbar",{toolbar:this.toolbar.name}),icon:this.plugin.settings.icon,callback:async()=>{this.plugin.commands.openItemSuggester(this.toolbar.uuid)}}),new D.Notice(s("setting.open-command.notice-command-added",{command:s("command.name-open-toolbar",{toolbar:this.toolbar.name})}))):(this.plugin.removeCommand(je+this.toolbar.uuid),new D.Notice(s("setting.open-command.notice-command-removed",{command:s("command.name-open-toolbar",{toolbar:this.toolbar.name})})))})})}displayUsageSetting(e){let t=document.createDocumentFragment(),i=t.createEl("a",{href:"#",text:s("setting.usage.description-search")}),[n,a]=this.getToolbarSettingsUsage(this.toolbar.uuid);t.append(s("setting.usage.description",{mappingCount:n,itemCount:a}),t.createEl("br"),i),this.plugin.registerDomEvent(i,"click",p=>{this.close(),this.app.setting.close(),window.open(this.getToolbarPropSearchUri(this.toolbar.name))});let l=new D.Setting(e).setName(s("setting.usage.name")).setDesc(t).setHeading()}displayDeleteButton(e){new D.Setting(e).setName(s("setting.delete-toolbar.name")).setHeading().setDesc(s("setting.delete-toolbar.description")).setClass("note-toolbar-setting-top-spacing").setClass("note-toolbar-setting-bottom-spacing").addButton(t=>{t.setClass("mod-warning").setTooltip(s("setting.delete-toolbar.button-delete-tooltip")).setButtonText(s("setting.delete-toolbar.button-delete")).setCta().onClick(()=>{eo(this.plugin.app,{title:s("setting.delete-toolbar.title",{toolbar:this.toolbar.name}),questionLabel:s("setting.delete-toolbar.label-delete-confirm"),approveLabel:s("setting.delete-toolbar.button-delete-confirm"),denyLabel:s("setting.button-cancel"),warning:!0}).then(i=>{i&&(this.plugin.settingsManager.deleteToolbar(this.toolbar.uuid),this.plugin.settingsManager.save().then(()=>{this.close()}))})})})}async addItemHandler(e,t){this.toolbar.items.length===0&&e.empty();let i={uuid:ae(),label:"",icon:"",link:"",linkAttr:{commandId:"",hasVars:!1,type:t},tooltip:"",visibility:{...Jt}};this.toolbar.items.push(i),this.toolbar.updated=new Date().toISOString(),await this.plugin.settingsManager.save();let n=createDiv();n.setAttribute("data-item-uuid",i.uuid),n.addClass("note-toolbar-setting-items-container-row");let a=this.generateItemPreview(i,this.itemListIdCounter.toString());a.setAttribute("data-active","false"),n.appendChild(a);let l=this.toolbarItemUi.generateItemForm(i);l.setAttribute("data-active","true"),n.appendChild(l),this.itemListIdCounter++,e.appendChild(n);let p=l==null?void 0:l.querySelector(".note-toolbar-setting-item-icon .setting-item-control .clickable-icon");p&&(p.focus(),this.scrollToPosition(".note-toolbar-setting-item-icon .setting-item-control .clickable-icon","note-toolbar-setting-item"))}async listMoveHandler(e,t,i,n){let a=D.Platform.isWin||D.Platform.isLinux?e==null?void 0:e.ctrlKey:e==null?void 0:e.metaKey;if(e)switch(e.key){case"ArrowUp":if(!a)return;e.preventDefault(),n="up";break;case"ArrowDown":if(!a)return;e.preventDefault(),n="down";break;case"Delete":case"Backspace":e.preventDefault(),n="delete";break;case"Enter":case" ":e.preventDefault();break;default:return}switch(n){case"up":xe(t,i,i-1),this.toolbar.updated=new Date().toISOString();break;case"down":xe(t,i,i+1),this.toolbar.updated=new Date().toISOString();break;case"delete":t.splice(i,1),this.toolbar.updated=new Date().toISOString();break}await this.plugin.settingsManager.save(),this.display()}async listMoveHandlerById(e,t,i,n){let a=this.getIndexByUuid(i);w("listMoveHandlerById: moving index:",a),await this.listMoveHandler(e,t,a,n)}rememberLastPosition(e){e.scrollTo({top:this.lastScrollPosition,behavior:"auto"}),this.plugin.registerDomEvent(e,"scroll",t=>{this.lastScrollPosition=e.scrollTop})}scrollToPosition(e,t){let i=this.contentEl.querySelector(e);i==null||i.focus(),setTimeout(()=>{let n=t?i.closest(t):void 0;n==null||n.scrollIntoView(!0)},D.Platform.isMobile?100:0)}getToolbarPropSearchUri(e){let t="obsidian://search?vault="+this.app.vault.getName()+"&query=["+this.plugin.settings.toolbarProp+": "+e+"]";return encodeURI(t)}getToolbarSettingsUsage(e){let t=this.plugin.settings.folderMappings.filter(n=>n.toolbar===e).length,i=this.plugin.settings.toolbars.reduce((n,a)=>n+a.items.filter(l=>l.link===e&&l.linkAttr.type==="menu").length,0);return[t,i]}renderPreview(e,t){t=t||this.getItemRowEl(e.uuid);let i=t.querySelector(".note-toolbar-setting-item-preview");i==null||i.empty();let n=createSpan();switch(i.setAttribute("data-item-type",e.linkAttr.type),e.linkAttr.type){case"break":(0,D.setTooltip)(i,s("setting.items.option-edit-item-type-tooltip",{itemType:e.linkAttr.type})),n.setText(s("setting.item.option-break")),i.append(n);break;case"separator":(0,D.setTooltip)(i,s("setting.items.option-edit-item-type-tooltip",{itemType:e.linkAttr.type})),n.setText(s("setting.item.option-separator")),i.append(n);break;case"group":let a=this.plugin.settingsManager.getToolbarById(e.link);(0,D.setTooltip)(i,s("setting.items.option-edit-item-group-tooltip",{toolbar:a?a.name:"",context:a?"":"none"})),n.appendChild(a?Se(this.plugin,a):Te(s("setting.item.option-item-group-error-invalid")));break;default:(0,D.setTooltip)(i,s("setting.items.option-edit-item-tooltip"));let l=createSpan();l.addClass("note-toolbar-setting-item-preview-icon"),e.icon&&(0,D.setIcon)(l,e.icon),i.appendChild(l),n.addClass("note-toolbar-setting-item-preview-label"),e.label?(n.setText(e.label),this.plugin.hasVars(e.label)&&n.addClass("note-toolbar-setting-item-preview-code")):e.tooltip?(n.setText(e.tooltip),n.addClass("note-toolbar-setting-item-preview-tooltip"),this.plugin.hasVars(e.tooltip)&&n.addClass("note-toolbar-setting-item-preview-code")):(n.setText(s("setting.items.option-item-empty-label")),n.addClass("note-toolbar-setting-item-preview-empty"));break}if(D.Platform.isMobile){if(!["break","separator"].includes(e.linkAttr.type)){let a=createDiv();a.addClass("note-toolbar-setting-item-preview-edit-mobile");let l=createSpan();l.addClass("note-toolbar-setting-icon-button-cta"),(0,D.setIcon)(l,"lucide-pencil"),a.appendChild(n),a.appendChild(l),i.appendChild(a)}}else i.appendChild(n);this.toolbarItemUi.updateItemComponentStatus(e.linkAttr.type==="command"?e.linkAttr.commandId:e.link,Pi[e.linkAttr.type],i,e)}getIndexByUuid(e){let t=this.getItemListEls();return Array.prototype.findIndex.call(t,i=>i.getAttribute("data-item-uuid")===e)}getItemListEls(){return this.contentEl.querySelectorAll(".note-toolbar-sortablejs-list > div[data-item-uuid]")}getItemRowEl(e){return this.contentEl.querySelector('.note-toolbar-sortablejs-list > div[data-item-uuid="'+e+'"]')}};function Se(r,o,e,t=!1){let i=document.createDocumentFragment(),n=i.createDiv();n.addClass("note-toolbar-setting-tbar-preview");let a=document.createDocumentFragment();if(o.items.length>0?o.items.filter(l=>!(l.label===""&&l.icon===""&&!["break","group","separator"].includes(l.linkAttr.type))).map(l=>{switch(l.linkAttr.type){case"break":case"separator":break;case"group":if(e){let u=e.getToolbarById(l.link);if(u){let d=createDiv();d.addClass("note-toolbar-setting-toolbar-list-preview-item");let c=createSpan();c.addClass("note-toolbar-setting-group-preview"),c.setText(u.name),d.append(c),a.append(d)}}break;default:let p=(0,B.getIcon)(l.icon);if(p||l.label){let u=createDiv();if(u.addClass("note-toolbar-setting-toolbar-list-preview-item"),l.icon&&p){let d=createSpan();(0,B.setIcon)(d,l.icon),a.append(d),u.append(d)}if(l.label){let d=createSpan();d.textContent=l.label,l.label&&r.hasVars(l.label)&&d.addClass("note-toolbar-setting-item-preview-code"),a.append(d),u.append(d)}a.append(u)}break}}):a=Te(s("setting.item.label-preview-empty-no-items")),n.appendChild(a),t){let l=createDiv();l.addClass("note-toolbar-setting-tbar-preview-edit");let p=createEl("a");p.href="obsidian://note-toolbar?toolbarsettings="+encodeURIComponent(o.name),p.setText(s("setting.item.label-preview-edit",{toolbar:o.name})),l.appendChild(p),i.appendChild(l)}return i}function ko(r,o,e=!1,t){if(B.Platform.isPhone||e){let i=o.createDiv();i.addClass("note-toolbar-setting-help-section");let n=document.createDocumentFragment();n.append("v"+r.manifest.version," \u2022\xA0");let a=n.createEl("a",{href:"#",text:s("setting.button-whats-new")});r.registerDomEvent(a,"click",l=>{r.app.workspace.getLeaf(!0).setViewState({type:we,active:!0}),t()}),n.append(" \u2022\xA0",n.createEl("a",{href:"obsidian://note-toolbar?help",text:le("help-circle",s("setting.button-help"))})),i.append(n)}else{let i=document.createDocumentFragment();i.append(i.createEl("a",{href:Oi,text:"v"+r.manifest.version})),new B.Setting(o).setName(s("plugin.name")+" \u2022 v"+r.manifest.version).setDesc(s("setting.help.description")).addButton(n=>{n.setTooltip(s("setting.button-whats-new-tooltip")).onClick(()=>{r.app.workspace.getLeaf(!0).setViewState({type:we,active:!0}),t()}).buttonEl.setText(s("setting.button-whats-new"))}).addButton(n=>{n.setTooltip(s("setting.button-help-tooltip")).onClick(()=>{new lt(r).open()}).buttonEl.setText(le("help-circle",s("setting.button-help")))})}}function Te(r){let o=document.createDocumentFragment(),e=document.createElement("i");return e.textContent=r,o.append(e),o}function Ei(r,o){let e=document.createDocumentFragment();return o.forEach(t=>{r.find(i=>t in i)&&e.append(e.createEl("br"),"* ",ht(r,t))}),e}function ht(r,o){let e=r.find(t=>o in t);return e?Object.values(e)[0]:""}function le(r,o){let e=document.createDocumentFragment(),t=e.createEl("span");t.addClass("note-toolbar-setting-text-with-icon");let i=t.createEl("span");return(0,B.setIcon)(i,"lucide-"+r),t.createEl("span").setText(o),e.append(t),e}function F(r,o,e=s("setting.button-learn-more")){let t=document.createDocumentFragment();return t.append(r," "),t.createEl("a",{href:Kt+o,text:e}).addClass("note-toolbar-setting-focussable-link"),t}function So(r,o){let e,t=r.includes(":")?r.split(":")[0].trim():void 0;return t&&t!=="workspace"&&(e=document.createDocumentFragment(),e.createEl("a",{href:`obsidian://show-plugin?id=${t}`,text:o||"Review\xA0plugin"}).addClass("note-toolbar-setting-focussable-link")),e}function ft(r){var o;if(r){let e=r.closest(".setting-item-control");(o=e==null?void 0:e.querySelector(".note-toolbar-setting-field-error"))==null||o.remove(),r==null||r.removeClass("note-toolbar-setting-error")}}function Co(r,o,e,t,i=!1){if(!o)return;if(e.addClass("note-toolbar-item-suggestion"),e.setAttribute("id",o.uuid),o.icon&&(0,B.getIcon)(o.icon)){let m=e.createSpan();(0,B.setIcon)(m,o.icon)}let n=e.createSpan(),a=o.label||o.tooltip,l=!1;a||(o.icon?(l=!0,a=o.link):a=""),n.addClass("note-toolbar-item-suggester-name");let p=n.createSpan(),u=a,d=r.app.workspace.getActiveFile();if(r.replaceVars(a,d).then(g=>{p.setText(g)}),i){let g=n.createSpan();switch(g.addClass("note-toolbar-item-suggester-type"),o.linkAttr.type){case"command":(0,B.setTooltip)(g,s("setting.item.option-command"));break;case"file":(0,B.setIcon)(g,"file"),(0,B.setTooltip)(g,s("setting.item.option-file"));break;case"uri":(0,B.setIcon)(g,"globe"),(0,B.setTooltip)(g,s("setting.item.option-uri"));break;case"dataview":case"js-engine":(0,B.setIcon)(g,"scroll"),(0,B.setTooltip)(g,"Script");break;case"templater-obsidian":(0,B.setIcon)(g,"templater-icon"),(0,B.setTooltip)(g,"Templater");break}}let c=t.toLowerCase();if(!u.toLowerCase().includes(c)){let g=o.label.toLowerCase().includes(c)?o.label:o.tooltip.toLowerCase().includes(c)?o.tooltip:o.link,m=p.createDiv();m.addClass("note-toolbar-item-suggester-note"),m.setText(g)}}function Ut(r,o,e,t){if(o){let i=o.closest(".setting-item-control");if(i||(i=o.closest(".note-toolbar-setting-item-preview"),e=""),(i==null?void 0:i.querySelector(".note-toolbar-setting-field-error"))===null){if(e){let n=createEl("div",{text:e,cls:"note-toolbar-setting-field-error"});t&&(r.plugin.registerDomEvent(t,"click",a=>{let l=document.createDocumentFragment().createEl("a",{text:s("setting.item.option-command-error-refresh"),href:"#"}),p=l.createSpan();(0,B.setIcon)(p,"refresh-cw");let u=a.currentTarget;u==null||u.replaceWith(l),r.plugin.registerDomEvent(l,"click",d=>{r.display()})}),n.append(" ",t)),i.insertAdjacentElement("beforeend",n)}o.addClass("note-toolbar-setting-error")}}}function Fe(r,o){if(!o)return;let e=r.querySelector(".note-toolbar-setting-field-help");e==null||e.remove();let t=createDiv();t.addClass("note-toolbar-setting-field-help"),t.append(o),t&&r.insertAdjacentElement("beforeend",t)}function xo(r){r.settings.whatsnew_version!==Ko&&(r.settings.whatsnew_version=Ko,r.settingsManager.save().then(()=>{r.app.workspace.getLeaf(!0).setViewState({type:we,active:!0})}))}function Ci(r,o,e){let t=o.querySelector(".note-toolbar-setting-item-icon .clickable-icon");if(t&&(0,B.setIcon)(t,e===s("setting.icon-suggester.option-no-icon")?"lucide-plus-square":e),t.setAttribute("data-note-toolbar-no-icon",e===s("setting.icon-suggester.option-no-icon")?"true":"false"),r instanceof q){let i=o.querySelector(".note-toolbar-setting-item-preview-icon");i&&e&&(0,B.setIcon)(i,e)}}var Ao=require("obsidian");var Io=class extends Ao.AbstractInputSuggest{constructor(e,t){super(e,t);this.PATTERN_ALL_FILES={pattern:"*",label:"*",desc:s("setting.mappings.option-folder-all")};this.PATTERN_ROOT_ONLY={pattern:"/",label:"/",desc:s("setting.mappings.option-folder-root")};this.inputEl=t}getSuggestions(e){let t=this.app.vault.getAllLoadedFiles(),i=[],n=e.toLowerCase();return i.push(this.PATTERN_ALL_FILES.pattern),t.forEach(a=>{a instanceof Ao.TFolder&&a.path.toLowerCase().includes(n)&&i.push(a.path)}),i}renderSuggestion(e,t){e===this.PATTERN_ALL_FILES.pattern?this.renderPattern(t,this.PATTERN_ALL_FILES):e===this.PATTERN_ROOT_ONLY.pattern?this.renderPattern(t,this.PATTERN_ROOT_ONLY):t.setText(e)}selectSuggestion(e){this.inputEl.value=e,this.inputEl.trigger("input"),this.inputEl.blur(),this.close()}renderPattern(e,t){e.addClass("note-toolbar-setting-folder-suggestion-item-muted"),e.createSpan().setText(t.label),e.createSpan().setText(t.desc)}};var tt=require("obsidian");var wt=class extends tt.Modal{constructor(e,t,i){super(e.app);this.useObsidianUri=!1;this.plugin=e,this.shareUri=t,this.toolbar=i,this.modalEl.addClass("note-toolbar-share-dialog","note-toolbar-setting-dialog-phonefix")}onOpen(){this.setTitle(s("export.title-share",{toolbar:this.toolbar.name})),this.display()}display(){this.contentEl.empty(),this.contentEl.createEl("p",{text:F(s("export.label-share-description"),"Sharing-toolbars")});let e=new tt.Setting(this.contentEl).setName(this.shareUri).addButton(n=>{n.setButtonText(s("export.button-copy-link")).setTooltip(s("export.button-copy-link-description")).setCta().onClick(()=>{navigator.clipboard.writeText(this.shareUri),new tt.Notice(s("export.notice-shared")),this.close()})});new tt.Setting(this.contentEl).setName(s("export.option-uri")).setDesc(s("export.option-uri-description")).addToggle(n=>{n.setValue(this.useObsidianUri).onChange(async a=>{this.useObsidianUri=a,this.shareUri=await this.plugin.protocolManager.getShareUri(this.toolbar,this.useObsidianUri),this.display()})});let t=this.shareUri.length>2048,i=qi(this.toolbar);if(t||i){let n=this.contentEl.createDiv();n.addClass("note-toolbar-setting-field-help");let a=n.createEl("ul");t&&a.createEl("li",{text:s("export.warning-share-length")}),i&&a.createEl("li",{text:s("export.warning-share-menu")})}}};var Mo=class extends x.PluginSettingTab{constructor(e,t){super(e,t);this.itemListIdCounter=0;this.calloutSettingsOpen=!1;this.itemListOpen=!0;this.mappingListOpen=!0;this.app=e,this.plugin=t}display(e,t=!1){let{containerEl:i}=this;if(i.empty(),this.plugin.settings.version!==Oe&&new x.Setting(i).setName(s("setting.error-old-settings-name")).setDesc(s("setting.error-old-settings-description",{oldVersion:this.plugin.settings.version+"",currentVersion:Oe+""})).setClass("note-toolbar-setting-plugin-error").setHeading(),ko(this.plugin,i,void 0,()=>{this.plugin.app.setting.close()}),this.displayToolbarList(i),new x.Setting(i).setName(s("setting.display-rules.name")).setDesc(F(s("setting.display-rules.description"),"Defining-where-to-show-toolbars")).setHeading(),this.displayPropertySetting(i),this.displayFolderMap(i),this.displayEmptyViewSetting(i),this.displayCopyAsCalloutSettings(i),this.displayOtherSettings(i),!e&&this.plugin.settings.toolbars.length>4&&(e="#ntb-tbar-search-button"),e){let n=this.containerEl.querySelector(e);n==null||n.focus(),t&&setTimeout(()=>{n==null||n.scrollIntoView(!0)},x.Platform.isMobile?100:0)}this.rememberLastPosition(this.containerEl),xo(this.plugin)}displayToolbarList(e){let t=createDiv();t.addClass("note-toolbar-setting-items-list-container");let i=createDiv();i.addClass("note-toolbar-setting-items-container"),i.setAttribute("data-active",this.itemListOpen.toString());let n=new x.Setting(i).setName(s("setting.toolbars.name")).setDesc(s("setting.toolbars.description")).setHeading();if(this.plugin.settings.toolbars.length>4){let a=n.addExtraButton(l=>{l.setIcon("search").setTooltip(s("setting.search.button-tooltip")).onClick(async()=>{this.toggleSearch(e),this.itemListOpen||this.toggleToolbarList(e)}).extraSettingsEl.tabIndex=0,this.plugin.registerDomEvent(l.extraSettingsEl,"keydown",p=>{switch(p.key){case"Enter":case" ":p.preventDefault(),l.extraSettingsEl.click()}}),l.extraSettingsEl.id="ntb-tbar-search-button"})}if(n.addExtraButton(a=>{a.setIcon("import").setTooltip(s("import.button-import-tooltip")).onClick(async()=>{yo(this.plugin).then(async l=>{l&&(await this.plugin.settingsManager.addToolbar(l),await this.plugin.settingsManager.save(),await this.plugin.commands.openToolbarSettingsForId(l.uuid),this.display())})}).extraSettingsEl.tabIndex=0,this.plugin.registerDomEvent(a.extraSettingsEl,"keydown",l=>{switch(l.key){case"Enter":case" ":l.preventDefault(),a.extraSettingsEl.click()}})}),this.plugin.settings.toolbars.length>4){let a=new x.Setting(i);a.setClass("note-toolbar-setting-no-border").addSearch(p=>{p.setPlaceholder(s("setting.search.field-placeholder")).onChange(u=>{let d=u.toLowerCase(),c=!1;this.containerEl.querySelectorAll(".note-toolbar-setting-toolbar-list .setting-item").forEach(g=>{var b,f,v;let h=((v=(f=(b=g.querySelector(".setting-item-name"))==null?void 0:b.textContent)==null?void 0:f.toLowerCase())!=null?v:"").includes(d);g.style.display=h?"":"none",h&&!c?(g.classList.add("note-toolbar-setting-no-border"),c=!0):g.classList.remove("note-toolbar-setting-no-border")})})}),a.settingEl.id="tbar-search",a.settingEl.setAttribute("data-active","false");let l=a.settingEl.querySelector("input");l&&this.plugin.registerDomEvent(l,"blur",p=>{var d;let u=((d=p.relatedTarget)==null?void 0:d.id)==="ntb-tbar-search-button";if(!l.value&&!u){let c=e.querySelector("#tbar-search");c==null||c.setAttribute("data-active","false")}})}if(this.plugin.settings.toolbars.length>4&&n.addExtraButton(a=>{a.setIcon("right-triangle").setTooltip(s("setting.button-collapse-tooltip")).onClick(async()=>{this.toggleToolbarList(e,a)}).extraSettingsEl.tabIndex=0,a.extraSettingsEl.addClass("note-toolbar-setting-item-expand"),this.plugin.registerDomEvent(a.extraSettingsEl,"keydown",l=>{switch(l.key){case"Enter":case" ":l.preventDefault(),a.extraSettingsEl.click()}})}),this.plugin.settings.toolbars.length==0)t.createEl("div",{text:Te(s("setting.toolbars.label-empty-create-tbar"))}).className="note-toolbar-setting-empty-message";else{let a=createDiv();a.addClass("note-toolbar-setting-toolbar-list"),this.plugin.settings.toolbars.forEach(l=>{let p=new x.Setting(a).setName(l.name?l.name:s("setting.toolbars.label-tbar-name-not-set")).setDesc(Se(this.plugin,l,this.plugin.settingsManager)).addButton(u=>{u.setIcon("more-horizontal").setTooltip(s("setting.toolbars.button-more-tooltip")).onClick(()=>{let d=new x.Menu;d.addItem(c=>{c.setTitle(s("setting.toolbars.button-duplicate-tbar-tooltip")).setIcon("copy-plus").onClick(async()=>{this.plugin.settingsManager.duplicateToolbar(l).then(g=>{this.display(`.note-toolbar-setting-toolbar-list > div[data-tbar-uuid="${g}"] > .setting-item-control > .mod-cta`)})})}),d.addSeparator(),d.addItem(c=>{c.setTitle(s("export.label-share")).setIcon("share").onClick(async()=>{let g=await this.plugin.protocolManager.getShareUri(l);new wt(this.plugin,g,l).open()})}),d.addItem(c=>{c.setTitle(s("export.label-callout")).setIcon("copy").onClick(async()=>{let g=await He(this.plugin,l,this.plugin.settings.export);navigator.clipboard.writeText(g),new x.Notice(F(s("export.notice-completed"),"Creating-callouts-from-toolbars"))})}),d.addSeparator(),d.addItem(c=>{c.setTitle(s("setting.delete-toolbar.button-delete")).setIcon("minus-circle").onClick(async()=>{eo(this.plugin.app,{title:s("setting.delete-toolbar.title",{toolbar:l.name}),questionLabel:s("setting.delete-toolbar.label-delete-confirm"),approveLabel:s("setting.delete-toolbar.button-delete-confirm"),denyLabel:s("setting.button-cancel"),warning:!0}).then(g=>{g&&(this.plugin.settingsManager.deleteToolbar(l.uuid),this.plugin.settingsManager.save(),this.display())})}).setWarning(!0)}),d.showAtPosition(It(u.buttonEl))}),u.buttonEl.addClass("ntb-tbar-more")}).addButton(u=>{u.setTooltip(s("setting.toolbars.button-edit-tbar-tooltip")).setButtonText(s("setting.toolbars.button-edit-tbar")).onClick(()=>{this.plugin.settingsManager.openToolbarSettings(l,this)}),u.buttonEl.addClass("ntb-tbar-edit")});p.settingEl.setAttribute("data-tbar-uuid",l.uuid),l.name||p.nameEl.addClass("mod-warning"),this.plugin.registerDomEvent(p.settingEl,"keydown",u=>{switch(u.key){case"d":(x.Platform.isWin||x.Platform.isLinux?u==null?void 0:u.ctrlKey:u==null?void 0:u.metaKey)&&this.plugin.settingsManager.duplicateToolbar(l).then(c=>{this.display(`.note-toolbar-setting-toolbar-list > div[data-tbar-uuid="${c}"] > .setting-item-control > .mod-cta`)})}})}),this.plugin.registerDomEvent(a,"keydown",l=>{if(!["ArrowUp","ArrowDown"].contains(l.key))return;let p=activeDocument.activeElement;if(p){let u=`.setting-item-control > button.${p.className}`,d=Array.from(a.querySelectorAll(u)).filter(g=>getComputedStyle(g.closest(".setting-item")).display!=="none"),c=d.indexOf(p);switch(l.key){case"ArrowUp":c>0&&(d[c-1].focus(),l.preventDefault());break;case"ArrowDown":c<d.length-1&&(d[c+1].focus(),l.preventDefault());break}}}),t.appendChild(a)}new x.Setting(t).setClass("note-toolbar-setting-button").addButton(a=>{a.setTooltip(s("setting.toolbars.button-new-tbar-tooltip")).setButtonText(s("setting.toolbars.button-new-tbar")).setCta().onClick(async()=>{let l=await this.plugin.settingsManager.newToolbar();this.plugin.settingsManager.openToolbarSettings(l,this)})}),i.appendChild(t),e.append(i)}toggleSearch(e,t){let i=e.querySelector("#tbar-search");if(i)if((t!==void 0?(!t).toString():i.getAttribute("data-active"))==="true"){i.setAttribute("data-active","false");let a=i.querySelector("input");a&&(a.value="",a.trigger("input"),a.blur())}else{i.setAttribute("data-active","true");let a=i==null?void 0:i.querySelector("input");setTimeout(()=>{a==null||a.focus()},50)}}toggleToolbarList(e,t){let i=e.querySelector(".note-toolbar-setting-items-container");if(i){this.itemListOpen=!this.itemListOpen,i.setAttribute("data-active",this.itemListOpen.toString()),this.itemListOpen||this.toggleSearch(e,!1);let n=i.querySelector(".setting-item-info .setting-item-name");this.itemListOpen?n==null||n.setText(s("setting.toolbars.name")):n==null||n.setText(s("setting.toolbars.name-with-count",{count:this.plugin.settings.toolbars.length})),t==null||t.setTooltip(this.itemListOpen?s("setting.button-collapse-tooltip"):s("setting.button-expand-tooltip"))}}displayEmptyViewSetting(e){let t=!!this.plugin.settings.emptyViewToolbar;new x.Setting(e).setName(s("setting.display-rules.toggle-emptyview")).setDesc(s("setting.display-rules.toggle-emptyview-description")).addToggle(n=>{n.setValue(t).onChange(async a=>{a||(this.plugin.settings.emptyViewToolbar=null),await this.plugin.settingsManager.save();let l=e.querySelector("#empty-view-tbar");l&&l.setAttribute("data-active",a.toString())})});let i=new x.Setting(e).setName(s("setting.display-rules.option-emptyview")).setDesc(s("setting.display-rules.option-emptyview-description")).addSearch(n=>{new qe(this.app,this.plugin,n.inputEl),n.setPlaceholder(s("setting.mappings.placeholder-toolbar")).setValue(this.plugin.settings.emptyViewToolbar?this.plugin.settingsManager.getToolbarName(this.plugin.settings.emptyViewToolbar):"").onChange((0,x.debounce)(async a=>{let l=this.plugin.settingsManager.getToolbarByName(a);l&&(this.plugin.settings.emptyViewToolbar=l.uuid,await this.plugin.settingsManager.save())},250))});i.settingEl.id="empty-view-tbar",i.settingEl.setAttribute("data-active",t.toString())}displayPropertySetting(e){new x.Setting(e).setName(s("setting.display-rules.option-property")).setDesc(s("setting.display-rules.option-property-description")).addText(t=>t.setPlaceholder(s("setting.display-rules.option-property-placeholder")).setValue(this.plugin.settings.toolbarProp).onChange((0,x.debounce)(async i=>{this.plugin.settings.toolbarProp=i,await this.plugin.settingsManager.save()},750)))}displayFolderMap(e){let t=createDiv();t.addClasses(["note-toolbar-setting-mappings-container","note-toolbar-setting-top-border"]),t.setAttribute("data-active",this.mappingListOpen.toString());let i=new x.Setting(t).setName(s("setting.mappings.name")).setDesc(s("setting.mappings.description"));this.plugin.settings.folderMappings.length>4&&i.addExtraButton(a=>{a.setIcon("right-triangle").setTooltip(s("setting.button-collapse-tooltip")).onClick(async()=>{let l=e.querySelector(".note-toolbar-setting-mappings-container");if(l){this.mappingListOpen=!this.mappingListOpen,l.setAttribute("data-active",this.mappingListOpen.toString());let p=l.querySelector(".setting-item-info .setting-item-name");this.mappingListOpen?p==null||p.setText(s("setting.mappings.name")):p==null||p.setText(s("setting.mappings.name-with-count",{count:this.plugin.settings.folderMappings.length})),a.setTooltip(this.mappingListOpen?s("setting.button-collapse-tooltip"):s("setting.button-expand-tooltip"))}}).extraSettingsEl.tabIndex=0,a.extraSettingsEl.addClass("note-toolbar-setting-item-expand"),this.plugin.registerDomEvent(a.extraSettingsEl,"keydown",l=>{switch(l.key){case"Enter":case" ":l.preventDefault(),a.extraSettingsEl.click()}})});let n=createDiv();if(n.addClass("note-toolbar-setting-items-list-container"),this.plugin.settings.folderMappings.length==0)t.createEl("div",{text:Te(s("setting.mappings.label-empty"))}).className="note-toolbar-setting-empty-message";else{let a=createDiv();a.addClass("note-toolbar-sortablejs-list"),this.plugin.settings.folderMappings.forEach((p,u)=>{let d=this.itemListIdCounter.toString(),c=this.generateMappingForm(p,d);a.append(c),this.itemListIdCounter++});let l=fo.create(a,{chosenClass:"sortable-chosen",ghostClass:"sortable-ghost",handle:".sortable-handle",onChange:p=>navigator.vibrate(50),onChoose:p=>navigator.vibrate(50),onSort:async p=>{w("sortable: index: ",p.oldIndex," -> ",p.newIndex),p.oldIndex!==void 0&&p.newIndex!==void 0&&(Qt(this.plugin.settings.folderMappings,p.oldIndex,p.newIndex),await this.plugin.settingsManager.save())}});n.appendChild(a)}new x.Setting(n).setClass("note-toolbar-setting-button").addButton(a=>{a.setButtonText(s("setting.mappings.button-new")).setTooltip(s("setting.mappings.button-new-tooltip")).setCta().onClick(async()=>{let l={folder:"",toolbar:""};this.plugin.settings.folderMappings.push(l),await this.plugin.settingsManager.save(),this.display('.note-toolbar-sortablejs-list > div:last-child input[type="search"]',!0)})}),t.appendChild(n),e.append(t)}generateMappingForm(e,t){let i=createDiv();i.className="note-toolbar-setting-folder-list-item-container",i.setAttribute("data-row-id",t);let n=createDiv();n.id="note-toolbar-setting-item-field-"+this.itemListIdCounter,n.className="note-toolbar-setting-item-fields",new x.Setting(i).setClass("note-toolbar-setting-item-delete").addButton(l=>{l.setIcon("minus-circle").setTooltip(s("setting.button-delete-tooltip")).onClick(async()=>{let p=l.buttonEl.getAttribute("data-row-id");p&&this.listMoveHandlerById(null,p,"delete")}),l.buttonEl.setAttribute("data-row-id",t)}),new x.Setting(n).setClass("note-toolbar-setting-mapping-field").addSearch(l=>{new Io(this.app,l.inputEl),l.setPlaceholder(s("setting.mappings.placeholder-folder")).setValue(e.folder).onChange((0,x.debounce)(async p=>{var u;if(p&&this.plugin.settings.folderMappings.some((d,c)=>e!=d?d.folder.toLowerCase()===p.toLowerCase():void 0)){if(document.getElementById("note-toolbar-name-error")===null){let d=createEl("div",{text:s("setting.mappings.error-folder-already-mapped"),attr:{id:"note-toolbar-name-error"},cls:"note-toolbar-setting-error-message"});i.insertAdjacentElement("afterend",d),i.children[0].addClass("note-toolbar-setting-error")}}else(u=document.getElementById("note-toolbar-name-error"))==null||u.remove(),i.children[0].removeClass("note-toolbar-setting-error"),e.folder=p?(0,x.normalizePath)(p):"",await this.plugin.settingsManager.save()},250))}),new x.Setting(n).setClass("note-toolbar-setting-mapping-field").addSearch(l=>{new qe(this.app,this.plugin,l.inputEl),l.setPlaceholder(s("setting.mappings.placeholder-toolbar")).setValue(this.plugin.settingsManager.getToolbarName(e.toolbar)).onChange((0,x.debounce)(async p=>{let u=this.plugin.settingsManager.getToolbarByName(p);u&&(e.toolbar=u.uuid,await this.plugin.settingsManager.save())},250))});let a=createDiv();return a.addClass("note-toolbar-setting-item-controls"),new x.Setting(a).addExtraButton(l=>{l.setIcon("grip-horizontal").setTooltip(s("setting.button-drag-tooltip")).extraSettingsEl.addClass("sortable-handle"),l.extraSettingsEl.setAttribute("data-row-id",this.itemListIdCounter.toString()),l.extraSettingsEl.tabIndex=0,this.plugin.registerDomEvent(l.extraSettingsEl,"keydown",p=>{let d=p.target.getAttribute("data-row-id");d&&this.listMoveHandlerById(p,d)})}),i.append(n),i.append(a),i}displayCopyAsCalloutSettings(e){let t=createDiv();t.addClass("note-toolbar-setting-callout-container"),t.setAttribute("data-active",this.calloutSettingsOpen.toString()),new x.Setting(t).setName(s("setting.copy-as-callout.title")).setDesc(F(s("setting.copy-as-callout.description"),"Creating-callouts-from-toolbars")).setHeading().addExtraButton(a=>{a.setIcon("right-triangle").setTooltip(s("setting.button-collapse-tooltip")).onClick(async()=>{let l=e.querySelector(".note-toolbar-setting-callout-container");l&&(this.calloutSettingsOpen=!this.calloutSettingsOpen,l.setAttribute("data-active",this.calloutSettingsOpen.toString()),a.setTooltip(this.calloutSettingsOpen?s("setting.button-collapse-tooltip"):s("setting.button-expand-tooltip")))}).extraSettingsEl.tabIndex=0,a.extraSettingsEl.addClass("note-toolbar-setting-item-expand"),this.plugin.registerDomEvent(a.extraSettingsEl,"keydown",l=>{switch(l.key){case"Enter":case" ":l.preventDefault(),a.extraSettingsEl.click()}})});let n=createDiv();n.addClass("note-toolbar-setting-items-list-container"),new x.Setting(n).setName(s("setting.copy-as-callout.option-icons")).setDesc(s("setting.copy-as-callout.option-icons-description")).addToggle(a=>{a.setValue(this.plugin.settings.export.includeIcons).onChange(async l=>{this.plugin.settings.export.includeIcons=l,await this.plugin.settingsManager.save()})}),new x.Setting(n).setName(s("setting.copy-as-callout.option-vars")).setDesc(s("setting.copy-as-callout.option-vars-description",{interpolation:{skipOnVariables:!0}})).addToggle(a=>{a.setValue(this.plugin.settings.export.replaceVars).onChange(async l=>{this.plugin.settings.export.replaceVars=l,await this.plugin.settingsManager.save()})}),new x.Setting(n).setName(s("setting.copy-as-callout.option-ids")).setDesc(s("setting.copy-as-callout.option-ids-description")).addToggle(a=>{a.setValue(this.plugin.settings.export.useIds).onChange(async l=>{this.plugin.settings.export.useIds=l,await this.plugin.settingsManager.save()})}),new x.Setting(n).setName(s("setting.copy-as-callout.option-data")).setDesc(s("setting.copy-as-callout.option-data-description")).addToggle(a=>{a.setValue(this.plugin.settings.export.useDataEls).onChange(async l=>{this.plugin.settings.export.useDataEls=l,await this.plugin.settingsManager.save()})}),t.appendChild(n),e.appendChild(t)}displayOtherSettings(e){new x.Setting(e).setName(s("setting.other.name")).setHeading(),new x.Setting(e).setName(s("setting.other.icon.name")).setDesc(s("setting.other.icon.description")).addButton(t=>{t.setIcon(this.plugin.settings.icon).setTooltip(s("setting.other.icon.tooltip")).onClick(async i=>{i.preventDefault(),new Ue(this.plugin,a=>this.updateNoteToolbarIcon(t.buttonEl,a)).open()}),t.buttonEl.setAttribute("data-note-toolbar-no-icon",this.plugin.settings.icon?"false":"true"),t.buttonEl.setAttribute("tabindex","0"),this.plugin.registerDomEvent(t.buttonEl,"keydown",i=>{switch(i.key){case"Enter":case" ":i.preventDefault(),new Ue(this.plugin,a=>this.updateNoteToolbarIcon(t.buttonEl,a)).open()}})}),new x.Setting(e).setName(s("setting.other.scripting.name")).setDesc(F(s("setting.other.scripting.description"),"Executing-scripts")).addToggle(t=>{t.setValue(this.plugin.settings.scriptingEnabled).onChange(async i=>{this.plugin.settings.scriptingEnabled=i,this.plugin.updateAdapters(),await this.plugin.settingsManager.save()})}),new x.Setting(e).setName(s("setting.other.show-edit-tbar.name")).setDesc(s("setting.other.show-edit-tbar.description")).addToggle(t=>{t.setValue(this.plugin.settings.showEditInFabMenu),t.onChange(async i=>{this.plugin.settings.showEditInFabMenu=i,await this.plugin.settingsManager.save()})}),new x.Setting(e).setName(s("setting.other.show-toolbar-in-file-menu.name")).setDesc(F(s("setting.other.show-toolbar-in-file-menu.description"),"Other-settings")).addToggle(t=>{t.setValue(this.plugin.settings.showToolbarInFileMenu),t.onChange(async i=>{this.plugin.settings.showToolbarInFileMenu=i,await this.plugin.settingsManager.save()})}),new x.Setting(e).setName(s("setting.other.ribbon-action.name")).setDesc(F(s("setting.other.ribbon-action.description"),"Navigation-bar")).addDropdown(t=>t.addOptions(Vi).setValue(this.plugin.settings.ribbonAction).onChange(async i=>{this.plugin.settings.ribbonAction=i,await this.plugin.settingsManager.save()}))}updateNoteToolbarIcon(e,t){this.plugin.settings.icon=t===s("setting.icon-suggester.option-no-icon")?"":t,this.plugin.settingsManager.save(),(0,x.setIcon)(e,t===s("setting.icon-suggester.option-no-icon")?"lucide-plus-square":t),e.setAttribute("data-note-toolbar-no-icon",t===s("setting.icon-suggester.option-no-icon")?"true":"false")}async listMoveHandler(e,t,i){if(e)switch(e.key){case"ArrowUp":e.preventDefault(),i="up";break;case"ArrowDown":e.preventDefault(),i="down";break;case"Delete":case"Backspace":e.preventDefault(),i="delete";case"Enter":case" ":e.preventDefault();break;default:return}switch(i){case"up":xe(this.plugin.settings.folderMappings,t,t-1);break;case"down":xe(this.plugin.settings.folderMappings,t,t+1),e==null||e.preventDefault();break;case"delete":this.plugin.settings.folderMappings.splice(t,1),e==null||e.preventDefault();break}await this.plugin.settingsManager.save(),this.display()}async listMoveHandlerById(e,t,i){let n=this.getIndexByRowId(t);await this.listMoveHandler(e,n,i)}rememberLastPosition(e){e.scrollTo({top:this.lastScrollPosition,behavior:"auto"}),this.plugin.registerDomEvent(e,"scroll",t=>{this.lastScrollPosition=e.scrollTop})}getIndexByRowId(e){let t=this.getItemListEls();return Array.prototype.findIndex.call(t,i=>i.getAttribute("data-row-id")===e)}getItemListEls(){return this.containerEl.querySelectorAll(".note-toolbar-sortablejs-list > div[data-row-id]")}};var ot=require("obsidian");var Do=class extends ot.ItemView{constructor(o,e){super(e),this.plugin=o}getViewType(){return we}getDisplayText(){return s("setting.whats-new.title")}getIcon(){return"file-text"}async onOpen(){let o=this.contentEl.createDiv();o.addClass("note-toolbar-setting-whatsnew-view");let e=o.createDiv();e.addClass("markdown-preview-view","note-toolbar-setting-whatsnew-content","is-readable-line-width");let t=o.createDiv();t.addClass("note-toolbar-setting-whatsnew-cta","is-readable-line-width"),new ot.Setting(t).setName(le("book-text",s("setting.whats-new.label-release-notes"))).setDesc(s("setting.whats-new.label-release-notes-description")).addButton(n=>{n.setButtonText(s("setting.whats-new.button-read")).setTooltip(s("setting.whats-new.button-read-tooltip")).setCta().onClick(()=>{window.open("https://github.com/chrisgurney/obsidian-note-toolbar/releases","_blank")})});let i=o.createDiv();i.addClass("note-toolbar-setting-whatsnew-cta","is-readable-line-width"),new ot.Setting(i).setName(le("signpost",s("setting.whats-new.label-roadmap"))).setDesc(s("setting.whats-new.label-roadmap-description")).addButton(n=>{n.setButtonText(s("setting.whats-new.button-read")).setTooltip(s("setting.whats-new.button-read-tooltip")).setCta().onClick(()=>{window.open("https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Roadmap","_blank")})}),ot.MarkdownRenderer.render(this.plugin.app,Fi("whats-new"),e,"/",this.plugin)}async onClose(){}};var xi=require("obsidian");var Fo=class{constructor(o){this.plugin=o}async addToolbar(o){this.plugin.settings.toolbars.push(o),this.plugin.settings.toolbars.sort((e,t)=>e.name.localeCompare(t.name)),await this.save()}deleteToolbar(o){this.plugin.removeCommand(je+o),this.plugin.settings.toolbars=this.plugin.settings.toolbars.filter(e=>e.uuid!==o)}deleteToolbarItemById(o){for(let e of this.plugin.settings.toolbars){let t=e.items.findIndex(i=>i.uuid===o);if(t!==-1){e.items.splice(t,1);return}}}async duplicateToolbar(o){w("duplicateToolbar",o);let e={uuid:ae(),customClasses:"",defaultItem:o.defaultItem,defaultStyles:JSON.parse(JSON.stringify(o.defaultStyles)),hasCommand:!1,items:[],mobileStyles:JSON.parse(JSON.stringify(o.mobileStyles)),name:this.getUniqueToolbarName(o.name,!0),position:JSON.parse(JSON.stringify(o.position)),updated:new Date().toISOString()};return o.items.forEach(t=>{this.duplicateToolbarItem(e,t)}),w("duplicateToolbar: duplicated",e),await this.addToolbar(e),e.uuid}async duplicateToolbarItem(o,e,t=!1){w("duplicateToolbarItem",e);let i=JSON.parse(JSON.stringify(e));if(i.uuid=ae(),w("duplicateToolbarItem: duplicated",i),t){let n=o.items.indexOf(e);n!==-1&&o.items.splice(n+1,0,i)}else o.items.push(i);return i.uuid}getMappedToolbar(o,e){var l,p;let t,i=this.plugin.settings.toolbarProp,n=!1,a=(l=o==null?void 0:o[i])!=null?l:null;if(a!==null&&(a.includes("none")&&(n=!0),n||(t=this.getToolbarFromProps(a))),!t&&!n){let u,d;for(let c=0;c<this.plugin.settings.folderMappings.length&&(u=this.plugin.settings.folderMappings[c],d=((p=e.parent)==null?void 0:p.path)==="/"?"/":e.path.toLowerCase(),!((["*"].includes(u.folder)||d.toLowerCase().startsWith(u.folder.toLowerCase()))&&(t=this.getToolbarById(u.toolbar),t)));c++);}return t}getToolbar(o){if(!o)return;let e=this.isUuid(o);return this.plugin.settings.toolbars.find(t=>e?t.uuid===o:t.name.toLowerCase()===o.toLowerCase())}isUuid(o){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(o)}getToolbarById(o){return o?this.plugin.settings.toolbars.find(e=>e.uuid===o):void 0}getToolbarByName(o){return o?this.plugin.settings.toolbars.find(e=>e.name.toLowerCase()===o.toLowerCase()):void 0}getToolbarFromProps(o){if(o)return typeof o=="string"?this.getToolbarByName(o):this.plugin.settings.toolbars.find(e=>o.some(t=>e.name.toLowerCase()===t.toLowerCase()))}getToolbarItemById(o){if(o)for(let e of this.plugin.settings.toolbars){let t=e.items.find(i=>i.uuid===o);if(t)return t}}getToolbarName(o){var t;let e=(t=this.plugin.settings.toolbars.find(i=>i.uuid===o))==null?void 0:t.name;return e||""}getToolbarPosition(o){var t,i,n,a;let e;return xi.Platform.isDesktop?e=(i=(t=o.position.desktop)==null?void 0:t.allViews)==null?void 0:i.position:xi.Platform.isMobile&&(e=(a=(n=o.position.mobile)==null?void 0:n.allViews)==null?void 0:a.position),e}getUniqueToolbarName(o,e){let t=o,i=1,n=this.plugin.settings.toolbars.map(a=>a.name);for(;n.includes(t);)t=`${o}`,t+=e?` ${s("setting.toolbars.duplicated-tbar-suffix")}`:"",t+=i>1?` ${i}`:"",i++;return t}async newToolbar(o=""){let e={uuid:ae(),customClasses:"",defaultItem:null,defaultStyles:["border","even","sticky"],hasCommand:!1,items:[],mobileStyles:[],name:o,position:{desktop:{allViews:{position:"props"}},mobile:{allViews:{position:"props"}},tablet:{allViews:{position:"props"}}},updated:new Date().toISOString()};return this.plugin.settings.toolbars.push(e),await this.save(),e}openToolbarSettings(o,e=null){let t=new q(this.plugin.app,this.plugin,e,o);t.setTitle(o.name?s("setting.title-edit-toolbar",{toolbar:o.name}):s("setting.title-edit-toolbar_none")),t.open()}async load(){var i,n,a,l,p,u,d,c;let o=await this.plugin.loadData();w("loadSettings: loaded settings: ",o),this.plugin.settings=Object.assign({},Li,o);let e=o==null?void 0:o.version,t;o&&e!==Oe&&(w("loadSettings: versions do not match: data.json: ",e," !== latest: ",Oe),w("running migrations..."),e||(t=202403181e-1,w("- starting migration: "+e+" -> "+t),(i=o.toolbars)==null||i.forEach((g,m)=>{g.styles&&(w("	- OLD SETTING: "+g.styles),w("		- SETTING: this.plugin.settings.toolbars[index].defaultStyles: "+this.plugin.settings.toolbars[m].defaultStyles),this.plugin.settings.toolbars[m].defaultStyles=g.styles,w("		- SET: "+this.plugin.settings.toolbars[m].defaultStyles),w("		- SETTING: this.plugin.settings.toolbars[index].mobileStyles = []"),this.plugin.settings.toolbars[m].mobileStyles=[],delete g.styles)}),e=t),e===202403181e-1&&(t=202403221e-1,w("- starting migration: "+e+" -> "+t),(n=o.toolbars)==null||n.forEach((g,m)=>{g.items.forEach((h,b)=>{h!=null&&h.urlAttr||(w("  - add urlAttr for: ",g.name,h.label),h.urlAttr={hasVars:!0,isUri:!0})})}),e=t),e===202403221e-1&&(t=202403301e-1,w("- starting migration: "+e+" -> "+t),(a=o.toolbars)==null||a.forEach((g,m)=>{g.items.forEach((h,b)=>{this.plugin.settings.toolbars[m].items[b].icon="",h.url&&(this.plugin.settings.toolbars[m].items[b].link=h.url,delete h.url),h.urlAttr&&(this.plugin.settings.toolbars[m].items[b].linkAttr={commandId:"",hasVars:h.urlAttr.hasVars,type:h.urlAttr.isUri?"uri":"file"},delete h.urlAttr)})}),e=t),e===202403301e-1&&(t=202404161e-1,w("- starting migration: "+e+" -> "+t),(l=o.toolbars)==null||l.forEach((g,m)=>{g.items.forEach((h,b)=>{this.plugin.settings.toolbars[m].items[b].contexts=[{platform:this.migrateItemVisPlatform(h.hideOnDesktop,h.hideOnMobile),view:"all"}],delete h.hideOnDesktop,delete h.hideOnMobile}),this.plugin.settings.toolbars[m].positions=[{position:"props",contexts:[{platform:"all",view:"all"}]}]}),e=t),e===202404161e-1&&(t=202404261e-1,w("- starting migration: "+e+" -> "+t),(p=o.toolbars)==null||p.forEach((g,m)=>{var h;this.plugin.settings.toolbars[m].positions&&((h=this.plugin.settings.toolbars[m].positions)==null||h.forEach((b,f)=>{var v;this.plugin.settings.toolbars[m].position={},b.contexts&&((v=b.contexts)==null||v.forEach((E,I)=>{if(b.position)switch(E.platform){case"desktop":this.plugin.settings.toolbars[m].position.desktop={allViews:{position:b.position}};break;case"mobile":this.plugin.settings.toolbars[m].position.mobile={allViews:{position:b.position}},this.plugin.settings.toolbars[m].position.tablet={allViews:{position:b.position}};break;case"all":this.plugin.settings.toolbars[m].position.desktop={allViews:{position:b.position}},this.plugin.settings.toolbars[m].position.mobile={allViews:{position:b.position}},this.plugin.settings.toolbars[m].position.tablet={allViews:{position:b.position}};break}}))}),delete this.plugin.settings.toolbars[m].positions),g.items.forEach((b,f)=>{var v;this.plugin.settings.toolbars[m].items[f].contexts&&((v=this.plugin.settings.toolbars[m].items[f].contexts)==null||v.forEach((E,I)=>{if(!this.plugin.settings.toolbars[m].items[f].visibility)switch(this.plugin.settings.toolbars[m].items[f].visibility={},E.platform){case"desktop":this.plugin.settings.toolbars[m].items[f].visibility.desktop={allViews:{components:["icon","label"]}};break;case"mobile":this.plugin.settings.toolbars[m].items[f].visibility.mobile={allViews:{components:["icon","label"]}},this.plugin.settings.toolbars[m].items[f].visibility.tablet={allViews:{components:["icon","label"]}};break;case"all":this.plugin.settings.toolbars[m].items[f].visibility.desktop={allViews:{components:["icon","label"]}},this.plugin.settings.toolbars[m].items[f].visibility.mobile={allViews:{components:["icon","label"]}},this.plugin.settings.toolbars[m].items[f].visibility.tablet={allViews:{components:["icon","label"]}};break;case"none":default:break}}),delete this.plugin.settings.toolbars[m].items[f].contexts)})}),e=t),e===202404261e-1&&(t=202407271e-1,w("- starting migration: "+e+" -> "+t),(u=o.toolbars)==null||u.forEach((g,m)=>{this.plugin.settings.toolbars[m].uuid=this.plugin.settings.toolbars[m].uuid?this.plugin.settings.toolbars[m].uuid:ae()}),(d=o.toolbars)==null||d.forEach((g,m)=>{g.items.forEach((h,b)=>{if(this.plugin.settings.toolbars[m].items[b].uuid=this.plugin.settings.toolbars[m].items[b].uuid?this.plugin.settings.toolbars[m].items[b].uuid:ae(),h.linkAttr.type==="menu"){let f=this.getToolbarByName(h.link);f&&(this.plugin.settings.toolbars[m].items[b].link=f==null?void 0:f.uuid)}})}),(c=o.folderMappings)==null||c.forEach((g,m)=>{let h=this.getToolbarByName(g.toolbar);h&&(this.plugin.settings.folderMappings[m].toolbar=h.uuid)}),e=t),this.plugin.settings.version=Oe,w("updated settings:",this.plugin.settings),await this.save())}async save(){await this.plugin.saveData(this.plugin.settings),await this.plugin.removeActiveToolbar(),await this.plugin.renderActiveToolbar(),w("SETTINGS SAVED: "+new Date().getTime())}migrateItemVisPlatform(o,e){return!o&&!e?"all":o&&e?"none":e?"desktop":o?"mobile":"all"}};var Sn=require("obsidian");var No=class extends Sn.SuggestModal{constructor(o,e){super(o.app),this.plugin=o,this.callback=e,this.commands=Object.values(o.app.commands.commands),this.setPlaceholder(s("setting.command-suggest-modal.placeholder")),this.setInstructions([{command:"\u2191\u2193",purpose:s("setting.command-suggest-modal.instruction-navigate")},{command:"\u21B5",purpose:s("setting.command-suggest-modal.instruction-use")},{command:"esc",purpose:s("setting.command-suggest-modal.instruction-dismiss")}])}getSuggestions(o){let e=[],t=o.toLowerCase();return this.inputEl.removeAttribute("data-command-id"),this.commands.forEach(i=>{i.name.toLowerCase().includes(t)&&e.push(i)}),e}renderSuggestion(o,e){e.setText(o.name)}async onChooseSuggestion(o,e){this.callback(o),this.close()}};var it=require("obsidian");var En=require("obsidian");var yt=class extends En.SuggestModal{constructor(o,e){super(o.app),this.modalEl.addClass("note-toolbar-setting-item-suggester-dialog"),this.plugin=o,this.activeFile=e,this.setPlaceholder(s("setting.toolbar-suggest-modal.placeholder")),this.setInstructions([{command:"\u2191\u2193",purpose:s("setting.toolbar-suggest-modal.instruction-navigate")},{command:"\u21B5",purpose:s("setting.toolbar-suggest-modal.instruction-use")},{command:"esc",purpose:s("setting.toolbar-suggest-modal.instruction-dismiss")}])}getSuggestions(o){let e=this.plugin.settings.toolbars,t=[],i=o.toLowerCase();return e.forEach(n=>{n.name.toLowerCase().includes(i)&&t.push(n)}),t}renderSuggestion(o,e){e.createSpan().setText(o.name)}async onChooseSuggestion(o,e){w("onChooseSuggestion: ",o,e),this.close(),this.plugin.commands.openItemSuggester(o.uuid)}};var Po=class extends it.SuggestModal{constructor(o,e,t){super(o.app),this.modalEl.addClass("note-toolbar-setting-item-suggester-dialog"),this.plugin=o,this.activeFile=e,this.toolbarId=t;let i=this.plugin.settingsManager.getToolbarById(t!=null?t:null);this.setPlaceholder(i?s("setting.item-suggest-modal.placeholder-toolbar",{toolbar:i.name}):s("setting.item-suggest-modal.placeholder"));let n=[];t&&n.push({command:s("setting.item-suggest-modal.key-back"),purpose:s("setting.item-suggest-modal.instruction-back")}),n.push({command:s("setting.item-suggest-modal.key-navigate"),purpose:s("setting.item-suggest-modal.instruction-navigate")},{command:s("setting.item-suggest-modal.key-use"),purpose:s("setting.item-suggest-modal.instruction-use")},{command:s("setting.item-suggest-modal.key-dismiss"),purpose:s("setting.item-suggest-modal.instruction-dismiss")}),this.setInstructions(n),it.Platform.isWin||it.Platform.isLinux?(this.scope.register(["Ctrl"],"Enter",a=>this.handleKeyboardSelection(a)),this.scope.register(["Ctrl","Alt"],"Enter",a=>this.handleKeyboardSelection(a))):(this.scope.register(["Meta"],"Enter",a=>this.handleKeyboardSelection(a)),this.scope.register(["Meta","Alt"],"Enter",a=>this.handleKeyboardSelection(a))),t&&(this.scope.register([],"ArrowLeft",a=>this.handleKeyboardSelection(a)),this.scope.register([],"Backspace",a=>this.handleKeyboardSelection(a)))}async getSuggestions(o){let e=[];if(this.toolbarId){let a=this.plugin.settingsManager.getToolbarById(this.toolbarId);e=a?[a]:[]}else e=this.plugin.settings.toolbars;let t=[],i=o.toLowerCase();for(let a of e)for(let l of a.items){let p=l.label||l.tooltip;p||(p=l.icon?l.link:"");let u=(l.label+l.tooltip+l.link).toLowerCase();if(p&&l.linkAttr.type!=="menu"&&u.includes(i)){let[d,c,g]=xt(l.visibility);(it.Platform.isMobile&&c||it.Platform.isDesktop&&d)&&!(this.plugin.hasVars(l.link)&&await this.plugin.replaceVars(l.link,this.activeFile)==="")&&!(this.plugin.hasVars(p)&&await this.plugin.replaceVars(p,this.activeFile)==="")&&t.push(l)}}let n=[];if(!this.toolbarId){n=Array.from(new Set(t.filter(l=>l.linkAttr.commandId!=="note-toolbar:open-item-suggester").map(l=>`${(l.label||l.tooltip).toLowerCase()}|${l.link}`))).map(l=>{let[p,u]=l.split("|");return t.find(d=>(d.label||d.tooltip).toLowerCase()===p&&d.link===u)});let a=[];n.sort((l,p)=>{let u=E=>E.replace(/[^\p{L}\p{N}]/gu,"").toLowerCase(),d=u(l.label||l.tooltip||l.link||""),c=u(p.label||p.tooltip||l.link||""),g=u((this.plugin.hasVars(l.label)?"":l.label)||(this.plugin.hasVars(l.tooltip)?"":l.tooltip)||(this.plugin.hasVars(l.link)?"":l.link)),m=u((this.plugin.hasVars(p.label)?"":p.label)||(this.plugin.hasVars(p.tooltip)?"":p.tooltip)||(this.plugin.hasVars(p.link)?"":p.link)),h=a.includes(d),b=a.includes(c);if(h&&!b)return-1;if(!h&&b)return 1;let f=g.includes(i),v=m.includes(i);return f&&!v?-1:!f&&v?1:d.localeCompare(c)})}return this.toolbarId?t:n}renderSuggestion(o,e){Co(this.plugin,o,e,this.inputEl.value,!0)}async handleKeyboardSelection(o){switch(o.key){case"ArrowLeft":case"Backspace":if(this.toolbarId&&this.inputEl.value===""){this.close();let i=this.plugin.app.workspace.getActiveFile();new yt(this.plugin,i).open()}break;default:let e=this.modalEl.querySelector(".note-toolbar-item-suggestion.is-selected"),t=e!=null&&e.id?this.plugin.settingsManager.getToolbarItemById(e==null?void 0:e.id):void 0;t&&this.onChooseSuggestion(t,o);break}}async onChooseSuggestion(o,e){w("onChooseSuggestion: ",o,this.activeFile,e),this.close(),await this.plugin.handleItemLink(o,e)}};var Oo=require("obsidian"),Lo=class{constructor(o){this.plugin=o}setupToolbarCommands(){this.plugin.settings.toolbars.forEach(o=>{o.hasCommand&&this.plugin.addCommand({id:je+o.uuid,name:s("command.name-open-toolbar",{toolbar:o.name}),icon:this.plugin.settings.icon,callback:async()=>{this.plugin.commands.openItemSuggester(o.uuid)}})})}async focus(){var t;w("focusCommand()");let o=this.plugin.getToolbarEl();switch(o==null?void 0:o.getAttribute("data-tbar-position")){case"fabr":case"fabl":let i=o==null?void 0:o.querySelector("button.cg-note-toolbar-fab");if(w("focusCommand: button: ",i),o){let a=this.plugin.settingsManager.getToolbarById(o.id);if(a!=null&&a.defaultItem){let l=this.plugin.app.workspace.getActiveFile();this.plugin.renderToolbarAsMenu(a,l,this.plugin.settings.showEditInFabMenu).then(p=>{let u=i.getAttribute("data-tbar-position"),d=i.getBoundingClientRect(),c={x:u==="fabl"?d.x:d.x+d.width,y:d.top-4,overlap:!0,left:u!=="fabl"};localStorage.setItem("note-toolbar-menu-pos",JSON.stringify(c)),p.showAtPosition(c)})}else i.click()}break;case"bottom":case"props":case"top":let n=this.plugin.getToolbarListEl();if(n){w("focusCommand: toolbar: ",n);let l=Array.from(n.children).filter(u=>{let d=u.querySelector("span")!==null,c=window.getComputedStyle(u).getPropertyValue("display")!=="none";return d&&c}),p=l[0]?l[0].querySelector("span"):null;w("focusCommand: focussed item: ",p),(t=l[0])==null||t.addClass("tbar-item-focused"),p==null||p.focus()}break;case"hidden":default:break}}async copyCommand(o=!1){new No(this.plugin,t=>{let i=o?`[]()<data data-ntb-command="${t.id}"/> <!-- ${t.name} -->`:`obsidian://note-toolbar?command=${t.id}`;navigator.clipboard.writeText(i),new Oo.Notice(s("command.copy-command-notice"))}).open()}async openItemSuggester(o){let e=this.plugin.app.workspace.getActiveFile();new Po(this.plugin,e,o).open()}async openSettings(){let o=this.plugin.app.setting;o.open(),o.openTabById("note-toolbar")}async openToolbarSettings(){let o=this.plugin.getToolbarEl();o!=null&&o.id&&await this.openToolbarSettingsForId(o.id)}async openToolbarSettingsForId(o){let e=this.plugin.settingsManager.getToolbarById(o);if(e){let t=new q(this.plugin.app,this.plugin,null,e);t.setTitle(s("setting.title-edit-toolbar",{toolbar:e.name})),t.open()}}async openToolbarSuggester(){let o=this.plugin.app.workspace.getActiveFile();new yt(this.plugin,o).open()}async toggleProps(o){let e=this.plugin.getPropsEl(),t=this.plugin.app.workspace.getActiveViewOfType(Oo.MarkdownView);if(w("togglePropsCommand: ","visibility: ",o,"props: ",e),e&&!t.editMode.sourceMode){let i=getComputedStyle(e).getPropertyValue("display");switch(o==="toggle"&&(i==="none"?o="show":o="hide"),o){case"show":e.style.display="var(--metadata-display-editing)",e.classList.contains("is-collapsed")&&e.querySelector(".metadata-properties-heading").click();break;case"hide":e.style.display="none";break;case"fold":e.classList.contains("is-collapsed")||e.querySelector(".metadata-properties-heading").click();break}}}};var vt=require("obsidian");var Vo=class extends vt.FuzzySuggestModal{constructor(e,t,i,n){super(e.app);this.plugin=e;this.values=t;this.keys=i;this.submitted=!1;this.class="";let{placeholder:a,limit:l,class:p=""}=n||{};this.class=p,this.setPlaceholder(a||s("api.ui.suggester-placeholder")),i||Array.isArray(t)&&(this.keys=t),l&&(this.limit=l),this.modalEl.addClass("note-toolbar-ui"),this.class&&this.modalEl.addClasses([...this.class.split(" ")]),this.modalEl.setAttr("data-ntb-ui-type","suggester")}getItems(){return this.keys?this.keys:[]}onClose(){this.submitted||this.reject(new Error(s("api.ui.error-cancelled")))}selectSuggestion(e,t){this.submitted=!0,this.close(),this.onChooseSuggestion(e,t)}renderSuggestion(e,t){vt.MarkdownRenderer.render(this.plugin.app,this.getItemText(e.item),t,"",new vt.Component)}getItemText(e){return this.values instanceof Function?this.values(e):this.keys?this.values[this.keys.indexOf(e)]||s("api.ui.error-undefined"):s("api.ui.error-undefined")}onChooseItem(e){this.resolve(e)}async openAndGetValue(e,t){this.resolve=e,this.reject=t,this.open()}};var Q=require("obsidian");var Bo=class extends Q.Modal{constructor(e,t){super(e.app);this.plugin=e;this.options=t;this.submitted=!1;let{label:i="",large:n=!1,placeholder:a=s("api.ui.prompt-placeholder"),default:l="",class:p=""}=this.options||{};this.label=i,this.large=n,this.placeholder=a,this.default=l,this.class=p,this.modalEl.addClasses(["prompt","note-toolbar-ui"]),this.class&&this.modalEl.addClasses([...this.class.split(" ")]),this.modalEl.setAttr("data-ntb-ui-type","prompt"),this.label||this.modalEl.setAttr("data-ntb-ui-mode","noclose-noheader")}onOpen(){this.label&&Q.MarkdownRenderer.render(this.plugin.app,this.label,this.titleEl,"",new Q.Component),this.createForm()}onClose(){this.contentEl.empty(),this.submitted||this.reject(new Error(s("api.ui.error-cancelled")))}createForm(){var i;let e=this.contentEl.createDiv();e.addClass("note-toolbar-ui-div");let t;if(this.large){t=new Q.TextAreaComponent(e);let n=this.contentEl.createDiv();n.addClass("note-toolbar-ui-button-div");let a=new Q.ButtonComponent(n);a.buttonEl.addClass("mod-cta"),a.setButtonText(s("api.ui.button-submit")),this.plugin.registerDomEvent(a.buttonEl,"click",l=>this.resolveAndClose(l))}else t=new Q.TextComponent(e);this.value=(i=this.default)!=null?i:"",t.inputEl.addClass("note-toolbar-ui-input"),t.setPlaceholder(this.placeholder),t.setValue(this.value),t.onChange(n=>this.value=n),t.inputEl.focus(),this.plugin.registerDomEvent(t.inputEl,"keydown",n=>this.enterCallback(n))}enterCallback(e){if(!(e.isComposing||e.keyCode===229))if(this.large){let t=Q.Platform.isWin||Q.Platform.isLinux?e==null?void 0:e.ctrlKey:e==null?void 0:e.metaKey;e.key==="Enter"&&(Q.Platform.isDesktop&&!e.shiftKey||t)&&this.resolveAndClose(e)}else e.key==="Enter"&&this.resolveAndClose(e)}resolveAndClose(e){this.submitted=!0,e.preventDefault(),this.resolve(this.value),this.close()}async openAndGetValue(e,t){this.resolve=e,this.reject=t,this.open()}};var ue=require("obsidian"),_o=class extends ue.Modal{constructor(e,t,i){super(e.app);this.plugin=e;this.content=t;this.options=i;let{title:n="",class:a=""}=this.options||{};this.title=n,this.class=a,this.modalEl.addClasses(["prompt","note-toolbar-ui"]),this.class&&this.modalEl.addClasses([...this.class.split(" ")]),this.modalEl.setAttr("data-ntb-ui-type","modal"),this.title||this.modalEl.setAttr("data-ntb-ui-mode","noheader")}onOpen(){if(this.title){let e=this.titleEl.createEl("div",{cls:"markdown-preview-view"});ue.MarkdownRenderer.render(this.plugin.app,this.title,e,"",new ue.Component)}}onClose(){this.contentEl.empty()}async openWithContent(e,t){let i=this.contentEl.createEl("div",{cls:"markdown-preview-view"});if(typeof this.content=="string")await ue.MarkdownRenderer.render(this.plugin.app,this.content,i,"",new ue.Component);else try{let n=await this.app.vault.read(this.content);await ue.MarkdownRenderer.render(this.plugin.app,n,i,"",new ue.Component)}catch(n){new ue.Notice(n)}this.modalEl.querySelectorAll("a.internal-link, a.external-link").forEach(n=>{n.tabIndex=1,n.hasClass("internal-link")&&this.plugin.registerDomEvent(n,"click",a=>{a.preventDefault();let l=n.getAttribute("href");l&&this.plugin.app.workspace.openLinkText(l,"",!0)})}),this.contentEl.tabIndex=1,setTimeout(()=>{this.contentEl.focus()},50),this.resolve=e,this.reject=t,this.open()}};var Ho=class{constructor(o,e){this.plugin=o;var t;this.toolbar=this.plugin.settingsManager.getToolbarById(e),this.id=(t=this.toolbar)==null?void 0:t.uuid}getName(){var o;return(o=this.toolbar)==null?void 0:o.name}async export(){return this.toolbar?await He(this.plugin,this.toolbar,this.plugin.settings.export):null}};var Ro=class{constructor(o){this.plugin=o}async clipboard(){return await navigator.clipboard.readText()}getToolbars(){return this.plugin.settings.toolbars.map(o=>new Ho(this.plugin,o.uuid))}async modal(o,e){let t=new _o(this.plugin,o,e),i=new Promise((n,a)=>t.openWithContent(n,a));try{await i}catch(n){}}async prompt(o){let e=new Bo(this.plugin,o),t=new Promise((i,n)=>e.openAndGetValue(i,n));try{return await t}catch(i){return null}}async suggester(o,e,t){let i=new Vo(this.plugin,o,e,t),n=new Promise((a,l)=>i.openAndGetValue(a,l));try{return await n}catch(a){return null}}};var zt=require("obsidian");var qt=require("obsidian");async function Cn(r,o){return new Promise((e,t)=>{let i=new Ii(r,o);i.onClose=()=>{e(i.isConfirmed)},i.open()})}var Ii=class extends qt.Modal{constructor(e,t){super(e.app);this.isConfirmed=!1;this.modalEl.addClass("note-toolbar-setting-dialog-phonefix"),this.plugin=e,this.callout=t}onOpen(){this.display()}async display(){let e=await Re(this.plugin,this.callout,void 0,!0);new Promise(t=>{this.setTitle(s("import.title-import-confirmation",{toolbar:e.name})),this.modalEl.createEl("p").append(F(s("import.label-import-confirmation"),"Defining-where-to-show-toolbars"));let i=e?Se(this.plugin,e,void 0):"",n=this.modalEl.createDiv();n.addClass("note-toolbar-setting-import-confirm-preview"),n.createEl("p",{text:s("export.label-share-preview"),cls:"note-toolbar-setting-small-heading"}),n.createDiv().append(i);let a=Ui(this.plugin,e),l=this.plugin.toolbarHasVars(e);if(a.length>0||l){let u=this.modalEl.createDiv();u.addClass("note-toolbar-setting-field-help");let d=u.createEl("ul");if(a.length>0){let g=d.createEl("li",{text:s("import.warning-invalid-plugins")}).createEl("ul");a.map((m,h)=>{let b=g.createEl("li"),f=So(m,m);f&&b.appendChild(f)})}l&&d.createEl("li",{text:F(s("import.warning-vars"),"Variables")})}this.modalEl.createDiv().addClass("note-toolbar-setting-spacer");let p=this.modalEl.createDiv();p.addClass("note-toolbar-setting-confirm-dialog-buttons"),new qt.ButtonComponent(p).setButtonText(s("import.button-confirm")).setCta().onClick(()=>{this.isConfirmed=!0,this.close()}),new qt.ButtonComponent(p).setButtonText(s("import.button-cancel")).onClick(()=>{this.close()})})}};var Uo=class{constructor(o){this.plugin=o}async handle(o){if(w("protocolHandler",o),o.commandid||o.commandId||o.command)this.plugin.handleLinkCommand(decodeURIComponent(o.commandid||o.commandId||o.command));else if(o.folder)this.plugin.handleLinkFolder(o.folder);else if(o.help)new lt(this.plugin).open();else if(o.import){let e=decodeURIComponent(o.import);o.import.includes("[!note-toolbar")?Cn(this.plugin,e).then(t=>{t&&Re(this.plugin,e,void 0,!0).then(i=>{this.plugin.settingsManager.addToolbar(i).then(n=>{this.plugin.commands.openToolbarSettingsForId(i.uuid)})})}):new zt.Notice(s("import.error-invalid-uri-content"))}else if(o.menu){let e=this.plugin.app.workspace.getActiveFile(),t=this.plugin.settingsManager.getToolbarByName(o.menu);t=t||this.plugin.settingsManager.getToolbarById(o.menu),e&&(t?this.plugin.renderToolbarAsMenu(t,e).then(i=>{this.plugin.showMenuAtElement(i,this.plugin.lastCalloutLink)}):new zt.Notice(s("notice.error-item-menu-not-found",{toolbar:o.menu})))}else if(o.toolbarsettings){let e;if(o.toolbarsettings.length>0)e=this.plugin.settingsManager.getToolbarByName(o.toolbarsettings),e||new zt.Notice(s("notice.error-toolbar-not-found",{toolbar:o.toolbarsettings}));else{let t=this.plugin.getToolbarEl();e=t?this.plugin.settingsManager.getToolbarById(t==null?void 0:t.id):void 0}if(e){let t=new q(this.plugin.app,this.plugin,null,e);t.setTitle(s("setting.title-edit-toolbar",{toolbar:e.name})),t.open()}}else o.whatsnew?this.plugin.app.workspace.getLeaf(!0).setViewState({type:we,active:!0}):new zt.Notice(s("notice.error-uri-params-not-supported",{params:Object.keys(o).join(", ")}))}async getShareUri(o,e=!1){let t={includeIcons:!0,replaceVars:!1,useDataEls:!0,useIds:!1},i=await He(this.plugin,o,t);return e?`obsidian://note-toolbar?import=${encodeURIComponent(i)}`:`https://chrisgurney.github.io/obsidian-note-toolbar/open.htm?uri=${encodeURIComponent(`obsidian://note-toolbar?import=${i}`)}`}};var nt=require("obsidian");var We=class{constructor(o,e,t){this.noteToolbar=o,this.adapterApi=t,this.adapterPlugin=e}disable(){this.adapterApi=null,this.adapterPlugin=null,this.noteToolbar=null}getFunctions(){return new Map(this.FUNCTIONS.map(o=>[o.function.name,o]))}getSetting(o){var e;return(e=this.adapterPlugin.settings[o])!=null?e:""}};var Wt=class extends We{constructor(e){let t=e.app.plugins.plugins.dataview;super(e,t,t.api);this.FUNCTIONS=[{function:this.query,label:s("adapter.dataview.query-function"),description:"",parameters:[{parameter:"expression",label:s("adapter.dataview.query-expr"),description:s("adapter.dataview.query-expr-description"),type:"textarea",required:!0},{parameter:"outputContainer",label:s("adapter.outputcontainer"),description:s("adapter.outputcontainer-description"),type:"text",required:!1}]},{function:this.exec,label:s("adapter.dataview.exec-function"),description:"",parameters:[{parameter:"sourceFile",label:s("adapter.dataview.exec-sourcefile"),description:s("adapter.dataview.exec-sourcefile-description"),type:"file",required:!0},{parameter:"sourceArgs",label:s("adapter.args"),description:s("adapter.args-description"),type:"args",required:!1},{parameter:"outputContainer",label:s("adapter.outputcontainer"),description:s("adapter.outputcontainer-description"),type:"text",required:!1}]},{function:this.evaluate,label:s("adapter.dataview.eval-function"),description:"",parameters:[{parameter:"expression",label:s("adapter.dataview.eval-expr"),description:s("adapter.dataview.eval-expr-description"),type:"textarea",required:!0},{parameter:"outputContainer",label:s("adapter.outputcontainer"),description:s("adapter.outputcontainer-description"),type:"text",required:!1}]},{function:this.executeJs,label:s("adapter.dataview.dvjs-function"),description:"",parameters:[{parameter:"expression",label:s("adapter.dataview.dvjs-expr"),description:s("adapter.dataview.dvjs-expr-description"),type:"textarea",required:!0},{parameter:"outputContainer",label:s("adapter.outputcontainer"),description:s("adapter.outputcontainer-description"),type:"text",required:!1}]}]}async use(e){var n;let t,i;if(e.outputContainer&&(i=(n=this.noteToolbar)==null?void 0:n.getOutputEl(e.outputContainer),!i)){_(s("adapter.error.callout-not-found",{id:e.outputContainer}));return}switch(e.pluginFunction){case"evaluate":t=e.expression?await this.evaluate(e.expression,i):s("adapter.dataview.eval-expr-error-required");break;case"evaluateInline":t=e.expression?await this.evaluate(e.expression,i,!1):s("adapter.dataview.eval-expr-error-required");break;case"exec":t=e.sourceFile?await this.exec(e.sourceFile,e.sourceArgs,i):s("adapter.dataview.exec-error-required");break;case"executeJs":t=e.expression?await this.executeJs(e.expression,i):s("adapter.dataview.dvjs-expr-error-required");break;case"query":t=e.expression?await this.query(e.expression,i):s("adapter.dataview.query-expr-error-required");break;case"":break;default:t=s("adapter.error.function-invalid",{function:e.pluginFunction});break}return t}async evaluate(e,t,i=!0){var u;let n="",a=(u=this.noteToolbar)==null?void 0:u.app.workspace.getActiveFile(),l=a==null?void 0:a.path,p=new nt.Component;p.load();try{if(this.adapterApi){let d=await this.adapterApi.evaluateInline(e,a==null?void 0:a.path);if(t)t.empty(),await this.adapterApi.renderValue(d.value,t,p,l);else{if(d.error)throw d.error;n=d.value}}}catch(d){i?(_(s("adapter.error.expr-failed",{expression:e}),d,t),n=s("adapter.dataview.error-general",{error:d})):n=e}finally{p.unload()}return n}async exec(e,t,i){var d,c,g;if(!e)return;let n;try{n=t?st(t):{}}catch(m){_(s("adapter.error.args-parsing",{filename:e}),m,i);return}i=i||createSpan();let a=(d=this.noteToolbar)==null?void 0:d.app.workspace.getActiveFile(),l=(a==null?void 0:a.path)||"",p=(c=this.noteToolbar)==null?void 0:c.app.metadataCache.getFirstLinkpathDest(e,l);if(!p){_(s("adapter.error.file-not-found",{filename:e}));return}let u=await((g=this.noteToolbar)==null?void 0:g.app.vault.read(p));if(u){u.includes("await")&&(u="(async () => { "+u+" })()"),u+=`
//# sourceURL=${p.path}`;let m=new Function("dv","input",u),h=new nt.Component;h.load();try{i.empty();let b=this.adapterPlugin.localApi(l,this.noteToolbar,i),f=await Promise.resolve(m(b,n));f&&this.noteToolbar&&await this.adapterApi.renderValue(this.noteToolbar.app,f,i,l,h,this.adapterApi.settings,!0)}catch(b){_(s("adapter.error.exec-failed",{filename:p.path}),b,i)}finally{h.unload()}}}async executeJs(e,t){var p,u,d;let i="",n=t||createSpan(),a=(p=this.noteToolbar)==null?void 0:p.app.workspace.getActiveFile(),l=new nt.Component;l.load();try{if(this.adapterApi&&(w("executeJs() ",e),await this.adapterApi.executeJs(e,n,l,a==null?void 0:a.path),w("executeJs() result:",n),!t)){let c=n.querySelector(".dataview-error");if(c)throw new Error((u=c.textContent)!=null?u:void 0);n.children.length===0&&((d=n.textContent)==null?void 0:d.trim())===""?(w("executeJs() no result"),i=""):i=n.textContent||""}}catch(c){_(s("adapter.error.expr-failed",{expression:e}),c,t)}finally{l.unload()}return i}async query(e,t){var l;let i="",n=(l=this.noteToolbar)==null?void 0:l.app.workspace.getActiveFile();if(!n)return _(s("adapter.error.query-note-not-open")),s("adapter.error.query-note-not-open");let a=new nt.Component;a.load();try{if(this.adapterApi){w("query() "+e);let p=await this.adapterApi.queryMarkdown(e,n,this.adapterApi.settings);if(w("query() result: ",p),t)t.empty(),this.noteToolbar&&nt.MarkdownRenderer.render(this.noteToolbar.app,p.successful?p.value:p.error,t,n.path,a);else{if(p.error)throw p.error;i=p.value}}}catch(p){_(s("adapter.error.query-failed",{expression:e}),p,t),i=s("adapter.dataview.error-general",{error:p})}finally{a.unload()}return i}};var jt=class extends We{constructor(e){let t=e.app.plugins.plugins["templater-obsidian"];super(e,t,t.templater);this.FUNCTIONS=[{function:this.appendTemplate,label:s("adapter.templater.append-function"),description:"",parameters:[{parameter:"sourceFile",label:s("adapter.templater.append-sourcefile"),description:s("adapter.templater.append-sourcefile-description"),type:"file",required:!0}]},{function:this.createFrom,label:s("adapter.templater.create-function"),description:"",parameters:[{parameter:"sourceFile",label:s("adapter.templater.create-sourcefile"),description:s("adapter.templater.create-sourcefile-description"),type:"file",required:!0},{parameter:"outputFile",label:s("adapter.templater.create-outputfile"),description:s("adapter.templater.create-outputfile-description"),type:"text",required:!1},{parameter:"postCommand",label:s("adapter.postCommand"),description:s("adapter.postCommand-description"),type:"command",required:!1}]},{function:this.parseTemplate,label:s("adapter.templater.eval-function"),description:"",parameters:[{parameter:"expression",label:s("adapter.templater.eval-expr"),description:s("adapter.templater.eval-expr-description"),type:"textarea",required:!0}]},{function:this.parseTemplateFile,label:s("adapter.templater.exec-function"),description:"",parameters:[{parameter:"sourceFile",label:s("adapter.templater.exec-sourcefile"),description:s("adapter.templater.exec-sourcefile-description"),type:"file",required:!0}]}]}async use(e){var n,a;let t,i;if(e.outputContainer&&(i=(n=this.noteToolbar)==null?void 0:n.getOutputEl(e.outputContainer),!i)){_(s("adapter.error.callout-not-found",{id:e.outputContainer}));return}switch(e.pluginFunction){case"appendTemplate":t=e.sourceFile?await this.appendTemplate(e.sourceFile):s("adapter.templater.append-sourcefile-error-required");break;case"createFrom":t=e.sourceFile?await this.createFrom(e.sourceFile,e.outputFile):s("adapter.templater.create-sourcefile-error-required");break;case"parseTemplate":t=e.expression?await this.parseTemplate(e.expression):s("adapter.templater.eval-expr-error-required");break;case"parseTemplateInline":t=e.expression?await this.parseTemplate(e.expression,!1):s("adapter.templater.eval-expr-error-required");break;case"parseTemplateFile":t=e.sourceFile?await this.parseTemplateFile(e.sourceFile):s("adapter.templater.exec-sourcefile-error-required");break;case"":break;default:t=s("adapter.error.function-invalid",{function:e.pluginFunction});break}if(e.postCommand)try{await((a=this.noteToolbar)==null?void 0:a.app.commands.executeCommandById(e.postCommand))}catch(l){throw new Error(l)}return t}async appendTemplate(e){var t;if(this.adapterApi){let i=(t=this.noteToolbar)==null?void 0:t.app.vault.getFileByPath(e);try{if(i)await this.adapterApi.append_template_to_active_file(i);else throw new Error(s("adapter.error.file-not-found",{filename:e}))}catch(n){_(n)}}}async createFrom(e,t){var p,u,d,c;if(t&&((p=this.noteToolbar)!=null&&p.hasVars(t))){let g=(u=this.noteToolbar)==null?void 0:u.app.workspace.getActiveFile();t=await((d=this.noteToolbar)==null?void 0:d.replaceVars(t,g,!1))}let{parsedFolder:i,parsedFilename:n}=this.parseOutputFile(t),a=t?i:"",l=t?n:"";if(this.adapterApi){let g=(c=this.noteToolbar)==null?void 0:c.app.vault.getFileByPath(e);try{if(g)await this.adapterApi.create_new_note_from_template(g,a,l);else throw new Error(s("adapter.error.file-not-found",{filename:e}))}catch(m){_(m)}}}parseOutputFile(e){if(!e)return{parsedFolder:"",parsedFilename:""};let t=e.replace(/\\/g,"/"),i=t.lastIndexOf("/"),n=t.slice(0,i+1),a=t.slice(i+1);return{parsedFolder:n,parsedFilename:a}}async parseTemplate(e,t=!0){var l;let i="",n=(l=this.noteToolbar)==null?void 0:l.app.workspace.getActiveFile();if(!n&&t)return _(s("adapter.error.expr-note-not-open")),s("adapter.error.expr-note-not-open");let a=e.trim();a.startsWith("<%")||(a="<%"+a),a.endsWith("%>")||(a+="%>");try{let p={target_file:n,run_mode:"DynamicProcessor",active_file:n};this.adapterApi&&(i=await this.adapterApi.parse_template(p,a),i=i==="undefined"?"":i)}catch(p){t?_(p):i=e}return i}async parseTemplateFile(e){var a,l;let t="",i=(a=this.noteToolbar)==null?void 0:a.app.workspace.getActiveFile();if(!i)return _(s("adapter.error.function-note-not-open")),s("adapter.error.function-note-not-open");let n=(l=this.noteToolbar)==null?void 0:l.app.vault.getFileByPath(e);try{if(n){let p={template_file:n,target_file:i,run_mode:"DynamicProcessor",active_file:i};this.adapterApi&&(t=await this.adapterApi.read_and_parse_template(p),w("parseTemplateFile() result:",t))}else throw new Error(s("adapter.error.file-not-found",{filename:e}))}catch(p){_(s("adapter.error.exec-failed",{filename:e}),p)}return t}};var kn=require("obsidian");var $t=class extends We{constructor(e){let t=e.app.plugins.plugins["js-engine"];super(e,t,t.api);this.FUNCTIONS=[{function:this.exec,label:s("adapter.js-engine.exec-function"),description:"",parameters:[{parameter:"sourceFile",label:s("adapter.js-engine.exec-sourcefile"),description:s("adapter.js-engine.exec-sourcefile-description"),type:"file",required:!0},{parameter:"outputContainer",label:s("adapter.outputcontainer"),description:F(s("adapter.outputcontainer-description"),"/Executing-scripts#output-callout"),type:"text",required:!1}]},{function:this.importExec,label:s("adapter.js-engine.importexec-function"),description:"",parameters:[{parameter:"sourceFile",label:s("adapter.js-engine.importexec-sourcefile"),description:s("adapter.js-engine.importexec-sourcefile-description"),type:"file",required:!0},{parameter:"sourceFunction",label:s("adapter.js-engine.importexec-sourcefunction"),description:s("adapter.js-engine.importexec-sourcefunction-description"),type:"text",required:!1},{parameter:"sourceArgs",label:s("adapter.args"),description:s("adapter.args-description"),type:"args",required:!1}]}]}async use(e){var n;let t,i;if(e.outputContainer&&(i=(n=this.noteToolbar)==null?void 0:n.getOutputEl(e.outputContainer),!i)){_(s("adapter.error.callout-not-found",{id:e.outputContainer}));return}switch(e.pluginFunction){case"exec":t=e.sourceFile?await this.exec(e.sourceFile,i):s("adapter.js-engine.exec-sourcefile-error-required");break;case"importExec":t=e.sourceFile?await this.importExec(e.sourceFile,e.sourceFunction,e.sourceArgs):s("adapter.js-engine.importexec-sourcefile-error-required");break;case"":break;default:t=s("adapter.error.function-invalid",{function:e.pluginFunction});break}return t}async importExec(e,t,i){let n="",a;try{a=i?st(i):{}}catch(l){return _(s("adapter.error.args-parsing",{filename:e}),l),s("adapter.error.args-parsing-error",{filename:e,error:l})}if(this.adapterApi){let l=await this.adapterApi.importJs(e);if(t)if(l[t]&&typeof l[t]=="function")try{a?n=l[t](this.adapterApi,a):n=l[t](this.adapterApi),w("importExec() result:",n)}catch(p){_(s("adapter.error.exec-failed",{filename:e}),p)}else _(s("adapter.error.function-not-found",{function:t}))}return n}async exec(e,t){var u,d;let i="",n=t||createSpan(),a=(u=this.noteToolbar)==null?void 0:u.app.workspace.getActiveFile(),l=(d=a==null?void 0:a.path)!=null?d:"",p=new kn.Component;p.load();try{t==null||t.empty();let c=await this.adapterApi.internal.executeFile(e,{container:n,component:this.noteToolbar});w("exec() result:",c.result),this.noteToolbar&&(t?this.adapterApi.internal.createRenderer(n,l,this.noteToolbar).render(c.result):i=c.result||"")}catch(c){_(s("adapter.error.exec-failed",{filename:e}),c,t)}finally{p.unload()}return i}};var qo=require("obsidian");var Gt=class extends qo.Modal{constructor(o,e,t){super(o),this.plugin=e,this.toolbar=t}onOpen(){this.setTitle(s("setting.styles.title",{toolbar:this.toolbar.name})),this.display()}onClose(){let{contentEl:o}=this;o.empty()}display(){this.contentEl.empty(),new Qe(this.plugin,this,this.toolbar).displayStyleSetting(this.contentEl),qo.Platform.isDesktop&&setTimeout(()=>{this.contentEl.querySelector("#default-style-dropdown > select").focus()},50)}};var zo=class extends T.Plugin{constructor(){super(...arguments);this.activeViewIds=[];this.lastCalloutLink=null;this.hasPlugin={dataview:!1,"js-engine":!1,"make-md":!1,"templater-obsidian":!1};this.fileOpenListener=e=>{var t;e!=null&&(w("===== FILE-OPEN ===== ",e.name),this.checkAndRenderToolbar(e,(t=this.app.metadataCache.getFileCache(e))==null?void 0:t.frontmatter))};this.fileRenameListener=(e,t)=>{w("fileRenameListener:",e,t),this.settings.toolbars.forEach(i=>{i.items.forEach(n=>{var a,l;n.link===t&&(w("fileRenameListener: changing",n.link,"to",e.path),n.link=e.path),((a=n.scriptConfig)==null?void 0:a.sourceFile)===t&&(w("fileRenameListener: changing",(l=n.scriptConfig)==null?void 0:l.sourceFile,"to",e.path),n.scriptConfig.sourceFile=e.path)})})};this.layoutChangeListener=()=>{let e=this.app.workspace.getActiveViewOfType(T.MarkdownView);if(!e){this.renderActiveToolbar();return}let t=e==null?void 0:e.getMode();if(e!=null&&e.containerEl.closest("popover"))return;let i=rt(e);if(w("===== LAYOUT-CHANGE ===== ",i,e,t),i&&this.activeViewIds.contains(i))return;let n=this.lastFileOpenedOnLayoutChange!==(e==null?void 0:e.file),a=this.lastViewModeOnLayoutChange!==t;if(n||a)this.lastFileOpenedOnLayoutChange=n?e==null?void 0:e.file:this.lastFileOpenedOnLayoutChange,this.lastViewModeOnLayoutChange=a?t:this.lastViewModeOnLayoutChange;else return;switch(t){case"source":case"preview":let l=this.getToolbarEl(),p=l==null?void 0:l.getAttribute("data-tbar-position");this.app.workspace.onLayoutReady((0,T.debounce)(()=>{this.updateActiveViewIds(),this.renderActiveToolbar()},t==="preview"?200:0));break;default:return}};this.leafChangeListener=e=>{let t=!1,i=this.app.workspace.getActiveViewOfType(T.MarkdownView),n=rt(i);w("===== LEAF-CHANGE ===== ",n);let a=this.getToolbarEl();if(a){let l=this.settingsManager.getToolbarById(a.id);l&&l.updated!==a.getAttribute("data-updated")&&(t=!0)}if(!(!t&&n&&this.activeViewIds.contains(n))){if(this.updateActiveViewIds(),i)t=["source","preview"].includes(i.getMode());else switch(i=this.app.workspace.getActiveViewOfType(T.ItemView),i==null?void 0:i.containerEl.getAttribute("data-type")){case"canvas":case"empty":t=!0;break;default:return}t&&this.renderActiveToolbar()}};this.metadataCacheListener=(e,t,i)=>{var l,p;w("===== METADATA-CHANGE ===== ",e.name);let n=this.app.workspace.getActiveFile();if(n===e&&e.stat.mtime>e.stat.ctime){let u=this.app.workspace.getActiveViewOfType(T.MarkdownView);this.checkAndRenderToolbar(e,i.frontmatter)}let a=(p=(l=i.frontmatter)==null?void 0:l[this.settings.toolbarProp])!=null?p:[];if(a.length>0){let u=!!a.includes("none");if(this.lastFileOpenedOnCacheChange!==n&&(this.lastNtbProperty=void 0),a[0]!==this.lastNtbProperty&&!(u?void 0:this.settingsManager.getToolbarFromProps(a))&&!u){let c=new T.Notice(s("notice.warning-no-matching-toolbar",{toolbar:a[0]}),7500);this.registerDomEvent(c.noticeEl,"click",async()=>{let g=await this.settingsManager.newToolbar(a[0]);this.settingsManager.openToolbarSettings(g)})}}this.lastNtbProperty=a[0],this.lastFileOpenedOnCacheChange=n};this.editorMenuHandler=(e,t,i)=>{let n=t.getSelection().trim(),a=t.getLine(t.getCursor().line).trim();(n.includes("[!note-toolbar")||a.includes("[!note-toolbar"))&&e.addItem(l=>{l.setIcon("info").setTitle(s("import.option-help")).onClick(async()=>{window.open("https://github.com/chrisgurney/obsidian-note-toolbar/wiki/Note-Toolbar-Callouts","_blank")})}),n.includes("[!note-toolbar")&&e.addItem(l=>{l.setIcon("import").setTitle(s("import.option-create")).onClick(async()=>{let p=await Re(this,n);await this.settingsManager.addToolbar(p),await this.commands.openToolbarSettingsForId(p.uuid)})})};this.fileMenuHandler=(e,t)=>{if(this.settings.showToolbarInFileMenu){let i=this.app.workspace.getActiveFile();if(i&&t!==i){let n=this.app.metadataCache.getFileCache(t);if(n){let a=this.settingsManager.getMappedToolbar(n.frontmatter,t);a&&(T.Platform.isMobile?a&&this.renderMenuItems(e,a,t,1):e.addItem(l=>{l.setIcon(this.settings.icon).setTitle(a?a.name:"");let p=l.setSubmenu();a&&this.renderMenuItems(p,a,t)}))}}}}}async onload(){this.settingsManager=new Fo(this),await this.settingsManager.load(),this.app.workspace.onLayoutReady(()=>{(0,T.addIcon)("note-toolbar-empty",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" class="svg-icon note-toolbar-empty\u201D></svg>'),(0,T.addIcon)("note-toolbar-none",'<svg xmlns="http://www.w3.org/2000/svg" width="0" height="24" viewBox="0 0 0 24" fill="none" class="svg-icon note-toolbar-none"></svg>'),(0,T.addIcon)("note-toolbar-separator",'<path d="M23.4444 35.417H13.7222C8.35279 35.417 4 41.6988 4 44V55.5C4 57.8012 8.35279 64.5837 13.7222 64.5837H23.4444C28.8139 64.5837 33.1667 57.8012 33.1667 55.5L33.1667 44C33.1667 41.6988 28.8139 35.417 23.4444 35.417Z" fill="none" stroke="currentColor" stroke-width="7" stroke-linecap="round" stroke-linejoin="round"/><path d="M86.4444 35.417H76.7222C71.3528 35.417 67 41.6988 67 44V55.5C67 57.8012 71.3528 64.5837 76.7222 64.5837H86.4444C91.8139 64.5837 96.1667 57.8012 96.1667 55.5L96.1667 44C96.1667 41.6988 91.8139 35.417 86.4444 35.417Z" stroke="currentColor" stroke-width="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><path d="M49.8333 8.33301V91.6663" stroke="currentColor" stroke-width="7" stroke-linecap="round" stroke-linejoin="round"/>');let e=this.app.workspace.getActiveViewOfType(T.MarkdownView);this.updateActiveViewIds(),this.renderActiveToolbar(),T.Platform.isPhone&&this.addRibbonIcon(this.settings.icon,s("plugin.name"),t=>this.ribbonMenuHandler(t)),this.addSettingTab(new Mo(this.app,this)),this.registerEvent(this.app.workspace.on("active-leaf-change",this.leafChangeListener)),this.registerEvent(this.app.metadataCache.on("changed",this.metadataCacheListener)),this.registerEvent(this.app.workspace.on("layout-change",this.layoutChangeListener)),this.registerEvent(this.app.vault.on("rename",this.fileRenameListener)),this.registerEvent(this.app.workspace.on("window-open",t=>{this.registerDomEvent(t.doc,"click",i=>{this.calloutLinkHandler(i)})})),this.registerDomEvent(activeDocument,"click",t=>{t.target.matches(".cg-note-toolbar-container")||this.removeFocusStyle(),this.calloutLinkHandler(t)}),this.registerEvent(this.app.workspace.on("file-menu",this.fileMenuHandler)),this.registerEvent(this.app.workspace.on("editor-menu",this.editorMenuHandler)),this.commands=new Lo(this),this.addCommand({id:"copy-command-uri",name:s("command.name-copy-command-uri"),callback:async()=>this.commands.copyCommand(!1)}),this.addCommand({id:"copy-command-as-data-element",name:s("command.name-copy-command-as-data-element"),callback:async()=>this.commands.copyCommand(!0)}),this.addCommand({id:"focus",name:s("command.name-focus"),callback:async()=>this.commands.focus()}),this.addCommand({id:"open-item-suggester",name:s("command.name-item-suggester"),callback:async()=>this.commands.openItemSuggester()}),this.addCommand({id:"open-item-suggester-current",name:s("command.name-item-suggester-current"),icon:this.settings.icon,callback:async()=>{let t=this.getCurrentToolbar();t&&this.commands.openItemSuggester(t.uuid)}}),this.addCommand({id:"open-toolbar-suggester",name:s("command.name-toolbar-suggester"),callback:async()=>this.commands.openToolbarSuggester()}),this.addCommand({id:"open-settings",name:s("command.name-settings"),callback:async()=>this.commands.openSettings()}),this.addCommand({id:"open-toolbar-settings",name:s("command.name-toolbar-settings"),callback:async()=>this.commands.openToolbarSettings()}),this.addCommand({id:"show-properties",name:s("command.name-show-properties"),callback:async()=>this.commands.toggleProps("show")}),this.addCommand({id:"hide-properties",name:s("command.name-hide-properties"),callback:async()=>this.commands.toggleProps("hide")}),this.addCommand({id:"fold-properties",name:s("command.name-fold-properties"),callback:async()=>this.commands.toggleProps("fold")}),this.addCommand({id:"toggle-properties",name:s("command.name-toggle-properties"),callback:async()=>this.commands.toggleProps("toggle")}),this.commands.setupToolbarCommands(),this.protocolManager=new Uo(this),this.registerObsidianProtocolHandler("note-toolbar",async t=>this.protocolManager.handle(t)),this.app.workspace.trigger("parse-style-settings"),this.api=new Ro(this),(window.ntb=this.api)&&this.register(()=>delete window.ntb),this.registerView(we,t=>new Do(this,t)),this.checkPlugins(),this.updateAdapters()})}async onunload(){this.removeAllToolbars(),w("UNLOADED")}async onExternalSettingsChange(){w("onExternalSettingsChange()")}updateActiveViewIds(){let e=this.app.workspace.getActiveViewOfType(T.MarkdownView),t=rt(e);t&&!(t in this.activeViewIds)&&this.activeViewIds.push(t);let i=[];this.app.workspace.iterateAllLeaves(n=>{if(n.view instanceof T.MarkdownView){let a=rt(n.view);a&&i.push(a)}}),this.activeViewIds=this.activeViewIds.filter(n=>i.includes(n))}async checkAndRenderToolbar(e,t){let i=this.settingsManager.getMappedToolbar(t,e),n=this.removeToolbarIfNeeded(i);w("checkAndRenderToolbar()",i,n),i&&(n&&await this.renderToolbar(i,e),await this.updateToolbar(i,e))}async renderToolbar(e,t){var u,d,c,g,m,h;let i;T.Platform.isMobile?i=(c=(d=(u=e.position.mobile)==null?void 0:u.allViews)==null?void 0:d.position)!=null?c:"props":i=(h=(m=(g=e.position.desktop)==null?void 0:g.allViews)==null?void 0:m.position)!=null?h:"props";let n=this.app.workspace.getActiveViewOfType(T.MarkdownView),a=n instanceof T.MarkdownView?n.getMode():"";if(!n)switch(n=this.app.workspace.getActiveViewOfType(T.ItemView),n==null?void 0:n.containerEl.getAttribute("data-type")){case"canvas":case"empty":case"beautitab-react-view":case"home-tab-view":i==="props"&&(i="top");break;default:return}let l,p=activeDocument.createElement("div");switch(p.addClass("cg-note-toolbar-container"),e.uuid&&(p.id=e.uuid),p.setAttrs({"data-name":e.name,"data-tbar-position":i,"data-updated":e.updated,"data-view-mode":a,"data-csstheme":this.app.vault.getConfig("cssTheme")}),i){case"fabl":case"fabr":l=await this.renderToolbarAsFab(e,i),p.append(l),this.registerDomEvent(p,"click",f=>this.toolbarFabHandler(f,l)),e.defaultItem?this.registerDomEvent(l,"contextmenu",f=>{this.renderToolbarAsMenu(e,t,this.settings.showEditInFabMenu).then(v=>{navigator.vibrate(50),v.showAtPosition(f),f instanceof KeyboardEvent&&ni()})}):this.registerDomEvent(l,"contextmenu",f=>this.toolbarContextMenuHandler(f));break;case"bottom":case"props":case"top":l=await this.renderToolbarAsCallout(e,t);let b=activeDocument.createElement("div");b.append(l),p.addClasses(["cm-embed-block","cm-callout","cg-note-toolbar-bar-container"]),p.append(b),this.registerDomEvent(p,"contextmenu",f=>this.toolbarContextMenuHandler(f)),this.registerDomEvent(p,"keydown",f=>this.toolbarKeyboardHandler(f));break;case"hidden":default:break}switch(i){case"bottom":let b=".workspace-leaf.mod-active",f=activeDocument.querySelector(b);f?f.insertAdjacentElement("afterbegin",p):w(`\u{1F6D1} renderToolbar(): Unable to find ${b} to insert toolbar`);break;case"fabl":case"fabr":n==null||n.containerEl.appendChild(p);break;case"top":let v=n==null?void 0:n.containerEl.querySelector(".view-header");v?v.insertAdjacentElement("afterend",p):w("\u{1F6D1} renderToolbar(): Unable to find .view-header to insert toolbar");break;case"hidden":case"props":default:let E=this.getPropsEl();E||w("\u{1F6D1} renderToolbar(): Unable to find .metadata-container to insert toolbar"),E==null||E.insertAdjacentElement("afterend",p);break}w("\u2B50\uFE0F Rendered Toolbar in:",rt(n))}renderBottomToolbarStyles(e,t){let i=[];Zt(e,"wide","mwd")?i.push("width: 100%"):Zt(e,"right","mrght")?i.push("right: 0"):Zt(e,"left","mlft")?i.push("left: 0"):i.push(this.renderBottomLeftStyle(t)),t.setAttribute("style",i.join(";"))}renderBottomLeftStyle(e){let t=0,i=this.app.workspace.getActiveViewOfType(T.MarkdownView);return i||(i=this.app.workspace.getActiveViewOfType(T.ItemView)),`left: max(0%, calc(50% - calc(${e.offsetWidth}px / 2) + ${t}px))`}async renderToolbarAsCallout(e,t){let i=activeDocument.createElement("ul");i.setAttribute("role","menu");let n=await this.renderToolbarLItems(e,t);i.append(...n);let a=activeDocument.createElement("div");if(e.items.length>0){let l=activeDocument.createElement("div");l.className="callout-content",l.append(i),a.addClasses(["callout","cg-note-toolbar-callout"]),e.customClasses&&a.addClasses([...e.customClasses.split(" ")]),a.setAttribute("data-callout","note-toolbar"),a.setAttribute("data-callout-metadata",[...e.defaultStyles,...e.mobileStyles].join("-")),a.append(l)}return a}async renderToolbarLItems(e,t,i=0){if(i>=2)return[];let n=[],a=await this.resolveLabels(e,t);for(let l=0;l<e.items.length;l++){let p=e.items[l];if(p.label===""&&p.icon===""&&!["break","group","separator"].includes(p.linkAttr.type))continue;let u,[d,c,g]=xt(p.visibility);switch(p.linkAttr.type){case"break":case"separator":u=activeDocument.createElement("data"),u.setAttribute(p.linkAttr.type==="break"?"data-break":"data-sep",""),u.setAttribute("role","separator");break;case"group":let m=this.settingsManager.getToolbarById(p.link);if(m&&(T.Platform.isMobile&&c||T.Platform.isDesktop&&d)){let S=await this.renderToolbarLItems(m,t,i+1);n.push(...S)}break;default:u=activeDocument.createElement("span"),p.uuid&&(u.id=p.uuid),u.className="external-link",u.setAttrs({href:p.link,role:"link",rel:"noopener"}),u.tabIndex=0,Object.entries(p.linkAttr).forEach(([S,L])=>{u==null||u.setAttribute(`data-toolbar-link-attr-${S}`,L)}),p.tooltip&&(0,T.setTooltip)(u,p.tooltip,{placement:"top"}),this.registerDomEvent(u,"click",S=>this.toolbarClickHandler(S)),this.registerDomEvent(u,"auxclick",S=>this.toolbarClickHandler(S));let[h,b,f,v,E,I]=_i(p.visibility);if(u.addClass("cg-note-toolbar-item"),p.label)if(p.icon){let S=u.createSpan();this.setComponentDisplayClass(S,h,f),(0,T.setIcon)(S,p.icon);let L=u.createSpan();this.setComponentDisplayClass(L,b,v),L.innerText=a[l],L.addClass("cg-note-toolbar-item-label")}else this.setComponentDisplayClass(u,b,v),u.innerText=a[l],u.addClass("cg-note-toolbar-item-label");else this.setComponentDisplayClass(u,h,f),(0,T.setIcon)(u,p.icon);break}if(u){let m=activeDocument.createElement("li");c||m.addClass("hide-on-mobile"),d||m.addClass("hide-on-desktop"),m.append(u),n.push(m)}}return n}async resolveLabels(e,t){let i=[];for(let n of e.items){let a=await this.replaceVars(n.label,t);i.push(a)}return i}async renderToolbarAsFab(e,t){let i=activeDocument.createElement("div");i.addClass("cg-note-toolbar-fab-container"),i.setAttrs({role:"group","data-tbar-position":t});let n=activeDocument.createElement("button");n.addClass("cg-note-toolbar-fab"),n.setAttribute("data-fab-metadata",[...e.defaultStyles,...e.mobileStyles].join("-"));let a=e.defaultItem?this.settingsManager.getToolbarItemById(e.defaultItem):void 0;if(a){let l=this.app.workspace.getActiveFile(),p=a.label||a.tooltip;this.hasVars(p)&&(p=await this.replaceVars(p,l)),n.setAttribute("aria-label",p),(0,T.setIcon)(n,a.icon?a.icon:this.settings.icon)}else n.setAttribute("aria-label",e.name),(0,T.setIcon)(n,this.settings.icon);return i.append(n),i}async renderToolbarAsMenu(e,t,i=!1,n=!1){let a=new T.Menu;n&&(a.addItem(p=>{p.setTitle(e.name).setIsLabel(!0)}),a.addSeparator()),await this.renderMenuItems(a,e,t),i&&(a.addSeparator(),a.addItem(p=>{p.setTitle(s("toolbar.menu-edit-toolbar",{toolbar:e.name})).setIcon("rectangle-ellipsis").onClick(u=>{let d=new q(this.app,this,null,e);d.setTitle(s("setting.title-edit-toolbar",{toolbar:e.name})),d.open()})})),a.dom.addClass("note-toolbar-menu");let l=this.getCurrentToolbar();return l&&l.customClasses&&a.dom.addClasses([...l.customClasses.split(" ")]),a}async renderMenuItems(e,t,i,n=0){if(!(n>=2))for(let a of t.items){let[l,p,u]=xt(a.visibility);if(T.Platform.isMobile&&p||T.Platform.isDesktop&&l){let d=await this.getItemText(a,i);switch(a.linkAttr.type){case"break":case"separator":e.addSeparator();break;case"group":let c=this.settingsManager.getToolbarById(a.link);c&&await this.renderMenuItems(e,c,i,n+1);break;case"menu":if(!T.Platform.isMobile){if(n>=1)break;e.addItem(g=>{g.setIcon(a.icon&&(0,T.getIcon)(a.icon)?a.icon:"note-toolbar-empty").setTitle(d);let m=g.setSubmenu();m.dom.addClass("note-toolbar-menu");let h=this.getCurrentToolbar();h&&h.customClasses&&m.dom.addClasses([...h.customClasses.split(" ")]);let b=this.settingsManager.getToolbarById(a.link);b&&this.renderMenuItems(m,b,i,n+1)});break}default:if(this.hasVars(a.link)&&await this.replaceVars(a.link,i)==="")break;e.addItem(g=>{g.setIcon(a.icon&&(0,T.getIcon)(a.icon)?a.icon:"note-toolbar-empty").setTitle(d).onClick(async m=>{w(m,a.link,a.linkAttr,a.contexts),await this.handleItemLink(a,m,i),a.linkAttr.type!=="menu"&&(await this.removeFocusStyle(),await this.app.commands.executeCommandById("editor:focus"))})});break}}}}async renderActiveToolbar(){var t;let e=this.app.workspace.getActiveFile();if(e){let i=e?(t=this.app.metadataCache.getFileCache(e))==null?void 0:t.frontmatter:void 0;this.checkAndRenderToolbar(e,i)}else if(this.settings.emptyViewToolbar){let i=this.settingsManager.getToolbarById(this.settings.emptyViewToolbar);this.removeToolbarIfNeeded(i),i&&(await this.renderToolbar(i,null),await this.updateToolbar(i,null))}}setComponentDisplayClass(e,t,i){e.removeClasses(["hide","hide-on-desktop","hide-on-mobile"]),!t&&!i?e.addClass("hide"):(!t&&e.addClass("hide-on-desktop"),!i&&e.addClass("hide-on-mobile"))}async showMenuAtElement(e,t){w("showMenuAtElement()",t);let i;if(t){let n=t.getBoundingClientRect();i={x:n.x,y:n.bottom,overlap:!0,left:!1},localStorage.setItem("note-toolbar-menu-pos",JSON.stringify(i))}if(!i){let n=localStorage.getItem("note-toolbar-menu-pos");i=n?JSON.parse(n):void 0}i&&(e.showAtPosition(i),i.left||activeWindow.innerWidth-(i.x+e.dom.offsetWidth)<=2&&(w("\u2B05\uFE0F repositioned menu"),e.showAtPosition({x:activeWindow.innerWidth,y:i.y,overlap:!0,left:!0})))}async updateToolbar(e,t){let i=this.getToolbarEl(),n=this.settingsManager.getToolbarPosition(e);if(["fabl","fabr","hidden",void 0].contains(n))return;let a=i==null?void 0:i.getAttribute("data-name"),l=i==null?void 0:i.getAttribute("data-updated");if(i===null||e.name!==a||e.updated!==l)return;let p=Array.from(i.querySelectorAll(".callout-content > ul > li"));for(let u of p){let d=u.querySelector("span.external-link");if(!d)continue;let c=this.settingsManager.getToolbarItemById(d.id);if(c&&d.id===c.uuid){if(this.hasVars(c.link))if(await this.replaceVars(c.link,t)===""){u.addClass("hide");continue}else u.removeClass("hide");if(this.hasVars(c.tooltip)){let g=await this.replaceVars(c.tooltip,t);(0,T.setTooltip)(d,g,{placement:"top"})}if(this.hasVars(c.label)){let g=await this.replaceVars(c.label,t),m=u.querySelector(".cg-note-toolbar-item-label");g?(m==null||m.removeClass("hide"),m==null||m.setText(g)):(m==null||m.addClass("hide"),m==null||m.setText(""))}}}n==="bottom"&&this.renderBottomToolbarStyles(e,i)}async calloutLinkHandler(e){var n,a,l,p,u,d;let t=e.target,i=t==null?void 0:t.closest('.callout[data-callout="note-toolbar"] a.external-link');if(i){this.lastCalloutLink=i;let c=i==null?void 0:i.nextElementSibling;if(c){let g=Object.values(Yo).find(h=>c==null?void 0:c.hasAttribute(h));g&&e.preventDefault();let m=g?c==null?void 0:c.getAttribute(g):null;switch(g){case"data-command":case"data-ntb-command":this.handleLinkCommand(m);break;case"data-dataview":case"data-js-engine":case"data-templater-obsidian":let h={pluginFunction:m,expression:(n=c==null?void 0:c.getAttribute(ee.expression))!=null?n:void 0,sourceFile:(a=c==null?void 0:c.getAttribute(ee.sourceFile))!=null?a:void 0,sourceFunction:(l=c==null?void 0:c.getAttribute(ee.sourceFunction))!=null?l:void 0,sourceArgs:(p=c==null?void 0:c.getAttribute(ee.sourceArgs))!=null?p:void 0,outputContainer:(u=c==null?void 0:c.getAttribute(ee.outputContainer))!=null?u:void 0,outputFile:(d=c==null?void 0:c.getAttribute(ee.outputFile))!=null?d:void 0};switch(g){case"data-dataview":this.handleLinkScript("dataview",h);break;case"data-js-engine":this.handleLinkScript("js-engine",h);break;case"data-templater-obsidian":this.handleLinkScript("templater-obsidian",h);break}break;case"data-folder":case"data-ntb-folder":this.handleLinkFolder(m);break;case"data-menu":case"data-ntb-menu":let b=this.app.workspace.getActiveFile(),f=this.settingsManager.getToolbarByName(m);f=f||this.settingsManager.getToolbarById(m),b&&(f?this.renderToolbarAsMenu(f,b).then(v=>{this.showMenuAtElement(v,this.lastCalloutLink)}):new T.Notice(s("notice.error-item-menu-not-found",{toolbar:m})));break}}}}async handleItemLink(e,t,i){await this.handleLink(e.uuid,e.link,e.linkAttr.type,e.linkAttr.commandId,t,i)}async handleItemScript(e){e&&(e!=null&&e.scriptConfig)&&await this.handleLinkScript(e.linkAttr.type,e.scriptConfig)}async handleLink(e,t,i,n,a,l){var d,c;this.app.workspace.trigger("note-toolbar:item-activated","test");let p=this.app.workspace.getActiveFile(),u=this.settingsManager.getToolbarItemById(e);switch(this.hasVars(t)&&(t=await this.replaceVars(t,p),w("- uri vars replaced: ",t)),i){case"command":l&&l!==p?this.handleLinkInSidebar(u,l):this.handleLinkCommand(n);break;case"file":let g=p?p.path:"";w("- openLinkText: ",t," from: ",g);let m=this.app.vault.getAbstractFileByPath(t);m instanceof T.TFolder?this.app.internalPlugins.getEnabledPluginById("file-explorer").revealInFolder(m):this.app.workspace.openLinkText(t,g,ii(a));break;case"menu":let h=this.settingsManager.getToolbarById(t);w("- menu item for toolbar",h,p),h?this.renderToolbarAsMenu(h,p).then(b=>{let f=(a==null?void 0:a.targetNode).closest(".external-link");this.showMenuAtElement(b,f),a instanceof KeyboardEvent&&ni()}):h||new T.Notice(s("notice.error-item-menu-not-found",{toolbar:t}));break;case"dataview":case"js-engine":case"templater-obsidian":this.updateAdapters(),this.settings.scriptingEnabled?l&&l!==p?await this.handleLinkInSidebar(u,l):await this.handleItemScript(u):new T.Notice(s("notice.error-scripting-not-enabled"));break;case"uri":if(Ri(t))window.open(t,"_blank");else{let b=(c=(d=this.app.workspace.getActiveFile())==null?void 0:d.path)!=null?c:"";this.app.workspace.openLinkText(t,b,ii(a))}break}}async handleLinkCommand(e){if(e){if(!(e in this.app.commands.commands)){new T.Notice(s("notice.error-command-not-found",{command:e}));return}try{await this.app.commands.executeCommandById(e)}catch(t){console.error(t),new T.Notice(t)}}}async handleLinkScript(e,t){var a,l,p;if(!this.getAdapterForItemType(e)){new T.Notice(s("notice.error-scripting-plugin-not-enabled",{plugin:St[e]}));return}let n;switch(e){case"dataview":n=await((a=this.dvAdapter)==null?void 0:a.use(t));break;case"js-engine":n=await((l=this.jsAdapter)==null?void 0:l.use(t));break;case"templater-obsidian":n=await((p=this.tpAdapter)==null?void 0:p.use(t));break}n&&Hi(this.app,n),await this.app.commands.executeCommandById("editor:focus")}async handleLinkInSidebar(e,t){let i=this.app.workspace.getRightLeaf(!1),n=this.app.workspace.getActiveViewOfType(T.MarkdownView),a=n?n.editor:null;if(i){switch(await i.openFile(t),e==null?void 0:e.linkAttr.type){case"command":let l=e==null?void 0:e.linkAttr.commandId;if(!(l in this.app.commands.commands)){new T.Notice(s("notice.error-command-not-found",{command:l}));return}try{await this.app.commands.executeCommandById(l)}catch(p){console.error(p),new T.Notice(p)}break;case"dataview":case"js-engine":case"templater-obsidian":await this.handleItemScript(e);break}i.detach(),a&&a.focus()}}async handleLinkFolder(e){let t=e?this.app.vault.getAbstractFileByPath(e):void 0;t instanceof T.TFolder?this.app.internalPlugins.getEnabledPluginById("file-explorer").revealInFolder(t):new T.Notice(s("notice.error-folder-not-found",{folder:e}))}async ribbonMenuHandler(e){var t;switch(this.settings.ribbonAction){case"item-suggester":await this.commands.openItemSuggester();break;case"toolbar-suggester":await this.commands.openToolbarSuggester();break;case"toolbar":let i=this.app.workspace.getActiveFile();if(i){let n=i?(t=this.app.metadataCache.getFileCache(i))==null?void 0:t.frontmatter:void 0,a=this.settingsManager.getMappedToolbar(n,i);a&&this.renderToolbarAsMenu(a,i,this.settings.showEditInFabMenu).then(l=>{l.showAtPosition(e)})}break}}async toolbarFabHandler(e,t){var a;e.preventDefault();let i=this.app.workspace.getActiveFile(),n;if(i){let l=i?(a=this.app.metadataCache.getFileCache(i))==null?void 0:a.frontmatter:void 0;n=this.settingsManager.getMappedToolbar(l,i)}else{let l=this.app.workspace.getActiveViewOfType(T.ItemView);switch(l==null?void 0:l.containerEl.getAttribute("data-type")){case"canvas":case"empty":case"beautitab-react-view":case"home-tab-view":this.settings.emptyViewToolbar&&(n=this.settingsManager.getToolbarById(this.settings.emptyViewToolbar));break;default:return}}if(n)if(n.defaultItem){let l=this.settingsManager.getToolbarItemById(n.defaultItem);l?await this.handleItemLink(l,e,i):new T.Notice(s("setting.position.notice-defaultitem-invalid"))}else this.renderToolbarAsMenu(n,i,this.settings.showEditInFabMenu).then(l=>{let p=this.getToolbarFabEl();if(p){let u=p.getAttribute("data-tbar-position"),d=t.getBoundingClientRect(),c={x:u==="fabl"?d.x:d.x+d.width,y:d.top-4,overlap:!0,left:u!=="fabl"};localStorage.setItem("note-toolbar-menu-pos",JSON.stringify(c)),l.showAtPosition(c)}})}async toolbarKeyboardHandler(e){var i,n,a;w("toolbarKeyboardHandler: ",e);let t=this.getToolbarListEl();if(t){e.key&&["ArrowRight","ArrowDown","ArrowLeft","ArrowUp","Enter","Shift","Tab"," "].includes(e.key)&&e.preventDefault();let p=Array.from(t.children).filter(g=>{let m=g.querySelector("span")!==null,h=window.getComputedStyle(g).getPropertyValue("display")!=="none";return m&&h}),u=(i=activeDocument.activeElement)==null?void 0:i.parentElement,d=p.indexOf(u),c=e.key;switch(e.key==="Tab"&&(c=e.shiftKey?"ArrowLeft":"ArrowRight"),c){case"ArrowRight":case"ArrowDown":let g=(d+1)%p.length;w(u),u.removeClass("tbar-item-focused"),p[g].addClass("tbar-item-focused"),(n=p[g].querySelector("span"))==null||n.focus();break;case"ArrowLeft":case"ArrowUp":let m=(d-1+p.length)%p.length;u.removeClass("tbar-item-focused"),p[m].addClass("tbar-item-focused"),(a=p[m].querySelector("span"))==null||a.focus();break;case"Enter":case" ":let h=activeDocument==null?void 0:activeDocument.activeElement,b=this.settingsManager.getToolbarItemById(h==null?void 0:h.id);b&&await this.handleItemLink(b,e);break;case"Escape":let f=this.app.workspace.getActiveViewOfType(T.MarkdownView);(f==null?void 0:f.getMode())==="preview"&&(activeDocument==null?void 0:activeDocument.activeElement).blur(),u.tagName==="LI"&&u.closest(".cg-note-toolbar-callout")?u.addClass("tbar-item-focused"):await this.removeFocusStyle();break}}}async removeFocusStyle(){let e=this.getToolbarListEl();e&&Array.from(e.children).forEach(t=>{t.removeClass("tbar-item-focused")})}async toolbarClickHandler(e){if(e.type==="click"||e.type==="auxclick"&&e.button===1){let t=e.currentTarget,i=t.getAttribute("href");if(i!=null){let n=t.id,a=t.getAttribute("data-toolbar-link-attr-type");a&&Object.values(ne).includes(a)&&e.preventDefault();let l=t.getAttribute("data-toolbar-link-attr-commandid");(e==null?void 0:e.pointerType)==="mouse"&&(t.blur(),await this.removeFocusStyle()),await this.handleLink(n,i,a,l,e)}}}async toolbarContextMenuHandler(e){e.preventDefault();let t=e.target.closest(".cg-note-toolbar-container"),i=t!=null&&t.id?this.settingsManager.getToolbarById(t.id):void 0,n=e.target.closest(".cg-note-toolbar-item"),a=n!=null&&n.id?this.settingsManager.getToolbarItemById(n.id):void 0,l=new T.Menu;if(i!==void 0){let p=l;T.Platform.isTablet||l.addItem(c=>{c.setTitle(s("toolbar.menu-position")),c.setIcon("move"),p=c.setSubmenu()});let u=this.settingsManager.getToolbarPosition(i);u!=="top"&&p.addItem(c=>{c.setTitle(s("setting.position.option-top")).setIcon("arrow-up-to-line").onClick(g=>this.setPosition(i,"top"))}),u!=="props"&&p.addItem(c=>{c.setTitle(s("setting.position.option-props")).setIcon("arrow-down-narrow-wide").onClick(g=>this.setPosition(i,"props"))}),u!=="bottom"&&p.addItem(c=>{c.setTitle(s("setting.position.option-bottom")).setIcon("arrow-down-to-line").onClick(g=>this.setPosition(i,"bottom"))}),u!=="fabl"&&p.addItem(c=>{c.setTitle(s("setting.position.option-fabl")).setIcon("circle-chevron-left").onClick(g=>this.setPosition(i,"fabl"))}),u!=="fabr"&&p.addItem(c=>{c.setTitle(s("setting.position.option-fabr")).setIcon("circle-chevron-right").onClick(g=>this.setPosition(i,"fabr"))}),T.Platform.isTablet&&l.addSeparator(),l.addItem(c=>{c.setIcon("palette").setTitle(s("toolbar.menu-style")).onClick(async()=>{i&&new Gt(this.app,this,i).open()})});let d=this.getPropsEl();d&&(getComputedStyle(d).getPropertyValue("display")==="none"?l.addItem(g=>{g.setTitle(s("toolbar.menu-show-properties")).setIcon("table-properties").onClick(async m=>this.commands.toggleProps("show"))}):l.addItem(g=>{g.setTitle(s("toolbar.menu-hide-properties")).setIcon("table-properties").onClick(async m=>this.commands.toggleProps("hide"))})),l.addSeparator(),l.addItem(c=>{c.setIcon("share").setTitle(s("export.label-share")).onClick(async()=>{if(i){let g=await this.protocolManager.getShareUri(i);new wt(this,g,i).open()}})}),l.addItem(c=>{c.setTitle(s("export.label-callout")).setIcon("copy").onClick(async g=>{if(i){let m=await He(this,i,this.settings.export);navigator.clipboard.writeText(m),new T.Notice(F(s("export.notice-completed"),"Creating-callouts-from-toolbars"))}})})}if(l.addSeparator(),a){let p=this.app.workspace.getActiveFile(),u=await this.getItemText(a,p);l.addItem(d=>{d.setIcon("lucide-pen-box").setTitle(u?s("toolbar.menu-edit-item",{text:u}):s("toolbar.menu-edit-item_none")).onClick(async()=>{i&&new ze(this.app,this,i,a).open()})})}i!==void 0&&l.addItem(p=>{p.setTitle(s("toolbar.menu-edit-toolbar",{toolbar:i==null?void 0:i.name})).setIcon("rectangle-ellipsis").onClick(u=>{let d=new q(this.app,this,null,i);d.setTitle(s("setting.title-edit-toolbar",{toolbar:i==null?void 0:i.name})),d.open()})}),l.addItem(p=>{p.setTitle(s("toolbar.menu-toolbar-settings")).setIcon("gear").onClick(u=>{this.commands.openSettings()})}),navigator.vibrate(50),l.showAtPosition(e)}async setPosition(e,t){e!=null&&e.position&&(T.Platform.isDesktop?e.position.desktop={allViews:{position:t}}:e.position.mobile={allViews:{position:t}},e.updated=new Date().toISOString(),await this.settingsManager.save())}getPropsEl(){let e=this.app.workspace.getActiveViewOfType(T.MarkdownView),t=activeDocument.querySelector(".workspace-leaf.mod-active .markdown-"+(e==null?void 0:e.getMode())+"-view .metadata-container");return this.hasPlugin["make-md"]&&(t!=null&&t.closest(".mk-frame-edit"))?null:t}getOutputEl(e){let t=this.app.workspace.getActiveViewOfType(T.MarkdownView);return activeDocument.querySelector(".workspace-leaf.mod-active .markdown-"+(t==null?void 0:t.getMode())+'-view .callout[data-callout="note-toolbar-output"][data-callout-metadata*="'+e+'"]')}getToolbarEl(){return activeDocument.querySelector(".workspace-leaf.mod-active .cg-note-toolbar-container")}getToolbarListEl(){return activeDocument.querySelector(".workspace-leaf.mod-active .cg-note-toolbar-container .callout-content > ul")}getToolbarFabEl(){return activeDocument.querySelector(".cg-note-toolbar-fab-container")}async removeActiveToolbar(){let e=activeDocument.querySelector(".workspace-leaf.mod-active .cg-note-toolbar-container");e==null||e.remove()}async removeAllToolbars(){activeDocument.querySelectorAll(".cg-note-toolbar-container").forEach(t=>{t.remove()})}removeToolbarIfNeeded(e){let t=!1,i=this.getToolbarEl(),n=this.app.workspace.getActiveViewOfType(T.MarkdownView);if(i){let a=i==null?void 0:i.getAttribute("data-name"),l=i.getAttribute("data-updated"),p=i.nextElementSibling,u=i.getAttribute("data-view-mode");e?e.name!==a?(w("\u26D4\uFE0F removing existing toolbar (name does not match): "+a),t=!0):e.updated!==l?(w("\u26D4\uFE0F existing toolbar out of date, removing existing toolbar"),t=!0):p!=null&&p.hasClass("inline-title")?(w("\u26D4\uFE0F toolbar not in correct position (sibling is `inline-title`), removing existing toolbar"),t=!0):(n==null?void 0:n.getMode())!==u&&(w("\u26D4\uFE0F toolbar not for correct view mode"),t=!0):(w("\u26D4\uFE0F toolbar not needed, removing existing toolbar: "+a),t=!0),t&&(i.remove(),i=null)}else w("\u26D4\uFE0F no existing toolbar"),t=!0;return t}checkPlugins(){Object.keys(this.hasPlugin).forEach(e=>{this.hasPlugin[e]=e in this.app.plugins.plugins})}getAdapterForItemType(e){let t;switch(e){case"dataview":t=this.hasPlugin.dataview?this.dvAdapter:void 0;break;case"js-engine":t=this.hasPlugin["js-engine"]?this.jsAdapter:void 0;break;case"templater-obsidian":t=this.hasPlugin["templater-obsidian"]?this.tpAdapter:void 0;break}return t}getCurrentToolbar(){let e=this.getToolbarEl();return e?this.settingsManager.getToolbarById(e==null?void 0:e.id):void 0}async getItemText(e,t){return e.label?this.hasVars(e.label)?await this.replaceVars(e.label,t):e.label:this.hasVars(e.tooltip)?await this.replaceVars(e.tooltip,t):e.tooltip}hasVars(e){var i;let t=/{{.*?}}/g.test(e);if(!t&&this.hasPlugin.dataview){let n=(i=this.dvAdapter)==null?void 0:i.getSetting("inlineQueryPrefix");t=!!n&&e.trim().startsWith(n),t||(t=e.trim().startsWith("{{dv:"))}return!t&&this.hasPlugin["templater-obsidian"]&&(t=e.trim().startsWith("<%"),t||(t=e.trim().startsWith("{{tp:"))),t}async replaceVars(e,t,i=!1){var l,p,u,d;let n=t==null?void 0:t.basename;n!=null&&(e=e.replace("{{note_title}}",i?encodeURIComponent(n):n));let a=t?(l=this.app.metadataCache.getFileCache(t))==null?void 0:l.frontmatter:void 0;if(e=e.replace(/{{prop_(.*?)}}/g,(c,g)=>{let m=g.trim();if(a&&a[m]!==void 0){let h=/\[\[([^\|\]]+)(?:\|[^\]]*)?\]\]/g,b=Array.isArray(a[m])?a[m].join(","):a[m];return b?i?encodeURIComponent(b==null?void 0:b.replace(h,"$1")):b.replace(h,"$1"):""}else return""}),this.hasPlugin.dataview){let c=(p=this.dvAdapter)==null?void 0:p.getSetting("inlineQueryPrefix");if(c&&e.trim().startsWith(c)||e.trim().startsWith("{{dv:")){e.trim().startsWith("{{dv:")&&(e=e.replace(/^{{dv:\s*|\s*}}$/g,"")),c&&(e=e.trim().slice(c.length));let g=await((u=this.dvAdapter)==null?void 0:u.use({pluginFunction:"evaluateInline",expression:e}));e=g&&typeof g=="string"?g:""}}if(this.hasPlugin["templater-obsidian"]&&(e.trim().startsWith("<%")||e.trim().startsWith("{{tp:"))){e.trim().startsWith("{{tp:")&&(e=e.replace(/^{{tp:\s*|\s*}}$/g,"")),e=e.trim(),e.startsWith("<%")||(e="<%"+e),e.endsWith("%>")||(e+="%>");let c=await((d=this.tpAdapter)==null?void 0:d.use({pluginFunction:"parseTemplateInline",expression:e}));e=c&&typeof c=="string"?c:""}return e}toolbarHasVars(e){return e.items.some(t=>this.hasVars([t.label,t.tooltip,t.link].join(" ")))}updateAdapters(){var e,t,i;this.settings.scriptingEnabled?(this.checkPlugins(),this.dvAdapter=this.hasPlugin.dataview?this.dvAdapter||new Wt(this):void 0,this.jsAdapter=this.hasPlugin["js-engine"]?this.jsAdapter||new $t(this):void 0,this.tpAdapter=this.hasPlugin["templater-obsidian"]?this.tpAdapter||new jt(this):void 0):((e=this.dvAdapter)==null||e.disable(),(t=this.jsAdapter)==null||t.disable(),(i=this.tpAdapter)==null||i.disable(),this.dvAdapter=void 0,this.jsAdapter=void 0,this.tpAdapter=void 0)}};
/*! Bundled license information:

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.3
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/

/* nosourcemap */